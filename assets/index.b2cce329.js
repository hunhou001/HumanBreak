var Be=Object.defineProperty;var we=(e,t,o)=>t in e?Be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var pe=(e,t,o)=>(we(e,typeof t!="symbol"?t+"":t,o),o);var ke=(e,t,o)=>(t=e[Symbol.asyncIterator],o=(n,s)=>(s=e[n])&&(t[n]=a=>new Promise((r,l,f)=>(a=s.call(e,a),f=a.done,Promise.resolve(a.value).then(c=>r({value:c,done:f}),l)))),t?t.call(e):(e=e[Symbol.iterator](),t={},o("next"),o("return"),t));import{m as message,r as ref,d as defineComponent,o as onMounted,a as onUpdated,b as createElementBlock,u as unref,e as onUnmounted,f as openBlock,g as createBaseVNode,t as toDisplayString,h as createVNode,F as Fragment,i as renderList,n as normalizeStyle,j as createTextVNode,_ as __unplugin_components_0,k as renderSlot,w as withCtx,l as createBlock,p as resolveDynamicComponent,q as pushScopeId,s as popScopeId,v as computed,x as watch,y as __unplugin_components_0$1,z as reactive,A as withModifiers,T as Transition,B as createCommentVNode,L as LeftOutlined,R as RightOutlined,C as __unplugin_components_1,S as SortAscendingOutlined,D as SortDescendingOutlined,E as SelectOption,G as __unplugin_components_0$2,H as DoubleLeftOutlined,I as DoubleRightOutlined,J as __unplugin_components_0$3,K as shallowReactive,M as markRaw,N as DragOutlined,O as SoundOutlined,P as FullscreenOutlined,Q as FullscreenExitOutlined,U as TransitionGroup,V as nextTick,W as createApp}from"./antdv.40889ba9.js";import{l as lodash,R,S,C as Chart,r as registerables,a as C,I,j,O,Y}from"./common.2bb356dd.js";function __vite_legacy_guard(){import("data:text/javascript,")}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function o(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=o(s);fetch(s.href,a)}})();const _default="",index$6="";var KeyCode=(e=>(e[e.DependsOnKbLayout=-1]="DependsOnKbLayout",e[e.Unknown=0]="Unknown",e[e.Backspace=1]="Backspace",e[e.Tab=2]="Tab",e[e.Enter=3]="Enter",e[e.Shift=4]="Shift",e[e.Ctrl=5]="Ctrl",e[e.Alt=6]="Alt",e[e.PauseBreak=7]="PauseBreak",e[e.CapsLock=8]="CapsLock",e[e.Escape=9]="Escape",e[e.Space=10]="Space",e[e.PageUp=11]="PageUp",e[e.PageDown=12]="PageDown",e[e.End=13]="End",e[e.Home=14]="Home",e[e.LeftArrow=15]="LeftArrow",e[e.UpArrow=16]="UpArrow",e[e.RightArrow=17]="RightArrow",e[e.DownArrow=18]="DownArrow",e[e.Insert=19]="Insert",e[e.Delete=20]="Delete",e[e.Digit0=21]="Digit0",e[e.Digit1=22]="Digit1",e[e.Digit2=23]="Digit2",e[e.Digit3=24]="Digit3",e[e.Digit4=25]="Digit4",e[e.Digit5=26]="Digit5",e[e.Digit6=27]="Digit6",e[e.Digit7=28]="Digit7",e[e.Digit8=29]="Digit8",e[e.Digit9=30]="Digit9",e[e.KeyA=31]="KeyA",e[e.KeyB=32]="KeyB",e[e.KeyC=33]="KeyC",e[e.KeyD=34]="KeyD",e[e.KeyE=35]="KeyE",e[e.KeyF=36]="KeyF",e[e.KeyG=37]="KeyG",e[e.KeyH=38]="KeyH",e[e.KeyI=39]="KeyI",e[e.KeyJ=40]="KeyJ",e[e.KeyK=41]="KeyK",e[e.KeyL=42]="KeyL",e[e.KeyM=43]="KeyM",e[e.KeyN=44]="KeyN",e[e.KeyO=45]="KeyO",e[e.KeyP=46]="KeyP",e[e.KeyQ=47]="KeyQ",e[e.KeyR=48]="KeyR",e[e.KeyS=49]="KeyS",e[e.KeyT=50]="KeyT",e[e.KeyU=51]="KeyU",e[e.KeyV=52]="KeyV",e[e.KeyW=53]="KeyW",e[e.KeyX=54]="KeyX",e[e.KeyY=55]="KeyY",e[e.KeyZ=56]="KeyZ",e[e.Meta=57]="Meta",e[e.ContextMenu=58]="ContextMenu",e[e.F1=59]="F1",e[e.F2=60]="F2",e[e.F3=61]="F3",e[e.F4=62]="F4",e[e.F5=63]="F5",e[e.F6=64]="F6",e[e.F7=65]="F7",e[e.F8=66]="F8",e[e.F9=67]="F9",e[e.F10=68]="F10",e[e.F11=69]="F11",e[e.F12=70]="F12",e[e.F13=71]="F13",e[e.F14=72]="F14",e[e.F15=73]="F15",e[e.F16=74]="F16",e[e.F17=75]="F17",e[e.F18=76]="F18",e[e.F19=77]="F19",e[e.NumLock=78]="NumLock",e[e.ScrollLock=79]="ScrollLock",e[e.Semicolon=80]="Semicolon",e[e.Equal=81]="Equal",e[e.Comma=82]="Comma",e[e.Minus=83]="Minus",e[e.Period=84]="Period",e[e.Slash=85]="Slash",e[e.Backquote=86]="Backquote",e[e.BracketLeft=87]="BracketLeft",e[e.Backslash=88]="Backslash",e[e.BracketRight=89]="BracketRight",e[e.Quote=90]="Quote",e[e.OEM_8=91]="OEM_8",e[e.IntlBackslash=92]="IntlBackslash",e[e.Numpad0=93]="Numpad0",e[e.Numpad1=94]="Numpad1",e[e.Numpad2=95]="Numpad2",e[e.Numpad3=96]="Numpad3",e[e.Numpad4=97]="Numpad4",e[e.Numpad5=98]="Numpad5",e[e.Numpad6=99]="Numpad6",e[e.Numpad7=100]="Numpad7",e[e.Numpad8=101]="Numpad8",e[e.Numpad9=102]="Numpad9",e[e.NumpadMultiply=103]="NumpadMultiply",e[e.NumpadAdd=104]="NumpadAdd",e[e.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",e[e.NumpadSubtract=106]="NumpadSubtract",e[e.NumpadDecimal=107]="NumpadDecimal",e[e.NumpadDivide=108]="NumpadDivide",e[e.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",e[e.ABNT_C1=110]="ABNT_C1",e[e.ABNT_C2=111]="ABNT_C2",e[e.AudioVolumeMute=112]="AudioVolumeMute",e[e.AudioVolumeUp=113]="AudioVolumeUp",e[e.AudioVolumeDown=114]="AudioVolumeDown",e[e.BrowserSearch=115]="BrowserSearch",e[e.BrowserHome=116]="BrowserHome",e[e.BrowserBack=117]="BrowserBack",e[e.BrowserForward=118]="BrowserForward",e[e.MediaTrackNext=119]="MediaTrackNext",e[e.MediaTrackPrevious=120]="MediaTrackPrevious",e[e.MediaStop=121]="MediaStop",e[e.MediaPlayPause=122]="MediaPlayPause",e[e.LaunchMediaPlayer=123]="LaunchMediaPlayer",e[e.LaunchMail=124]="LaunchMail",e[e.LaunchApp2=125]="LaunchApp2",e[e.Clear=126]="Clear",e[e.MAX_VALUE=127]="MAX_VALUE",e))(KeyCode||{});class KeyCodeStrMap{constructor(){pe(this,"_keyCodeToStr");pe(this,"_strToKeyCode");this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(t,o){this._keyCodeToStr[t]=o,this._strToKeyCode[o.toLowerCase()]=t}keyCodeToStr(t){return this._keyCodeToStr[t]}strToKeyCode(t){return this._strToKeyCode[t.toLowerCase()]||0}}const uiMap=new KeyCodeStrMap,userSettingsUSMap=new KeyCodeStrMap,userSettingsGeneralMap=new KeyCodeStrMap,EVENT_KEY_CODE_MAP=new Array(230),scanCodeStrToInt=Object.create(null),scanCodeLowerCaseStrToInt=Object.create(null);(function(){const e="",t=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",e,e],[0,1,1,"Hyper",0,e,0,e,e,e],[0,1,2,"Super",0,e,0,e,e,e],[0,1,3,"Fn",0,e,0,e,e,e],[0,1,4,"FnLock",0,e,0,e,e,e],[0,1,5,"Suspend",0,e,0,e,e,e],[0,1,6,"Resume",0,e,0,e,e,e],[0,1,7,"Turbo",0,e,0,e,e,e],[0,1,8,"Sleep",0,e,0,"VK_SLEEP",e,e],[0,1,9,"WakeUp",0,e,0,e,e,e],[31,0,10,"KeyA",31,"A",65,"VK_A",e,e],[32,0,11,"KeyB",32,"B",66,"VK_B",e,e],[33,0,12,"KeyC",33,"C",67,"VK_C",e,e],[34,0,13,"KeyD",34,"D",68,"VK_D",e,e],[35,0,14,"KeyE",35,"E",69,"VK_E",e,e],[36,0,15,"KeyF",36,"F",70,"VK_F",e,e],[37,0,16,"KeyG",37,"G",71,"VK_G",e,e],[38,0,17,"KeyH",38,"H",72,"VK_H",e,e],[39,0,18,"KeyI",39,"I",73,"VK_I",e,e],[40,0,19,"KeyJ",40,"J",74,"VK_J",e,e],[41,0,20,"KeyK",41,"K",75,"VK_K",e,e],[42,0,21,"KeyL",42,"L",76,"VK_L",e,e],[43,0,22,"KeyM",43,"M",77,"VK_M",e,e],[44,0,23,"KeyN",44,"N",78,"VK_N",e,e],[45,0,24,"KeyO",45,"O",79,"VK_O",e,e],[46,0,25,"KeyP",46,"P",80,"VK_P",e,e],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",e,e],[48,0,27,"KeyR",48,"R",82,"VK_R",e,e],[49,0,28,"KeyS",49,"S",83,"VK_S",e,e],[50,0,29,"KeyT",50,"T",84,"VK_T",e,e],[51,0,30,"KeyU",51,"U",85,"VK_U",e,e],[52,0,31,"KeyV",52,"V",86,"VK_V",e,e],[53,0,32,"KeyW",53,"W",87,"VK_W",e,e],[54,0,33,"KeyX",54,"X",88,"VK_X",e,e],[55,0,34,"KeyY",55,"Y",89,"VK_Y",e,e],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",e,e],[22,0,36,"Digit1",22,"1",49,"VK_1",e,e],[23,0,37,"Digit2",23,"2",50,"VK_2",e,e],[24,0,38,"Digit3",24,"3",51,"VK_3",e,e],[25,0,39,"Digit4",25,"4",52,"VK_4",e,e],[26,0,40,"Digit5",26,"5",53,"VK_5",e,e],[27,0,41,"Digit6",27,"6",54,"VK_6",e,e],[28,0,42,"Digit7",28,"7",55,"VK_7",e,e],[29,0,43,"Digit8",29,"8",56,"VK_8",e,e],[30,0,44,"Digit9",30,"9",57,"VK_9",e,e],[21,0,45,"Digit0",21,"0",48,"VK_0",e,e],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",e,e],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",e,e],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",e,e],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",e,e],[10,1,50,"Space",10,"Space",32,"VK_SPACE",e,e],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,e,0,e,e,e],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",e,e],[59,1,64,"F1",59,"F1",112,"VK_F1",e,e],[60,1,65,"F2",60,"F2",113,"VK_F2",e,e],[61,1,66,"F3",61,"F3",114,"VK_F3",e,e],[62,1,67,"F4",62,"F4",115,"VK_F4",e,e],[63,1,68,"F5",63,"F5",116,"VK_F5",e,e],[64,1,69,"F6",64,"F6",117,"VK_F6",e,e],[65,1,70,"F7",65,"F7",118,"VK_F7",e,e],[66,1,71,"F8",66,"F8",119,"VK_F8",e,e],[67,1,72,"F9",67,"F9",120,"VK_F9",e,e],[68,1,73,"F10",68,"F10",121,"VK_F10",e,e],[69,1,74,"F11",69,"F11",122,"VK_F11",e,e],[70,1,75,"F12",70,"F12",123,"VK_F12",e,e],[0,1,76,"PrintScreen",0,e,0,e,e,e],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",e,e],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",e,e],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",e,e],[14,1,80,"Home",14,"Home",36,"VK_HOME",e,e],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",e,e],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",e,e],[13,1,83,"End",13,"End",35,"VK_END",e,e],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",e,e],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",e],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",e],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",e],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",e],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",e,e],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",e,e],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",e,e],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",e,e],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",e,e],[3,1,94,"NumpadEnter",3,e,0,e,e,e],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",e,e],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",e,e],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",e,e],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",e,e],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",e,e],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",e,e],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",e,e],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",e,e],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",e,e],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",e,e],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",e,e],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",e,e],[58,1,107,"ContextMenu",58,"ContextMenu",93,e,e,e],[0,1,108,"Power",0,e,0,e,e,e],[0,1,109,"NumpadEqual",0,e,0,e,e,e],[71,1,110,"F13",71,"F13",124,"VK_F13",e,e],[72,1,111,"F14",72,"F14",125,"VK_F14",e,e],[73,1,112,"F15",73,"F15",126,"VK_F15",e,e],[74,1,113,"F16",74,"F16",127,"VK_F16",e,e],[75,1,114,"F17",75,"F17",128,"VK_F17",e,e],[76,1,115,"F18",76,"F18",129,"VK_F18",e,e],[77,1,116,"F19",77,"F19",130,"VK_F19",e,e],[0,1,117,"F20",0,e,0,"VK_F20",e,e],[0,1,118,"F21",0,e,0,"VK_F21",e,e],[0,1,119,"F22",0,e,0,"VK_F22",e,e],[0,1,120,"F23",0,e,0,"VK_F23",e,e],[0,1,121,"F24",0,e,0,"VK_F24",e,e],[0,1,122,"Open",0,e,0,e,e,e],[0,1,123,"Help",0,e,0,e,e,e],[0,1,124,"Select",0,e,0,e,e,e],[0,1,125,"Again",0,e,0,e,e,e],[0,1,126,"Undo",0,e,0,e,e,e],[0,1,127,"Cut",0,e,0,e,e,e],[0,1,128,"Copy",0,e,0,e,e,e],[0,1,129,"Paste",0,e,0,e,e,e],[0,1,130,"Find",0,e,0,e,e,e],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",e,e],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",e,e],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",e,e],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",e,e],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",e,e],[0,1,136,"KanaMode",0,e,0,e,e,e],[0,0,137,"IntlYen",0,e,0,e,e,e],[0,1,138,"Convert",0,e,0,e,e,e],[0,1,139,"NonConvert",0,e,0,e,e,e],[0,1,140,"Lang1",0,e,0,e,e,e],[0,1,141,"Lang2",0,e,0,e,e,e],[0,1,142,"Lang3",0,e,0,e,e,e],[0,1,143,"Lang4",0,e,0,e,e,e],[0,1,144,"Lang5",0,e,0,e,e,e],[0,1,145,"Abort",0,e,0,e,e,e],[0,1,146,"Props",0,e,0,e,e,e],[0,1,147,"NumpadParenLeft",0,e,0,e,e,e],[0,1,148,"NumpadParenRight",0,e,0,e,e,e],[0,1,149,"NumpadBackspace",0,e,0,e,e,e],[0,1,150,"NumpadMemoryStore",0,e,0,e,e,e],[0,1,151,"NumpadMemoryRecall",0,e,0,e,e,e],[0,1,152,"NumpadMemoryClear",0,e,0,e,e,e],[0,1,153,"NumpadMemoryAdd",0,e,0,e,e,e],[0,1,154,"NumpadMemorySubtract",0,e,0,e,e,e],[0,1,155,"NumpadClear",126,"Clear",12,"VK_CLEAR",e,e],[0,1,156,"NumpadClearEntry",0,e,0,e,e,e],[5,1,0,e,5,"Ctrl",17,"VK_CONTROL",e,e],[4,1,0,e,4,"Shift",16,"VK_SHIFT",e,e],[6,1,0,e,6,"Alt",18,"VK_MENU",e,e],[57,1,0,e,57,"Meta",0,"VK_COMMAND",e,e],[5,1,157,"ControlLeft",5,e,0,"VK_LCONTROL",e,e],[4,1,158,"ShiftLeft",4,e,0,"VK_LSHIFT",e,e],[6,1,159,"AltLeft",6,e,0,"VK_LMENU",e,e],[57,1,160,"MetaLeft",57,e,0,"VK_LWIN",e,e],[5,1,161,"ControlRight",5,e,0,"VK_RCONTROL",e,e],[4,1,162,"ShiftRight",4,e,0,"VK_RSHIFT",e,e],[6,1,163,"AltRight",6,e,0,"VK_RMENU",e,e],[57,1,164,"MetaRight",57,e,0,"VK_RWIN",e,e],[0,1,165,"BrightnessUp",0,e,0,e,e,e],[0,1,166,"BrightnessDown",0,e,0,e,e,e],[0,1,167,"MediaPlay",0,e,0,e,e,e],[0,1,168,"MediaRecord",0,e,0,e,e,e],[0,1,169,"MediaFastForward",0,e,0,e,e,e],[0,1,170,"MediaRewind",0,e,0,e,e,e],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",e,e],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",e,e],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",e,e],[0,1,174,"Eject",0,e,0,e,e,e],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",e,e],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",e,e],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",e,e],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",e,e],[0,1,179,"LaunchApp1",0,e,0,"VK_MEDIA_LAUNCH_APP1",e,e],[0,1,180,"SelectTask",0,e,0,e,e,e],[0,1,181,"LaunchScreenSaver",0,e,0,e,e,e],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",e,e],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",e,e],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",e,e],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",e,e],[0,1,186,"BrowserStop",0,e,0,"VK_BROWSER_STOP",e,e],[0,1,187,"BrowserRefresh",0,e,0,"VK_BROWSER_REFRESH",e,e],[0,1,188,"BrowserFavorites",0,e,0,"VK_BROWSER_FAVORITES",e,e],[0,1,189,"ZoomToggle",0,e,0,e,e,e],[0,1,190,"MailReply",0,e,0,e,e,e],[0,1,191,"MailForward",0,e,0,e,e,e],[0,1,192,"MailSend",0,e,0,e,e,e],[109,1,0,e,109,"KeyInComposition",229,e,e,e],[111,1,0,e,111,"ABNT_C2",194,"VK_ABNT_C2",e,e],[91,1,0,e,91,"OEM_8",223,"VK_OEM_8",e,e],[0,1,0,e,0,e,0,"VK_KANA",e,e],[0,1,0,e,0,e,0,"VK_HANGUL",e,e],[0,1,0,e,0,e,0,"VK_JUNJA",e,e],[0,1,0,e,0,e,0,"VK_FINAL",e,e],[0,1,0,e,0,e,0,"VK_HANJA",e,e],[0,1,0,e,0,e,0,"VK_KANJI",e,e],[0,1,0,e,0,e,0,"VK_CONVERT",e,e],[0,1,0,e,0,e,0,"VK_NONCONVERT",e,e],[0,1,0,e,0,e,0,"VK_ACCEPT",e,e],[0,1,0,e,0,e,0,"VK_MODECHANGE",e,e],[0,1,0,e,0,e,0,"VK_SELECT",e,e],[0,1,0,e,0,e,0,"VK_PRINT",e,e],[0,1,0,e,0,e,0,"VK_EXECUTE",e,e],[0,1,0,e,0,e,0,"VK_SNAPSHOT",e,e],[0,1,0,e,0,e,0,"VK_HELP",e,e],[0,1,0,e,0,e,0,"VK_APPS",e,e],[0,1,0,e,0,e,0,"VK_PROCESSKEY",e,e],[0,1,0,e,0,e,0,"VK_PACKET",e,e],[0,1,0,e,0,e,0,"VK_DBE_SBCSCHAR",e,e],[0,1,0,e,0,e,0,"VK_DBE_DBCSCHAR",e,e],[0,1,0,e,0,e,0,"VK_ATTN",e,e],[0,1,0,e,0,e,0,"VK_CRSEL",e,e],[0,1,0,e,0,e,0,"VK_EXSEL",e,e],[0,1,0,e,0,e,0,"VK_EREOF",e,e],[0,1,0,e,0,e,0,"VK_PLAY",e,e],[0,1,0,e,0,e,0,"VK_ZOOM",e,e],[0,1,0,e,0,e,0,"VK_NONAME",e,e],[0,1,0,e,0,e,0,"VK_PA1",e,e],[0,1,0,e,0,e,0,"VK_OEM_CLEAR",e,e]],o=[],n=[];for(const s of t){const[a,r,l,f,c,_,u,d,h,m]=s;if(n[l]||(n[l]=!0,scanCodeStrToInt[f]=l,scanCodeLowerCaseStrToInt[f.toLowerCase()]=l),!o[c]){if(o[c]=!0,!_)throw new Error(`String representation missing for key code ${c} around scan code ${f}`);uiMap.define(c,_),userSettingsUSMap.define(c,h||_),userSettingsGeneralMap.define(c,m||h||_)}u&&(EVENT_KEY_CODE_MAP[u]=c)}})();var KeyCodeUtils;(e=>{function t(l){return uiMap.keyCodeToStr(l)}e.toString=t;function o(l){return uiMap.strToKeyCode(l)}e.fromString=o;function n(l){return userSettingsUSMap.keyCodeToStr(l)}e.toUserSettingsUS=n;function s(l){return userSettingsGeneralMap.keyCodeToStr(l)}e.toUserSettingsGeneral=s;function a(l){return userSettingsUSMap.strToKeyCode(l)||userSettingsGeneralMap.strToKeyCode(l)}e.fromUserSettings=a;function r(l){if(l>=93&&l<=108)return null;switch(l){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return uiMap.keyCodeToStr(l)}e.toElectronAccelerator=r})(KeyCodeUtils||(KeyCodeUtils={}));function init$g(){return{has,getDamageColor,parseCss,tip:tip$1,changeLocalStorage}}function has(e){return!lodash.exports.isNil(e)}function getDamageColor(e){return typeof e!="number"?"#f00":e===0?"#2f2":e<0?"#7f7":e<core.status.hero.hp/3?"#fff":e<core.status.hero.hp*2/3?"#ff4":e<core.status.hero.hp?"#f93":"#f22"}function setCanvasSize(e,t,o){e.width=t,e.height=o,e.style.width=`${t}px`,e.style.height=`${o}px`}function keycode(e){return EVENT_KEY_CODE_MAP[e]}function parseCss(e){const o=e.replace(/[\n\s\t]*/g,"").replace(/;*/g,";").split(";"),n={};for(const s of o){const[a,r]=s.split(":"),l=a.replace(/\-([a-z])/g,(f,c)=>c.toUpperCase());n[l]=r}return n}function type(str,time=1e3,timing=e=>e,avr=!1){const toShow=eval("`"+str+"`");if(typeof toShow!="string")throw new TypeError("Error str type in typing!");if(toShow.startsWith("!!html"))return ref(toShow);avr&&(time*=toShow.length);const ani=new R,content=ref(""),all=toShow.length,fn=e=>{if(!has(e))return;const t=ani.x;content.value=toShow.slice(0,Math.floor(t)),Math.floor(t)===all&&(ani.ticker.destroy(),content.value=toShow)};return ani.ticker.add(fn),ani.mode(timing).time(time).move(all,0),setTimeout(()=>ani.ticker.destroy(),time+100),content}function tip$1(e,t){message[e]({content:t,class:"antdv-message"})}function splitText(e){return e.map((t,o,n)=>/^\d+\./.test(t)?`${"&nbsp;".repeat(12)}${t}`:has(n[o-1])&&t!=="<br>"&&n[o-1]==="<br>"||o===0?`${"&nbsp;".repeat(8)}${t}`:t).join("")}function downloadCanvasImage(e,t){const o=e.toDataURL("image/png");download(o,t)}function download(e,t){const o=document.createElement("a");o.download=`${t}.png`,o.href=e,document.body.appendChild(o),o.click(),document.body.removeChild(o)}async function doByInterval(e,t,o=!1){try{for(var n=ke(e),s,a,r;s=!(a=await n.next()).done;s=!1){const l=a.value;o&&await S(t),l(),o||await S(t)}}catch(a){r=[a]}finally{try{s&&(a=n.return)&&await a.call(n)}finally{if(r)throw r[0]}}}function changeLocalStorage(e,t,o){const n=core.getLocalStorage(e,o),s=t(n);core.setLocalStorage(e,s)}const animation=[];let animateTime=0;function init$f(){return core.registerAnimationFrame("animateController",!0,e=>{if(!(e-animateTime<=core.values.animateSpeed)){for(const t of animation)t(e);animateTime=core.animateFrame.animateTime}}),{addAnimate,removeAnimate}}function addAnimate(e){animation.push(e)}function removeAnimate(e){const t=animation.findIndex(o=>o===e);t!==-1&&animation.splice(t,1)}const _hoisted_1$s=["width","height","id"],_sfc_main$s=defineComponent({__name:"boxAnimate",props:{id:null,noborder:{type:Boolean},width:null,height:null},setup(e){const t=e,o=(Math.random()*1e8).toFixed(0);let n,s,a;function r(){var d,h;if(o==="none")return;has(a)&&removeAnimate(a);const l=core.getClsFromId(t.id),f=core.getAnimateFrames(l),c=(d=t.width)!=null?d:32,_=(h=t.height)!=null?h:32;t.noborder||(n.style.border="1.5px solid #ddd",n.style.backgroundColor="#222");const u=window.devicePixelRatio;if(n.style.width=`${c}px`,n.style.height=`${_}px`,n.width=u*c,n.height=u*_,s.scale(u,u),t.id!=="none")if(t.id==="hero"){const m=core.material.images.hero;s.drawImage(m,0,0,m.width/4,m.height/4,0,0,c,_)}else f===1?core.drawIcon(s,t.id,0,0,t.width,t.height):(a=()=>{core.clearMap(s);const m=core.status.globalAnimateStatus%f;core.drawIcon(s,t.id,0,0,c,_,m)},a(),addAnimate(a),onUnmounted(()=>{removeAnimate(a)}))}return onMounted(()=>{n=document.getElementById(`box-animate-${o}`),s=n.getContext("2d"),r()}),onUpdated(()=>{r()}),(l,f)=>{var c,_;return openBlock(),createElementBlock("canvas",{width:(c=e.width)!=null?c:32,height:(_=e.height)!=null?_:32,id:`box-animate-${unref(o)}`},null,8,_hoisted_1$s)}}});function init$e(){return{useDrag,useWheel,useUp,isMobile}}const dragFnMap=new Map,isMobile=matchMedia("(max-width: 600px)").matches;function useDrag(e,t,o,n,s=!1){let a=!1;const r=h=>{a=!0,o&&o(h.clientX,h.clientY,h)},l=h=>{a=!0,o&&o(h.touches[0].clientX,h.touches[0].clientY,h)};e instanceof Array?e.forEach(h=>{h.addEventListener("mousedown",r),h.addEventListener("touchstart",l)}):(e.addEventListener("mousedown",r),e.addEventListener("touchstart",l));const f=s?document:e,c=h=>{!a||t(h.clientX,h.clientY,h)},_=h=>{!a||t(h.touches[0].clientX,h.touches[0].clientY,h)},u=h=>{!a||(n&&n(h),a=!1)},d=h=>{!a||(n&&n(h),a=!1)};f instanceof Array?f.forEach(h=>{h.addEventListener("mouseup",u),h.addEventListener("touchend",d),h.addEventListener("mousemove",c),h.addEventListener("touchmove",_)}):(f.addEventListener("mouseup",u),f.addEventListener("touchend",d),f.addEventListener("mousemove",c),f.addEventListener("touchmove",_)),dragFnMap.set(t,[c,_,u,d])}function cancelGlobalDrag(e){const t=dragFnMap.get(e);dragFnMap.delete(e),t&&(document.removeEventListener("mousemove",t[0]),document.removeEventListener("touchmove",t[1]),document.removeEventListener("mouseup",t[0]),document.removeEventListener("touchend",t[1]))}function useWheel(e,t){e.addEventListener("wheel",o=>{t(o.deltaX,o.deltaY,o.deltaZ,o)})}function useUp(e,t){e.addEventListener("mouseup",o=>{t(o.clientX,o.clientY,o)}),e.addEventListener("touchend",o=>{t(o.touches[0].clientX,o.touches[0].clientY,o)})}const _hoisted_1$r=["selected"],_hoisted_2$o={class:"info"},_hoisted_3$n={class:"leftbar"},_hoisted_4$k={class:"name"},_hoisted_5$h={key:0,class:"special-text"},_hoisted_6$f={key:1,class:"special-text"},_hoisted_7$d={class:"rightbar"},_hoisted_8$c={class:"detail"},_hoisted_9$c={class:"detail-info"},_hoisted_10$a={style:{color:"lightgreen"}},_hoisted_11$a={class:"detail-info"},_hoisted_12$8={style:{color:"lightcoral"}},_hoisted_13$7={class:"detail-info"},_hoisted_14$7={style:{color:"lightblue"}},_hoisted_15$6={class:"detail-info"},_hoisted_16$6={style:{color:"lightyellow"}},_hoisted_17$5={class:"detail-info"},_hoisted_18$5={style:{color:"lawngreen"}},_hoisted_19$5={class:"detail-info"},_hoisted_20$4={class:"detail-info"},_hoisted_21$4={style:{color:"lightsalmon"}},_hoisted_22$3={class:"detail-info"},_hoisted_23$3={style:{color:"lightpink"}},_hoisted_24$3={style:{"font-family":"'Fira Code'"}},_hoisted_25$2={class:"detail-info"},_hoisted_26$2={style:{color:"cyan"}},_sfc_main$r=defineComponent({__name:"enemyOne",props:{enemy:null,selected:{type:Boolean}},emits:["select","hover"],setup(e,{emit:t}){const o=window.core,n=window.innerWidth*.032;function s(r){t("select")}function a(){t("hover")}return(r,l)=>{const f=__unplugin_components_0;return openBlock(),createElementBlock("div",{class:"enemy-container",onClick:s,onMouseenter:a,selected:e.selected},[createBaseVNode("div",_hoisted_2$o,[createBaseVNode("div",_hoisted_3$n,[createBaseVNode("span",_hoisted_4$k,toDisplayString(e.enemy.name),1),createVNode(_sfc_main$s,{id:e.enemy.id,width:unref(isMobile)?32:n,height:unref(isMobile)?32:n,style:{margin:"5%"}},null,8,["id","width","height"]),unref(has)(e.enemy.special)&&e.enemy.special.length>0?(openBlock(),createElementBlock("div",_hoisted_5$h,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.enemy.toShowSpecial,(c,_)=>(openBlock(),createElementBlock("span",{style:normalizeStyle({color:e.enemy.toShowColor[_]})},"\xA0"+toDisplayString(c)+"\xA0",5))),256))])):(openBlock(),createElementBlock("div",_hoisted_6$f,"\u65E0\u5C5E\u6027"))]),createVNode(f,{type:"vertical",dashed:"",style:{height:"100%",margin:"0 3% 0 1%","border-color":"#ddd4"}}),createBaseVNode("div",_hoisted_7$d,[createBaseVNode("div",_hoisted_8$c,[createBaseVNode("div",_hoisted_9$c,[createBaseVNode("span",_hoisted_10$a,"\u751F\u547D\xA0\xA0\xA0\xA0"+toDisplayString(unref(o).formatBigNumber(e.enemy.hp)),1)]),createBaseVNode("div",_hoisted_11$a,[createBaseVNode("span",_hoisted_12$8,"\u653B\u51FB\xA0\xA0\xA0\xA0"+toDisplayString(unref(o).formatBigNumber(e.enemy.atk)),1)]),createBaseVNode("div",_hoisted_13$7,[createBaseVNode("span",_hoisted_14$7,"\u9632\u5FA1\xA0\xA0\xA0\xA0"+toDisplayString(unref(o).formatBigNumber(e.enemy.def)),1)]),createBaseVNode("div",_hoisted_15$6,[createBaseVNode("span",_hoisted_16$6,"\u91D1\u5E01\xA0\xA0\xA0\xA0"+toDisplayString(unref(o).formatBigNumber(e.enemy.money)),1)]),createBaseVNode("div",_hoisted_17$5,[createBaseVNode("span",_hoisted_18$5,"\u7ECF\u9A8C\xA0\xA0\xA0\xA0"+toDisplayString(unref(o).formatBigNumber(e.enemy.exp)),1)]),createBaseVNode("div",_hoisted_19$5,[createBaseVNode("span",{style:normalizeStyle({color:e.enemy.damageColor})},"\u4F24\u5BB3\xA0\xA0\xA0\xA0"+toDisplayString(unref(o).formatBigNumber(e.enemy.damage)),5)]),createBaseVNode("div",_hoisted_20$4,[createBaseVNode("span",_hoisted_21$4,"\u4E34\u754C\xA0\xA0\xA0\xA0"+toDisplayString(unref(o).formatBigNumber(e.enemy.critical)),1)]),createBaseVNode("div",_hoisted_22$3,[createBaseVNode("span",_hoisted_23$3,[createTextVNode("\u51CF\u4F24\xA0\xA0\xA0\xA0"),createBaseVNode("span",{style:normalizeStyle({color:e.enemy.criticalDamage<0&&!unref(has)(e.enemy.damage)?"gold":"lightpink"})},[createBaseVNode("span",_hoisted_24$3,toDisplayString(e.enemy.criticalDamage<0&&!unref(has)(e.enemy.damage)?unref(isMobile)?"-":"=>":""),1),createTextVNode(toDisplayString(unref(o).formatBigNumber(e.enemy.criticalDamage<0?-e.enemy.criticalDamage:e.enemy.criticalDamage)),1)],4)])]),createBaseVNode("div",_hoisted_25$2,[createBaseVNode("span",_hoisted_26$2,toDisplayString(unref(o).formatBigNumber(unref(o).status.thisMap.ratio))+"\u9632\xA0\xA0\xA0\xA0"+toDisplayString(unref(o).formatBigNumber(e.enemy.defDamage)),1)])])])])],40,_hoisted_1$r)}}}),enemyOne_vue_vue_type_style_index_0_scoped_03a35715_lang="",_export_sfc=(e,t)=>{const o=e.__vccOpts||e;for(const[n,s]of t)o[n]=s;return o},EnemyOne=_export_sfc(_sfc_main$r,[["__scopeId","data-v-03a35715"]]),_hoisted_1$q=["id"],_hoisted_2$n={class:"main-div"},_hoisted_3$m=["id"],_hoisted_4$j=["id"],_sfc_main$q=defineComponent({__name:"scroll",props:{now:null,type:null,drag:{type:Boolean},width:null,update:{type:Boolean},noScroll:{type:Boolean}},emits:["update:now","update:drag","update:update"],setup(e,{emit:t}){var F;const o=e;let n,s=0,a=0;const r=(1e8*Math.random()).toFixed(0),l=window.devicePixelRatio,f=(F=o.width)!=null?F:20,c=o.type==="horizontal"?"left":"top",_=o.type==="horizontal"?"width":"height";let u,d,h=!1;const m=async()=>{await g(),y()};function y(){if(a===0||(a<u.canvas[_]/l?s=0:s>a-u.canvas[_]/l?s=a-u.canvas[_]/l:s<0&&(s=0),o.noScroll))return;const x=u.canvas.width,V=u.canvas.height;t("update:now",s);const P=Math.min(u.canvas[_]/a/l,1)*u.canvas[_],L=s/a*u.canvas[_];u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),o.type==="horizontal"?(u.moveTo(Math.max(L+5,5),V/2),u.lineTo(Math.min(L+P-5,u.canvas.width-5),V/2)):(u.moveTo(x/2,Math.max(L+5,5)),u.lineTo(x/2,Math.min(L+P-5,u.canvas.height-5))),u.lineCap="round",u.lineWidth=6,u.strokeStyle="#fff",u.stroke()}async function g(){await S(20);const x=u.canvas,V=getComputedStyle(x);x.style.width=`${f}px`,x.width=f*l,x.height=parseFloat(V.height)*l,o.noScroll&&(x.style.width="0px"),o.type==="horizontal"&&(n.style.flexDirection="column",x.style.height=`${f}px`,x.style.width="98%",x.style.margin="0 1% 0 1%",x.width=parseFloat(V.width)*l,x.height=f*l,o.noScroll&&(x.style.height="0px")),await new Promise(P=>{requestAnimationFrame(()=>{const L=getComputedStyle(d);a=parseFloat(L[_]),P("")})})}function k(){y(),d.style[c]=`${-s}px`}onUpdated(async()=>{var x;h||(s=(x=o.now)!=null?x:s,d.style.transition=`${c} 0.2s ease-out`,await g(),k())});let B,b;function H(x,V){t("update:drag",!0);const P=o.type==="horizontal"?x:V,L=P-B;B=P,u.canvas[_]<a*l&&(s+=L*a/u.canvas[_]*l),k()}function N(x,V){t("update:drag",!0);const P=o.type==="horizontal"?x:V,L=P-b;b=P,u.canvas[_]<a*l&&(s-=L),k()}return onMounted(async()=>{n=document.getElementById(`scroll-div-${r}`),d=document.getElementById(`content-${r}`);const V=document.getElementById(`scroll-${r}`);u=V.getContext("2d"),o.noScroll||useDrag(V,H,(P,L)=>{h=!0,B=o.type==="horizontal"?P:L,d.style.transition=""},()=>{setTimeout(()=>t("update:drag",!1)),h=!1},!0),useDrag(d,N,(P,L)=>{h=!0,b=o.type==="horizontal"?P:L,d.style.transition=""},()=>{setTimeout(()=>t("update:drag",!1)),h=!1},!0),useWheel(d,(P,L)=>{h=!0;const T=P!==0?P:L;Math.abs(T)>30?d.style.transition=`${c} 0.2s ease-out`:d.style.transition="",s+=T,k(),h=!1}),window.addEventListener("resize",m),await g(),y()}),onUnmounted(()=>{window.removeEventListener("resize",m),cancelGlobalDrag(H),cancelGlobalDrag(N)}),(x,V)=>(openBlock(),createElementBlock("div",{id:`scroll-div-${unref(r)}`,class:"scroll-main"},[createBaseVNode("div",_hoisted_2$n,[createBaseVNode("div",{id:`content-${unref(r)}`,class:"content"},[renderSlot(x.$slots,"default",{},void 0,!0)],8,_hoisted_3$m)]),createBaseVNode("canvas",{id:`scroll-${unref(r)}`,class:"scroll"},null,8,_hoisted_4$j)],8,_hoisted_1$q))}}),scroll_vue_vue_type_style_index_0_scoped_1626479d_lang="",Scroll=_export_sfc(_sfc_main$q,[["__scopeId","data-v-1626479d"]]);function getSpecialHint(e){const t=core.getSpecials().filter(s=>e.special.includes(s[0])).sort((s,a)=>s[0]-a[0]),o=t.map(s=>{const a=s[2];return a instanceof Function?a(e):a}),n=t.map(s=>{const a=s[1];return a instanceof Function?a(e):a});return createVNode("div",null,[t.map((s,a)=>createVNode("div",{class:"special"},[createVNode("span",{style:{color:core.arrayToRGBA(s[3])}},[createTextVNode("\xA0\xA0\xA0\xA0"),n[a],createTextVNode("\uFF1A")]),createVNode("span",{innerHTML:o[a]},null)]))])}function getDefDamage(e,t=0,o=0,n,s,a){var _;const r=core.status.thisMap.ratio,l=[];let f;const c=100-Math.floor(t/r);for(let u=0;u<=c;u++){const d=core.getDamageInfo(e.id,{def:core.getStatus("def")+r*u+t,atk:core.getStatus("atk")+o},n,s,a);if(l.length===0){f=d==null?void 0:d.damage,has(f)&&l.push([t+u*r,f]);continue}!has(d)||d.damage!==((_=l.at(-1))==null?void 0:_[1])&&(d.damage,l.push([r*u+t,d.damage]))}return l}function getCriticalDamage(e,t=0,o=0,n,s,a){var _;const r=core.status.thisMap.ratio,l=[];let f;const c=100-Math.floor(t/r);for(let u=0;u<=c;u++){const d=core.getDamageInfo(e.id,{atk:core.getStatus("atk")+r*u+t,def:core.getStatus("def")+o},n,s,a);if(l.length===0){f=d==null?void 0:d.damage,has(f)&&l.push([t+u*r,f]);continue}!has(d)||d.damage!==((_=l.at(-1))==null?void 0:_[1])&&(d.damage,l.push([r*u+t,d.damage]))}return l}const _withScopeId$b=e=>(pushScopeId("data-v-723dadcb"),e=e(),popScopeId(),e),_hoisted_1$p={id:"special-main"},_hoisted_2$m={id:"special"},_hoisted_3$l={id:"critical"},_hoisted_4$i=_withScopeId$b(()=>createBaseVNode("div",{style:{"font-size":"2.5vh",width:"100%","text-align":"center"}}," \u4E34\u754C\u8868 ",-1)),_hoisted_5$g={id:"critical-main"},_hoisted_6$e=_withScopeId$b(()=>createBaseVNode("div",{id:"critical-des"},[createBaseVNode("span",null,"\u52A0\u653B"),createBaseVNode("span",null,"\u51CF\u4F24")],-1)),_hoisted_7$c={class:"critical"},_hoisted_8$b={class:"critical-atk"},_hoisted_9$b={style:{"font-family":"'Fira Code'"}},_sfc_main$p=defineComponent({__name:"enemySpecial",props:{fromBook:{type:Boolean}},setup(e){const t=e,[o,n]=t.fromBook?[void 0,void 0]:flags.mouseLoc,s=has(o)?Math.round(o+core.bigmap.offsetX/32):void 0,a=has(n)?Math.round(n+core.bigmap.offsetY/32):void 0,r=core.plugin.bookDetailEnemy,l=getSpecialHint(r),f=core.nextCriticals(r,isMobile?4:8,s,a),c=core.formatBigNumber;return(_,u)=>{const d=Scroll,h=__unplugin_components_0;return openBlock(),createElementBlock("div",_hoisted_1$p,[createVNode(d,{id:"special-scroll"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_2$m,[(openBlock(),createBlock(resolveDynamicComponent(unref(l))))])]),_:1}),createVNode(h,{dashed:"",style:{margin:"2vh 0 2vh 0","border-color":"#ddd4"}}),createBaseVNode("div",_hoisted_3$l,[_hoisted_4$i,createBaseVNode("div",_hoisted_5$g,[_hoisted_6$e,(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(f),([m,y])=>(openBlock(),createElementBlock("div",_hoisted_7$c,[createBaseVNode("span",_hoisted_8$b,toDisplayString(unref(c)(m)),1),createBaseVNode("span",null,[createBaseVNode("span",_hoisted_9$b,toDisplayString(y<0?"=>":""),1),createTextVNode(toDisplayString(y<0?`${unref(c)(-y)}`:unref(c)(y)),1)])]))),256))])])])}}}),enemySpecial_vue_vue_type_style_index_0_scoped_723dadcb_lang="",EnemySpecial=_export_sfc(_sfc_main$p,[["__scopeId","data-v-723dadcb"]]),index$5="",index$4="";Chart.register(...registerables);const _withScopeId$a=e=>(pushScopeId("data-v-10edff82"),e=e(),popScopeId(),e),_hoisted_1$o={id:"critical-main"},_hoisted_2$l={id:"critical"},_hoisted_3$k=_withScopeId$a(()=>createBaseVNode("div",{class:"des"},"\u52A0\u653B\u4F24\u5BB3",-1)),_hoisted_4$h={class:"slider-div"},_hoisted_5$f={id:"def"},_hoisted_6$d=_withScopeId$a(()=>createBaseVNode("div",{class:"des"},"\u52A0\u9632\u4F24\u5BB3",-1)),_hoisted_7$b={class:"slider-div"},_hoisted_8$a={id:"now-damage"},_hoisted_9$a={style:{"font-family":"'Fira Code'"}},_sfc_main$o=defineComponent({__name:"enemyCritical",props:{fromBook:{type:Boolean}},setup(e){const t=e,o=ref(),n=ref(),s=core.plugin.bookDetailEnemy,a=Math.ceil,r=ref(t.fromBook?void 0:flags.mouseLoc[0]),l=ref(t.fromBook?void 0:flags.mouseLoc[1]);r.value=has(r.value)?Math.round(r.value+core.bigmap.offsetX/32):void 0,l.value=has(l.value)?Math.round(l.value+core.bigmap.offsetY/32):void 0;let f=getCriticalDamage(s,0,0,r.value,l.value),c=getDefDamage(s,0,0,r.value,l.value);const _=ref(f),u=ref(c),d=ref(0),h=ref(0),m=core.getDamageInfo(s.id,void 0,r.value,l.value),y=core.formatBigNumber,g=core.status.thisMap.ratio,k=computed(()=>{const N=core.getDamageInfo(s.id,{atk:core.getStatus("atk")+d.value*g,def:core.getStatus("def")+h.value*g},r.value,l.value);return has(N)?has(m)?[m.damage-N.damage,N.damage]:[-N.damage,N.damage]:["???","???"]});function B(N,F){Chart.defaults.color="#aaa";const x={type:"line",data:b(F),options:{elements:{point:{radius:5,hoverRadius:7},line:{borderJoinStyle:"round"}},scales:{y:{grid:{color:"#ddd3"}}},plugins:{legend:{display:!1}}}};return new Chart(N,x)}function b(N){return{datasets:[{data:N.map(F=>F[1]),label:"\u602A\u7269\u4F24\u5BB3"}],labels:N.map(F=>Math.round(F[0]/g))}}const H=lodash.exports.debounce((N,F)=>{_.value=getCriticalDamage(s,d.value*g,h.value*g,r.value,l.value),u.value=getDefDamage(s,h.value*g,d.value*g,r.value,l.value),_.value.length>f.length&&(f=_.value),u.value.length>c.length&&(c=u.value),N.data=b(_.value),F.data=b(u.value),N.update("resize"),F.update("resize")},200);return onMounted(()=>{const N=document.getElementById("critical-main"),F=getComputedStyle(N),x=parseFloat(F.width),V=window.innerHeight/5,P=o.value,L=n.value;setCanvasSize(P,x,V),setCanvasSize(L,x,V);const T=B(P,_.value),q=B(L,u.value);watch(d,Q=>{H(T,q)}),watch(h,Q=>{H(T,q)})}),(N,F)=>{var P,L,T,q,Q,te,A,J;const x=__unplugin_components_0$1,V=__unplugin_components_0;return openBlock(),createElementBlock("div",_hoisted_1$o,[createBaseVNode("div",_hoisted_2$l,[_hoisted_3$k,createBaseVNode("canvas",{ref_key:"critical",ref:o,class:"chart"},null,512),createBaseVNode("div",_hoisted_4$h,[createBaseVNode("span",null,"\u52A0\u653B\u6B21\u6570\xA0\xA0\xA0\xA0"+toDisplayString(d.value),1),createVNode(x,{class:"slider",value:d.value,"onUpdate:value":F[0]||(F[0]=z=>d.value=z),max:unref(a)(((L=(P=unref(f).at(-1))==null?void 0:P[0])!=null?L:2)/unref(g))-1},null,8,["value","max"]),createBaseVNode("span",null,"\u6700\u5927\u503C\xA0\xA0\xA0\xA0"+toDisplayString(unref(a)(((q=(T=unref(f).at(-1))==null?void 0:T[0])!=null?q:2)/unref(g))-1),1)])]),createVNode(V,{dashed:"",style:{width:"100%","border-color":"#ddd4",margin:"1vh 0 1vh 0"}}),createBaseVNode("div",_hoisted_5$f,[_hoisted_6$d,createBaseVNode("canvas",{ref_key:"def",ref:n,class:"chart"},null,512),createBaseVNode("div",_hoisted_7$b,[createBaseVNode("span",null,"\u52A0\u9632\u6B21\u6570\xA0\xA0\xA0\xA0"+toDisplayString(h.value),1),createVNode(x,{class:"slider",value:h.value,"onUpdate:value":F[1]||(F[1]=z=>h.value=z),max:unref(a)(((te=(Q=unref(c).at(-1))==null?void 0:Q[0])!=null?te:2)/unref(g))-1},null,8,["value","max"]),createBaseVNode("span",null,"\u6700\u5927\u503C\xA0\xA0\xA0\xA0"+toDisplayString(unref(a)(((J=(A=unref(c).at(-1))==null?void 0:A[0])!=null?J:2)/unref(g))-1),1)])]),createBaseVNode("div",_hoisted_8$a,[createBaseVNode("div",null,[createBaseVNode("span",null,"\u5F53\u524D\u52A0\u653B"+toDisplayString(unref(isMobile)?"":"\xA0\xA0\xA0\xA0"),1),createBaseVNode("span",null,toDisplayString(unref(y)(d.value*unref(g))),1)]),createBaseVNode("div",null,[createBaseVNode("span",null,"\u5F53\u524D\u52A0\u9632"+toDisplayString(unref(isMobile)?"":"\xA0\xA0\xA0\xA0"),1),createBaseVNode("span",null,toDisplayString(unref(y)(h.value*unref(g))),1)]),createBaseVNode("div",null,[createBaseVNode("span",null,"\u5F53\u524D\u51CF\u4F24"+toDisplayString(unref(isMobile)?"":"\xA0\xA0\xA0\xA0"),1),createBaseVNode("span",null,[createBaseVNode("span",_hoisted_9$a,toDisplayString(unref(k)[0]<0&&!unref(has)(unref(s).damage)?"=>":""),1),createTextVNode(toDisplayString(unref(k)[0]<0&&!unref(has)(unref(s).damage)?unref(y)(-unref(k)[0]):unref(y)(unref(k)[0])),1)])]),createBaseVNode("div",null,[createBaseVNode("span",null,"\u5F53\u524D\u4F24\u5BB3"+toDisplayString(unref(isMobile)?"":"\xA0\xA0\xA0\xA0"),1),createBaseVNode("span",null,toDisplayString(unref(y)(unref(k)[1])),1)])])])}}}),enemyCritical_vue_vue_type_style_index_0_scoped_10edff82_lang="",EnemyCritical=_export_sfc(_sfc_main$o,[["__scopeId","data-v-10edff82"]]),showMarkedEnemy=ref(!1),markedEnemy=reactive([]),markInfo={},criticalReached={},enemyDamageInfo={};function markEnemy$1(e){var t,o;hasMarkedEnemy(e)||(markedEnemy.push(e),markInfo[e]={nextCritical:(o=(t=core.nextCriticals(e,1)[0])==null?void 0:t[0])!=null?o:0+core.status.hero.atk},criticalReached[e]={0:!0},enemyDamageInfo[e]={1:!1,2:!1,3:!1},getMarkInfo(e,!0),checkMarkedEnemy(!0))}function hasMarkedEnemy(e){return markedEnemy.includes(e)}function unmarkEnemy(e){const t=markedEnemy.indexOf(e);t!==-1&&(markedEnemy.splice(t,1),checkMarkedEnemy())}function unmarkAll(){markedEnemy.splice(0),checkMarkedEnemy()}function getMarkedEnemy(){return markedEnemy}function getMarkInfo(e,t=!1){var s;const o=criticalReached[e],n=markInfo[e];if(core.status.hero.atk>=n.nextCritical){!o[n.nextCritical]&&!t&&tip$1("success",`\u8E29\u5230\u4E86${core.material.enemys[e].name}\u7684\u4E34\u754C\uFF01`),o[n.nextCritical]=!0;const a=(s=core.nextCriticals(e,1,void 0,void 0,"empty")[0])==null?void 0:s[0],r=(a!=null?a:0)+core.status.hero.atk;n.nextCritical=r}}function checkMarkedEnemy(e=!1){checkMarkedStatus.value=!checkMarkedStatus.value;const t=core.status.hero.hp;getMarkedEnemy().forEach(o=>{var l,f;getMarkInfo(o);const n=(f=(l=core.getDamageInfo(o,void 0,void 0,void 0,"empty"))==null?void 0:l.damage)!=null?f:-1;if(n===-1)return;const s=enemyDamageInfo[o],a=core.material.enemys[o].name;let r=0;n<=0?e||tip$1("success",`${a}\u5DF2\u7ECF\u96F6\u4F24\u4E86\uFF01`):n<t/3?(!s[3]&&!e&&tip$1("success",`${a}\u7684\u4F24\u5BB3\u5DF2\u964D\u81F3\u52C7\u58EB\u751F\u547D\u503C\u76841/3\uFF01`),r=7):n<t/3*2?(!s[2]&&!e&&tip$1("success",`${a}\u7684\u4F24\u5BB3\u5DF2\u964D\u81F3\u52C7\u58EB\u751F\u547D\u503C\u76842/3\uFF01`),r=6):n<t&&(!s[1]&&!e&&tip$1("success",`\u4F60\u5DF2\u7ECF\u80FD\u6253\u8FC7${a}\u4E86\uFF01`),r=4),s[1]=s[2]=s[3]=!1,r&4&&(s[1]=!0),r&2&&(s[2]=!0),r&1&&(s[3]=!0)})}const checkMarkedStatus=ref(!1);function init$d(){return core.registerAction("onmove","mark",(e,t)=>(core.isPlaying()&&(flags.mouseLoc=[e,t]),!1),150),{checkMarkedEnemy,checkStatus:checkMarkedStatus,markEnemy:markEnemy$1,hasMarkedEnemy,unmarkEnemy,showMarkedEnemy,unmarkAll}}const _withScopeId$9=e=>(pushScopeId("data-v-90e08ea9"),e=e(),popScopeId(),e),_hoisted_1$n={id:"enemy-target"},_hoisted_2$k={id:"enemy-desc"},_hoisted_3$j=_withScopeId$9(()=>createBaseVNode("span",null,"\u602A\u7269\u63CF\u8FF0",-1)),_hoisted_4$g={id:"mark-target"},_hoisted_5$e=["onClick"],_sfc_main$n=defineComponent({__name:"enemyTarget",setup(e){const t=core.plugin.bookDetailEnemy,o=ref(hasMarkedEnemy(t.id));function n(){o.value&&unmarkEnemy(t.id),o.value||markEnemy$1(t.id),o.value=!o.value}return(s,a)=>{const r=__unplugin_components_0;return openBlock(),createElementBlock("div",_hoisted_1$n,[createBaseVNode("div",_hoisted_2$k,[_hoisted_3$j,createVNode(Scroll,{id:"enemy-desc-scroll"},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(unref(t).description),1)]),_:1})]),createVNode(r,{dashed:"",style:{"border-color":"#ddd4"}}),createBaseVNode("div",null,[createBaseVNode("div",_hoisted_4$g,[createBaseVNode("span",{id:"mark-info",style:normalizeStyle({color:o.value?"lightgreen":"lightcoral"})},toDisplayString(o.value?"\u5DF2\u6807\u8BB0\u8BE5\u602A\u7269":"\u672A\u6807\u8BB0\u8BE5\u602A\u7269"),5),createBaseVNode("span",{class:"button-text",onClick:withModifiers(n,["stop"])},toDisplayString(o.value?"\u53D6\u6D88\u6807\u8BB0\u8BE5\u602A\u7269":"\u6807\u8BB0\u8BE5\u602A\u7269\u4E3A\u76EE\u6807"),9,_hoisted_5$e)])])])}}}),enemyTarget_vue_vue_type_style_index_0_scoped_90e08ea9_lang="",EnemyTarget=_export_sfc(_sfc_main$n,[["__scopeId","data-v-90e08ea9"]]),_withScopeId$8=e=>(pushScopeId("data-v-c8f01fef"),e=e(),popScopeId(),e),_hoisted_1$m={id:"detail"},_hoisted_2$j={id:"detail-more"},_hoisted_3$i={key:0,id:"special-more",class:"detial-more"},_hoisted_4$f={key:1,id:"special-more",class:"detial-more"},_hoisted_5$d={key:2,id:"special-more",class:"detial-more"},_hoisted_6$c=_withScopeId$8(()=>createBaseVNode("span",null,null,-1)),_sfc_main$m=defineComponent({__name:"bookDetail",props:{fromBook:{type:Boolean},defaultPanel:null},emits:["close"],setup(e,{emit:t}){var _;const o=e,n=core.plugin.bookDetailEnemy,s=ref(core.plugin.bookDetailPos),a=ref((_=o.defaultPanel)!=null?_:"special");let r;function l(u,d){u.stopPropagation(),a.value=d}function f(){s.value=core.plugin.bookDetailPos,r.style.opacity="0",t("close")}function c(u){const d=keycode(u.keyCode);(d===KeyCode.Enter||d===KeyCode.Space||d===KeyCode.KeyC)&&f(),o.fromBook||(d===KeyCode.KeyX||d===KeyCode.Escape)&&f()}return onMounted(async()=>{s.value=0,r=document.getElementById("detail"),r.style.opacity="1";const u=getComputedStyle(r);let d=!1,h=[0,0];await S(600),useDrag(r,(m,y)=>{(m-h[0])**2+(y-h[1])**2>=100&&(d=!0)},(m,y)=>{h=[m,y],y>parseFloat(u.height)*4/5&&(d=!0)},()=>{d===!1&&a.value!=="critical"&&f(),d=!1}),document.addEventListener("keyup",c)}),onUnmounted(()=>{document.removeEventListener("keyup",c)}),(u,d)=>{const h=__unplugin_components_0;return openBlock(),createElementBlock("div",_hoisted_1$m,[createBaseVNode("div",{id:"info",style:normalizeStyle({top:`${s.value}px`})},[createVNode(EnemyOne,{enemy:unref(n)},null,8,["enemy"]),createVNode(h,{dashed:"",style:{margin:"2vh 0 2vh 0","border-color":"#ddd4",width:"100%"}})],4),createVNode(Transition,{name:"detail"},{default:withCtx(()=>[a.value==="special"?(openBlock(),createBlock(EnemySpecial,{key:0,"from-book":e.fromBook},null,8,["from-book"])):a.value==="critical"?(openBlock(),createBlock(EnemyCritical,{key:1,"from-book":e.fromBook},null,8,["from-book"])):a.value==="target"?(openBlock(),createBlock(EnemyTarget,{key:2})):createCommentVNode("",!0)]),_:1}),createBaseVNode("div",_hoisted_2$j,[createVNode(Transition,{name:"detail"},{default:withCtx(()=>[a.value==="special"?(openBlock(),createElementBlock("div",_hoisted_3$i,[createBaseVNode("span",{id:"enemy-target",class:"button-text more",onClick:d[0]||(d[0]=m=>l(m,"target"))},[createVNode(unref(LeftOutlined)),createTextVNode(" \u602A\u7269\u66F4\u591A\u4FE1\u606F")]),createBaseVNode("span",{id:"critical-more",class:"button-text more",onClick:d[1]||(d[1]=m=>l(m,"critical"))},[createTextVNode("\u8BE6\u7EC6\u4E34\u754C\u4FE1\u606F "),createVNode(unref(RightOutlined))])])):a.value==="critical"?(openBlock(),createElementBlock("div",_hoisted_4$f,[createBaseVNode("span",{id:"enemy-pos",class:"button-text more",onClick:d[2]||(d[2]=m=>l(m,"special"))},[createVNode(unref(LeftOutlined)),createTextVNode(" \u602A\u7269\u7279\u6B8A\u5C5E\u6027")])])):a.value==="target"?(openBlock(),createElementBlock("div",_hoisted_5$d,[_hoisted_6$c,createBaseVNode("span",{id:"enemy-pos",class:"button-text more",onClick:d[3]||(d[3]=m=>l(m,"special"))},[createTextVNode("\u602A\u7269\u7279\u6B8A\u5C5E\u6027 "),createVNode(unref(RightOutlined))])])):createCommentVNode("",!0)]),_:1})])])}}}),bookDetail_vue_vue_type_style_index_0_scoped_c8f01fef_lang="",BookDetail=_export_sfc(_sfc_main$m,[["__scopeId","data-v-c8f01fef"]]),_withScopeId$7=e=>(pushScopeId("data-v-fb4b88e2"),e=e(),popScopeId(),e),_hoisted_1$l={id:"book"},_hoisted_2$i={id:"tools"},_hoisted_3$h={key:0,id:"none"},_hoisted_4$e=_withScopeId$7(()=>createBaseVNode("div",null,"\u672C\u5C42\u65E0\u602A\u7269",-1)),_hoisted_5$c=[_hoisted_4$e],_hoisted_6$b={class:"enemy"},_sfc_main$l=defineComponent({__name:"book",setup(e){var y,g,k;const t=(k=core.floorIds[(g=(y=core.status.event)==null?void 0:y.ui)==null?void 0:g.index])!=null?k:core.status.floorId;t!==core.status.floorId&&core.status.checkBlock&&(core.status.checkBlock.cache={});const o=core.getCurrentEnemys(t),n=ref(0),s=ref(!1),a=ref(!1),r=ref(0);o.forEach(B=>{const b=B.specialText.length;B.toShowSpecial=lodash.exports.cloneDeep(B.specialText),B.toShowColor=lodash.exports.cloneDeep(B.specialColor),b>=3&&(B.toShowSpecial=B.specialText.slice(0,2).concat(["..."]),B.toShowColor=B.specialColor.slice(0,2).concat(["#fff"])),B.toShowColor=B.toShowColor.map(H=>typeof H=="string"?H:core.arrayToRGBA(H)),B.damageColor=getDamageColor(B.damage)});function l(B,b){if(s.value)return;const H=window.innerHeight,N=b*H*.2-n.value;core.plugin.bookDetailEnemy=B,core.plugin.bookDetailPos=N,a.value=!0,f()}async function f(){const B=document.getElementById("book");B.style.opacity="0",await S(600),B.style.display="none"}async function c(){_(),await S(600),a.value=!1}async function _(){const B=document.getElementById("book");B.style.display="flex",await S(50),B.style.opacity="1"}async function u(){noClosePanel.value=!0,core.plugin.bookOpened.value=!1,core.plugin.transition.value?await S(650):await S(100),!core.events.recoverEvents(core.status.event.interval)&&(has(core.status.event.ui)?(core.status.boxAnimateObjs=[],core.ui._drawViewMaps(core.status.event.ui)):core.ui.closePanel())}function d(){const B=window.innerHeight,b=r.value*B*.2-n.value;b<0&&(n.value+=b-20),b>B*.655&&(n.value+=b-B*.655+20)}function h(B){const b=keycode(B.keyCode);(b===KeyCode.KeyX||b===KeyCode.Escape)&&u(),b===KeyCode.Enter&&!a.value&&l(o[r.value],r.value)}function m(B){const b=keycode(B.keyCode);a.value||(b===KeyCode.DownArrow&&(r.value<o.length-1&&r.value++,d()),b===KeyCode.UpArrow&&(r.value>0&&r.value--,d()),(b===KeyCode.LeftArrow||b===KeyCode.PageUp)&&(r.value<=4?r.value=0:r.value-=5,d()),(b===KeyCode.RightArrow||b===KeyCode.PageDown)&&(r.value>=o.length-5?r.value=o.length-1:r.value+=5,d()))}return onMounted(async()=>{core.plugin.transition.value?await S(600):await S(50),document.addEventListener("keyup",h),document.addEventListener("keydown",m)}),onUnmounted(async()=>{document.removeEventListener("keyup",h),document.removeEventListener("keydown",m)}),(B,b)=>{const H=__unplugin_components_0;return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$l,[createBaseVNode("div",_hoisted_2$i,[createBaseVNode("span",{id:"back",class:"button-text tools",onClick:u},[createVNode(unref(LeftOutlined)),createTextVNode("\u8FD4\u56DE\u6E38\u620F")])]),unref(o).length===0?(openBlock(),createElementBlock("div",_hoisted_3$h,_hoisted_5$c)):(openBlock(),createBlock(Scroll,{key:1,style:{width:"100%",height:"94%","font-family":"normal"},now:n.value,"onUpdate:now":b[0]||(b[0]=N=>n.value=N),drag:s.value,"onUpdate:drag":b[1]||(b[1]=N=>s.value=N)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(o),(N,F)=>(openBlock(),createElementBlock("div",_hoisted_6$b,[(openBlock(),createBlock(EnemyOne,{selected:F===r.value,enemy:N,key:F,onSelect:x=>l(N,F),onHover:x=>r.value=F},null,8,["selected","enemy","onSelect","onHover"])),createVNode(H,{dashed:"",style:{width:"100%","border-color":"#ddd4"}})]))),256))]),_:1},8,["now","drag"]))]),a.value?(openBlock(),createBlock(BookDetail,{key:0,"from-book":!0,onClose:b[2]||(b[2]=N=>c())})):createCommentVNode("",!0)],64)}}}),book_vue_vue_type_style_index_0_scoped_fb4b88e2_lang="",Book=_export_sfc(_sfc_main$l,[["__scopeId","data-v-fb4b88e2"]]),clsMap={tools:"\u6D88\u8017\u9053\u5177",constants:"\u6C38\u4E45\u9053\u5177",all:"\u5168\u90E8\u9053\u5177"};function getClsName(e){return clsMap[e]}function getItems(e){const t=core.status.hero.items,o=["book"];if(e==="all")return{tools:Object.entries(t.tools).filter(a=>!o.includes(a[0])),constants:Object.entries(t.constants).filter(a=>!o.includes(a[0]))};const n=t[e];return Object.entries(n)}const _withScopeId$6=e=>(pushScopeId("data-v-5e7b8682"),e=e(),popScopeId(),e),_hoisted_1$k={id:"toolbox"},_hoisted_2$h={id:"tools"},_hoisted_3$g={id:"toolbox-main"},_hoisted_4$d={class:"item-main"},_hoisted_5$b={class:"item-info"},_hoisted_6$a={key:0,class:"item-type"},_hoisted_7$a={key:1,id:"item-type-mobile"},_hoisted_8$9=["selected"],_hoisted_9$9=["selected"],_hoisted_10$9=["selected","onClick"],_hoisted_11$9={class:"item-icon"},_hoisted_12$7={class:"item-name"},_hoisted_13$6={id:"detail"},_hoisted_14$6={id:"info"},_hoisted_15$5={id:"basic-info"},_hoisted_16$5={style:{"border-bottom":"1px solid #ddd4"}},_hoisted_17$4=_withScopeId$6(()=>createBaseVNode("span",{style:{"margin-top":"2vh"}},"\u70B9\u51FB\u8BE5\u7269\u54C1\u4EE5\u4F7F\u7528",-1)),_hoisted_18$4={id:"desc"},_hoisted_19$4=_withScopeId$6(()=>createBaseVNode("span",null,"\u9053\u5177\u63CF\u8FF0",-1)),_hoisted_20$3={key:0},_hoisted_21$3=["innerHTML"],_sfc_main$k=defineComponent({__name:"toolbox",setup(e){var m,y;const t=ref("tools"),o=getItems("all"),n=computed(()=>isMobile?[t.value]:["tools","constants"]),s=core.material.items,a=ref((y=(m=o[n.value[0]][0])==null?void 0:m[0])!=null?y:"none"),r=ref(0);watch(r,g=>{f(o[t.value][g][0],!0)}),watch(t,g=>{if(!has(o[g][r.value])){a.value="none";return}f(o[g][r.value][0],!0)});const l=computed(()=>{const g=a.value;return g==="none"?ref("\u6CA1\u6709\u9009\u62E9\u9053\u5177"):type(s[g].text,25,C("sin","out"),!0)});async function f(g,k=!1){a.value===g&&!k&&_(g),r.value=o[t.value].findIndex(B=>B[0]===g),a.value=g}function c(){core.plugin.toolOpened.value=!1}async function _(g){if(g!=="none")if(core.canUseItem(g)){const k=core.plugin.transition.value;core.plugin.transition.value=!1,c(),await S(50),core.useItem(g),core.plugin.transition.value=k}else message.warn({content:"\u5F53\u524D\u65E0\u6CD5\u4F7F\u7528\u8BE5\u9053\u5177\uFF01",class:"antdv-message"})}async function u(){const g=core.plugin.transition.value;core.plugin.transition.value=!1,c(),await S(50),core.plugin.equipOpened.value=!0,core.plugin.transition.value=g}function d(g){const k=keycode(g.keyCode);(k===KeyCode.Escape||k===KeyCode.KeyX||k===KeyCode.KeyT)&&c(),(k===KeyCode.Enter||k===KeyCode.KeyC)&&_(a.value)}function h(g){const k=keycode(g.keyCode),B=o[t.value].length;if(k===KeyCode.DownArrow&&r.value<B-1&&r.value++,k===KeyCode.UpArrow&&r.value>0&&r.value--,k===KeyCode.RightArrow){const b=o.constants.length;t.value==="tools"&&(r.value>=b&&(r.value=b-1),t.value="constants")}if(k===KeyCode.LeftArrow){const b=o.tools.length;t.value==="constants"&&(r.value>=b&&(r.value=b-1),t.value="tools")}}return onMounted(async()=>{core.plugin.transition.value?await S(600):await S(50),document.addEventListener("keyup",d),document.addEventListener("keydown",h)}),onUnmounted(()=>{document.removeEventListener("keyup",d),document.removeEventListener("keydown",h)}),(g,k)=>{var b;const B=__unplugin_components_0;return openBlock(),createElementBlock("div",_hoisted_1$k,[createBaseVNode("div",_hoisted_2$h,[createBaseVNode("span",{class:"button-text tools",onClick:c},[createVNode(unref(LeftOutlined)),createTextVNode(" \u8FD4\u56DE\u6E38\u620F")]),createBaseVNode("span",{class:"button-text tools",onClick:u},[createTextVNode("\u88C5\u5907\u680F "),createVNode(unref(RightOutlined))])]),createBaseVNode("div",_hoisted_3$g,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(n),H=>(openBlock(),createElementBlock("div",_hoisted_4$d,[createBaseVNode("div",_hoisted_5$b,[unref(isMobile)?(openBlock(),createElementBlock("div",_hoisted_7$a,[createBaseVNode("span",{class:"button-text",onClick:k[0]||(k[0]=N=>t.value="tools"),selected:t.value==="tools"},"\u6D88\u8017\u9053\u5177",8,_hoisted_8$9),createVNode(B,{dashed:"",style:{"border-color":"#ddd4",height:"100%"},type:"vertical"}),createBaseVNode("span",{class:"button-text",onClick:k[1]||(k[1]=N=>t.value="constants"),selected:t.value==="constants"},"\u6C38\u4E45\u9053\u5177",8,_hoisted_9$9)])):(openBlock(),createElementBlock("div",_hoisted_6$a,toDisplayString(unref(getClsName)(H)),1)),createVNode(B,{dashed:"",style:{margin:"1vh 0 1vh 0","border-color":"#ddd4"}}),createVNode(Scroll,{class:"item-list"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(o)[H],([N,F])=>(openBlock(),createElementBlock("div",{class:"item selectable",selected:a.value===N,onClick:x=>{t.value=H,f(N)}},[createBaseVNode("div",_hoisted_11$9,[createVNode(_sfc_main$s,{id:N,width:32,height:32,noborder:!0},null,8,["id"]),createBaseVNode("span",_hoisted_12$7,toDisplayString(unref(s)[N].name),1)]),createBaseVNode("span",null,"\xD7\xA0"+toDisplayString(F),1)],8,_hoisted_10$9))),256))]),_:2},1024)]),createVNode(B,{dashed:"",type:unref(isMobile)?"horizontal":"vertical",class:"divider",style:{"border-color":"#ddd4",margin:"1%"}},null,8,["type"])]))),256)),createBaseVNode("div",_hoisted_13$6,[createBaseVNode("div",_hoisted_14$6,[createVNode(_sfc_main$s,{id:a.value,width:32,height:32},null,8,["id"]),createBaseVNode("div",_hoisted_15$5,[createBaseVNode("span",_hoisted_16$5,toDisplayString(a.value==="none"?"\u6CA1\u6709\u9053\u5177":unref(s)[a.value].name),1),createBaseVNode("span",null,toDisplayString(a.value==="none"?"\u6C38\u4E45\u9053\u5177":(b=unref(getClsName)(unref(s)[a.value].cls))!=null?b:"\u6C38\u4E45\u9053\u5177"),1)])]),_hoisted_17$4,createVNode(B,{dashed:"",style:{"border-color":"#ddd4"}}),createBaseVNode("div",_hoisted_18$4,[_hoisted_19$4,createVNode(Scroll,{id:"desc-text"},{default:withCtx(()=>[unref(l).value.startsWith("!!html")?(openBlock(),createElementBlock("div",{key:1,innerHTML:unref(l).value.slice(6)},null,8,_hoisted_21$3)):(openBlock(),createElementBlock("div",_hoisted_20$3,toDisplayString(unref(l).value),1))]),_:1})])])])])}}}),toolbox_vue_vue_type_style_index_0_scoped_5e7b8682_lang="",Toolbox=_export_sfc(_sfc_main$k,[["__scopeId","data-v-5e7b8682"]]),index$3="",index$2="";function getEquips(){return Object.entries(core.status.hero.items.equips)}function getAddStatus(e){const t=Object.assign({},e.value,e.percentage),o=Object.keys(t);return createVNode("div",{class:"equip-add-detail"},[o.map(n=>{var a,r;const s=Math.floor(((a=e.value[n])!=null?a:0)*core.getBuff(n)+core.status.hero[n]*((r=e.percentage[n])!=null?r:0)/100);return createVNode("span",{style:"display: flex"},[createVNode("span",{style:"flex-basis: 50%"},[core.getStatusLabel(n)]),createTextVNode("\xA0\xA0\xA0\xA0"),createVNode("span",{style:{color:s>0?"lightgreen":"lightsalmon"}},[s>0?`+${s}`:s])])})])}function getNowStatus(e,t=!1){return createVNode("div",{id:"hero-status"},[["hp","lv","atk","def","mdef","mana","hpmax","money"].map(n=>{var r,l,f;let s;n==="lv"?s=(r=core.getLvName())!=null?r:"":s=(l=core.getRealStatus(n))==null?void 0:l.toString();let a=0;if(has(e)){a+=Math.floor(((f=e.value[n])!=null?f:0)*core.getBuff(n));const c=Math.floor(e.percentage[n]*core.getStatus(n)/100);a+=isNaN(c)?0:c}return t&&(a=-a),createVNode("div",{class:"hero-status-one"},[createVNode("span",{class:"hero-status-label"},[core.getStatusLabel(n)]),createVNode("div",{class:"hero-status-value"},[createVNode("span",{style:"margin-right: 20%"},[s]),a!==0&&createVNode("span",{style:{color:a>0?"lightgreen":"lightsalmon"}},[a>0?"+"+a:"-"+-a])])])})])}const _hoisted_1$j={id:"equipbox"},_hoisted_2$g={id:"tools"},_hoisted_3$f={id:"equipbox-main"},_hoisted_4$c={id:"equip-list"},_hoisted_5$a={id:"filter"},_hoisted_6$9={key:0},_hoisted_7$9={key:1},_hoisted_8$8=["selected","onMousedown","onTouchstart","onClick"],_hoisted_9$8={class:"equip-icon"},_hoisted_10$8={class:"equip-name"},_hoisted_11$8={id:"equip-status"},_hoisted_12$6={id:"equip-status-main"},_hoisted_13$5={id:"equip-now"},_hoisted_14$5={id:"equip-now-div"},_hoisted_15$4=["draged","access","selected","onMouseenter","onClick"],_hoisted_16$4={key:0,id:"equip-hero"},_hoisted_17$3={id:"hero-icon"},_hoisted_18$3={id:"hero-status"},_hoisted_19$3={id:"equip-desc"},_hoisted_20$2={id:"equip-icon"},_hoisted_21$2={id:"equip-type"},_hoisted_22$2={id:"equip-add"},_hoisted_23$2={id:"equip-desc-text"},_hoisted_24$2={key:0},_hoisted_25$1=["innerHTML"],_hoisted_26$1={id:"icon-drag"},_sfc_main$j=defineComponent({__name:"equipbox",setup(e){const t=ref(getEquips()),o=ref("all"),n=core.material.items,s=ref(0),a=ref(!1),r=core.status.globalAttribute.equipName,l=ref(core.status.hero.equipment),f=ref(!1),c=ref(!1),_=ref(-1),u=ref("down"),d=ref("none"),h=ref("value"),m=["none","atk","def","hpmax","mana"],y=core.getStatusLabel;watch(u,U=>{s.value=H.value.length-s.value-1}),watch(d,U=>{s.value=0}),watch(h,U=>{s.value=0});const g=computed(()=>{const U=H.value[s.value],M={name:"\u6CA1\u6709\u9009\u62E9\u88C5\u5907",cls:"equip",text:"\u6CA1\u6709\u9009\u62E9\u88C5\u5907",equip:{type:"\u65E0",value:{},percentage:{},animate:""}};if(a.value){const X=l.value[s.value],Z=core.material.items[X];return has(Z)?Z:M}return has(U)?n[U[0]]:M}),k=computed(()=>getAddStatus(g.value.equip,a.value)),B=computed(()=>g.value.text.startsWith("!!html")?ref(g.value.text):type(g.value.text,25,C("sin","out"),!0)),b=computed(()=>getNowStatus(g.value.equip,a.value)),H=computed(()=>{const U=u.value,M=d.value,X=h.value,Z=t.value.filter(oe=>{const se=n[oe[0]].equip,G=se.type;return M!=="none"&&!has(se[X][M])?!1:o.value==="all"?!0:typeof G=="string"?G===o.value:core.status.globalAttribute.equipName[G]===o.value});return M==="none"?Z:U==="down"?Z.sort((oe,se)=>{const G=n[oe[0]].equip,ie=n[se[0]].equip;return G[X][M]-ie[X][M]}):Z.sort((oe,se)=>{const G=n[oe[0]].equip;return n[se[0]].equip[X][M]-G[X][M]})});function N(){u.value==="down"?u.value="up":u.value="down"}function F(){core.plugin.equipOpened.value=!1}function x(U){var M;if(U===s.value&&f.value){const X=(M=H.value[s.value])==null?void 0:M[0];if(!core.canEquip(X)){tip$1("warn","\u65E0\u6CD5\u88C5\u5907\uFF01");return}core.loadEquip(X),T(),f.value=!1}f.value=!0}function V(U,M=!1){U!==s.value&&!M&&(f.value=!1),M&&(f.value=!1),M&&a.value===M&&s.value===U&&(core.unloadEquip(U),T()),a.value=M,s.value=U}function P(U){var X,Z;if(U<0)return!1;const M=(X=g.value.equip)==null?void 0:X.type;return!core.canEquip((Z=H.value[s.value])==null?void 0:Z[0])||!has(M)?!1:typeof M=="number"?U===M:r[U]===M}function L(){var Z;const U=_.value;if(U<0)return;if(!P(U)){tip$1("warn","\u65E0\u6CD5\u88C5\u5907\uFF01");return}const M=l.value[U],X=(Z=H.value[s.value])==null?void 0:Z[0];core.items._realLoadEquip(U,X,M),T()}function T(){l.value=core.status.hero.equipment,t.value=getEquips(),requestAnimationFrame(()=>{q()})}function q(){const U=Array.from(document.querySelectorAll(".equip"));useDrag(U,A,(M,X)=>{Q=M,te=X},()=>{c.value&&(c.value=!1,L())},!0)}let[Q,te]=[0,0];function A(U,M,X){if((U-Q)**2+(M-te)**2>10**2&&!c.value&&(c.value=!0),c.value){const Z=document.getElementById("icon-drag");Z.style.left=`${U-24}px`,Z.style.top=`${M-24}px`}}function J(U,M){U.stopPropagation(),_.value=M}function z(U){U.stopPropagation(),_.value=-1}async function ee(){const U=core.plugin.transition.value;core.plugin.transition.value=!1,F(),await S(50),core.plugin.toolOpened.value=!0,core.plugin.transition.value=U}function ae(U){const M=keycode(U.keyCode);if((M===KeyCode.KeyQ||M===KeyCode.KeyX||M===KeyCode.Escape)&&F(),U.altKey){const X=U.keyCode-48;core.quickSaveEquip(X),tip$1("success",`\u5DF2\u4FDD\u5B58\u81F3${X}\u53F7\u5957\u88C5`)}}return watch(H,U=>{q()}),onMounted(async()=>{q(),core.plugin.transition.value?await S(600):await S(50),document.addEventListener("keyup",ae)}),onUnmounted(()=>{cancelGlobalDrag(A),document.removeEventListener("keyup",ae)}),(U,M)=>{var se,G,ie,he,fe,le;const X=SelectOption,Z=__unplugin_components_1,oe=__unplugin_components_0;return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$j,[createBaseVNode("div",_hoisted_2$g,[createBaseVNode("span",{class:"button-text tools",onClick:F},[createVNode(unref(LeftOutlined)),createTextVNode(" \u8FD4\u56DE\u6E38\u620F")]),createBaseVNode("span",{class:"button-text tools",onClick:ee},[createTextVNode("\u9053\u5177\u680F "),createVNode(unref(RightOutlined))])]),createBaseVNode("div",_hoisted_3$f,[createBaseVNode("div",_hoisted_4$c,[createBaseVNode("div",_hoisted_5$a,[createVNode(Z,{value:d.value,"onUpdate:value":M[0]||(M[0]=ne=>d.value=ne),class:"select"},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(m,ne=>createVNode(X,{value:ne},{default:withCtx(()=>[createTextVNode(toDisplayString(ne==="none"?"\u6240\u6709":unref(y)(ne)),1)]),_:2},1032,["value"])),64))]),_:1},8,["value"]),createVNode(oe,{type:"vertical",class:"divider"}),createVNode(Z,{value:h.value,"onUpdate:value":M[1]||(M[1]=ne=>h.value=ne),class:"select"},{default:withCtx(()=>[createVNode(X,{value:"value"},{default:withCtx(()=>[createTextVNode("\u6570\u503C")]),_:1}),createVNode(X,{value:"percentage"},{default:withCtx(()=>[createTextVNode("\u767E\u5206\u6BD4")]),_:1})]),_:1},8,["value"]),createVNode(oe,{type:"vertical",class:"divider"}),createBaseVNode("span",{onClick:M[2]||(M[2]=ne=>N()),class:"button-text",id:"sort-type"},[u.value==="down"?(openBlock(),createElementBlock("span",_hoisted_6$9,[createVNode(unref(SortAscendingOutlined))])):(openBlock(),createElementBlock("span",_hoisted_7$9,[createVNode(unref(SortDescendingOutlined))]))])]),createVNode(oe,{dashed:"",style:{"border-color":"#ddd4",margin:"1vh 0 1vh 0"}}),createVNode(Scroll,{id:"equip-scroll"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(H),([ne,ce],de)=>(openBlock(),createElementBlock("div",{class:"equip selectable",selected:s.value===de&&!a.value,onMousedown:_e=>V(de),onTouchstart:_e=>V(de),onClick:_e=>x(de)},[createBaseVNode("div",_hoisted_9$8,[createVNode(_sfc_main$s,{id:ne!=null?ne:"none",width:32,height:32,noborder:!0},null,8,["id"]),createBaseVNode("span",_hoisted_10$8,toDisplayString(unref(n)[ne].name),1)]),createBaseVNode("span",null,"\xD7\xA0"+toDisplayString(ce),1)],40,_hoisted_8$8))),256))]),_:1})]),createBaseVNode("div",_hoisted_11$8,[createVNode(oe,{class:"divider",type:unref(isMobile)?"horizontal":"vertical",dashed:"",style:{"border-color":"#ddd4"}},null,8,["type"]),createBaseVNode("div",_hoisted_12$6,[createBaseVNode("div",_hoisted_13$5,[createVNode(Scroll,{style:normalizeStyle({height:unref(isMobile)?"10vh":"30vh"})},{default:withCtx(()=>[createBaseVNode("div",_hoisted_14$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(r),(ne,ce)=>{var de;return openBlock(),createElementBlock("div",{class:"equip-now-one draginable selectable",draged:c.value,access:P(ce),selected:a.value&&s.value===ce,onMouseenter:_e=>J(_e,ce),onMouseleave:z,onClick:_e=>V(ce,!0)},[createVNode(_sfc_main$s,{id:(de=l.value[ce])!=null?de:"none"},null,8,["id"]),createBaseVNode("span",null,toDisplayString(ne),1)],40,_hoisted_15$4)}),256))])]),_:1},8,["style"])]),createVNode(oe,{dashed:"",style:{"border-color":"#ddd4",margin:"1vh 0 1vh 0"}}),unref(isMobile)?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_16$4,[createBaseVNode("div",_hoisted_17$3,[createVNode(_sfc_main$s,{id:"hero",width:48,height:64,noborder:""})]),createBaseVNode("div",_hoisted_18$3,[(openBlock(),createBlock(resolveDynamicComponent(unref(b))))])]))]),unref(isMobile)?createCommentVNode("",!0):(openBlock(),createBlock(oe,{key:0,class:"divider",type:"vertical",dashed:"",style:{"border-color":"#ddd4"}}))]),createBaseVNode("div",_hoisted_19$3,[createBaseVNode("div",_hoisted_20$2,[createVNode(_sfc_main$s,{id:a.value?(se=l.value[s.value])!=null?se:"none":(ie=(G=unref(H)[s.value])==null?void 0:G[0])!=null?ie:"none"},null,8,["id"]),createBaseVNode("span",null,toDisplayString(unref(g).name),1)]),createBaseVNode("div",_hoisted_21$2,[createBaseVNode("span",null,"\u88C5\u5907\u5B54\uFF1A"+toDisplayString((he=unref(g).equip)==null?void 0:he.type),1)]),createVNode(oe,{dashed:"",style:{"border-color":"#ddd4",margin:"1vh 0 1vh 0"}}),createBaseVNode("div",_hoisted_22$2,[createBaseVNode("span",{style:normalizeStyle({"font-size":unref(isMobile)?"3.8vw":"3vh"}),id:"title"},"\u589E\u51CF\u5C5E\u6027",4),createVNode(Scroll,{style:{width:"100%",height:"100%"}},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(k))))]),_:1})]),createVNode(oe,{dashed:"",style:{"border-color":"#ddd4",margin:"1vh 0 1vh 0"}}),createBaseVNode("div",_hoisted_23$2,[createBaseVNode("span",{style:normalizeStyle({"font-size":unref(isMobile)?"3.8vw":"3vh"}),id:"title"},"\u88C5\u5907\u4ECB\u7ECD",4),createVNode(Scroll,{id:"desc-text",style:{height:"100%",width:"100%"}},{default:withCtx(()=>[unref(B).value.startsWith("!!html")?(openBlock(),createElementBlock("div",{key:1,innerHTML:unref(B).value.slice(6)},null,8,_hoisted_25$1)):(openBlock(),createElementBlock("div",_hoisted_24$2,toDisplayString(unref(B).value),1))]),_:1})])])])]),createBaseVNode("div",_hoisted_26$1,[c.value?(openBlock(),createBlock(_sfc_main$s,{key:0,class:"drag-icon",id:(le=(fe=unref(H)[s.value])==null?void 0:fe[0])!=null?le:"none",width:48,height:48,noborder:""},null,8,["id"])):createCommentVNode("",!0)])],64)}}}),equipbox_vue_vue_type_style_index_0_scoped_69468f29_lang="",Equipbox=_export_sfc(_sfc_main$j,[["__scopeId","data-v-69468f29"]]),transition$2=ref(!1),itemDetail$1=ref(!0),autoSkill$1=ref(!0),autoScale$1=ref(!0),showHalo$1=ref(!0),showStudied$1=ref(!0),useFixed$1=ref(!0),autoLocate$1=ref(!0),antiAliasing$1=ref(!0),fullscreen$1=ref(!1);watch(transition$2,e=>{core.plugin.transition.value=e,core.setLocalStorage("transition",e)});watch(itemDetail$1,e=>{flags.itemDetail=e,core.updateStatusBar()});watch(autoSkill$1,e=>{flags.autoSkill=e,core.updateStatusBar(),core.status.route.push(`set:autoSkill:${e}`)});watch(autoScale$1,e=>{core.setLocalStorage("autoScale",e)});watch(showStudied$1,e=>{core.setLocalStorage("showStudied",e)});watch(showHalo$1,e=>{core.setLocalStorage("showHalo",e)});watch(useFixed$1,e=>{core.setLocalStorage("useFixed",e)});watch(autoSkill$1,e=>{flags.autoLocate=e,core.updateStatusBar(),core.status.route.push(`set:autoLocate:${e}`)});watch(antiAliasing$1,e=>{core.setLocalStorage("antiAliasing",e);for(const t of core.dom.gameCanvas)core.domStyle.hdCanvas.includes(t.id)||(e?t.classList.remove("no-anti-aliasing"):t.classList.add("no-anti-aliasing"))});function reset(){const e=core.getLocalStorage("transition",!1);transition$2.value=e,core.plugin.transition.value=transition$2.value,autoScale$1.value=core.getLocalStorage("autoScale",!0),showStudied$1.value=core.getLocalStorage("showStudied",!0),showHalo$1.value=core.getLocalStorage("showHalo",!0),antiAliasing$1.value=core.getLocalStorage("antiAliasing",!1),fullscreen$1.value=!!document.fullscreenElement}function resetFlag(){var e,t,o;(e=flags.autoSkill)!=null||(flags.autoSkill=!0),(t=flags.itemDetail)!=null||(flags.itemDetail=!0),(o=flags.autoLocate)!=null||(flags.autoLocate=!0),itemDetail$1.value=!!flags.itemDetail,autoSkill$1.value=!!flags.autoSkill,autoLocate$1.value=!!flags.autoLocate}async function triggerFullscreen(){document.fullscreenElement?(await document.exitFullscreen(),requestAnimationFrame(()=>{core.maxGameScale(1)}),fullscreen$1.value=!1):(await document.body.requestFullscreen(),requestAnimationFrame(()=>{core.maxGameScale()}),fullscreen$1.value=!0)}function init$c(){return{resetSettings:reset,resetFlagSettings:resetFlag}}const fullscreen={text:"\u5168\u5C4F\u6E38\u620F",desc:["\u662F\u5426\u5168\u5C4F\u8FDB\u884C\u6E38\u620F\uFF0C\u5168\u5C4F\u540E\u6309ESC\u9000\u51FA\u5168\u5C4F\uFF0C\u4E0D\u80FD\u5F00\u542F\u7CFB\u7EDF\u8BBE\u7F6E\u83DC\u5355\uFF0C\u8BF7\u6309\u4E0B\u65B9\u7684\u6309\u94AE\u6253\u5F00\u3002","\u8FDB\u5165\u6216\u9000\u51FA\u5168\u5C4F\u540E\u8BF7\u5B58\u8BFB\u6863\u4E00\u4E0B\uFF0C\u4EE5\u89E3\u51B3\u4E00\u90E8\u5206\u7ED8\u5236\u95EE\u9898\u3002"]},transition$1={text:"\u754C\u9762\u52A8\u753B",desc:["\u662F\u5426\u5C55\u793A\u5F53\u4E00\u4E2Aui\u754C\u9762\uFF0C\u5982\u602A\u7269\u624B\u518C\u7B49\u7684\u6253\u5F00\u4E0E\u5173\u95ED\u65F6\u7684\u52A8\u753B\u3002\u5F53\u6B64\u9879\u5F00\u542F\u65F6\uFF0C","\u6240\u6709\u754C\u9762\u88AB\u6253\u5F00\u6216\u5173\u95ED\u65F6\u90FD\u4F1A\u5C55\u793A\u52A8\u753B\uFF0C\u5426\u5219\u4F1A\u76F4\u63A5\u5C55\u793A\u51FA\u6765"]},itemDetail={text:"\u5B9D\u77F3\u8840\u74F6\u663E\u4F24",desc:["\u662F\u5426\u5728\u5730\u56FE\u4E0A\u663E\u793A\u5B9D\u77F3\u8840\u74F6\u88C5\u5907\u7B49\u589E\u52A0\u7684\u5C5E\u6027\u503C"]},autoSkill={text:"\u81EA\u52A8\u5207\u6362\u6280\u80FD",desc:["\u5F00\u542F\u540E\uFF0C\u6253\u602A\u7269\u7684\u65F6\u5019\u4F1A\u81EA\u52A8\u9009\u62E9\u4F24\u5BB3\u6700\u4F4E\u7684\u6280\u80FD\u3002\u540C\u65F6\u663E\u4F24\u4E5F\u4F1A\u663E\u793A\u6B64\u72B6\u6001\u4E0B\u7684\u4F24\u5BB3\uFF0C","\u4E34\u754C\u4E5F\u4F1A\u8003\u8651\u6280\u80FD\u5728\u5185"]},autoScale={text:"\u81EA\u52A8\u653E\u7F29",desc:["\u5F00\u542F\u540E\uFF0C\u6BCF\u6B21\u8FDB\u5165\u6E38\u620F\u65F6\u4F1A\u81EA\u52A8\u7F29\u653E\u6E38\u620F\u753B\u9762\u81F3\u5408\u9002\u503C\u3002\u8BE5\u9879\u53EA\u5BF9\u7535\u8111\u7AEF\u6709\u6548\u3002","<br>","<br>","\u7F29\u653E\u539F\u5219\u5982\u4E0B\uFF1A","<br>","1. \u9996\u5148\u5C1D\u8BD5\u7F29\u653E\u81F3\u6700\u5927\u7F29\u653E\u6BD4\u4F8B","<br>","2. \u5982\u679C\u7F29\u653E\u540E\u6E38\u620F\u753B\u9762\u9AD8\u5EA6\u9AD8\u4E8E\u9875\u9762\u9AD8\u5EA6\u768495%\uFF0C\u90A3\u4E48\u7F29\u5C0F\u4E00\u4E2A\u7F29\u653E\u6BD4\u4F8B\uFF0C\u5426\u5219\u4FDD\u6301\u6700\u5927\u6BD4\u4F8B"]},showHalo={text:"\u5C55\u793A\u8303\u56F4\u5149\u73AF",desc:["\u5F00\u542F\u540E\uFF0C\u4F1A\u5728\u5730\u56FE\u4E0A\u663E\u793A\u8303\u56F4\u5149\u73AF\u3002"]},useFixed={text:"\u79FB\u52A8\u9F20\u6807\u663E\u793A\u602A\u7269\u4FE1\u606F",desc:["\u5F00\u542F\u540E\uFF0C\u5F53\u9F20\u6807\u79FB\u52A8\u5230\u602A\u7269\u4E0A\u65F6\uFF0C\u4F1A\u4EE5\u76D2\u5B50\u7684\u5F62\u5F0F\u5C55\u793A\u8BE5\u70B9\u7684\u602A\u7269\u4FE1\u606F\u3002\u624B\u673A\u7AEF\u6B64\u529F\u80FD\u65E0\u6548\u3002","<br>","<br>","\u6CE8\uFF1A\u5F53\u9F20\u6807\u79FB\u52A8\u5230\u602A\u7269\u4E0A\u65F6\uFF0C\u7ECF\u8FC7200\u6BEB\u79D2\u624D\u4F1A\u663E\u793A\u4FE1\u606F\uFF0C\u9632\u6B62\u8BEF\u64CD\u4F5C\u3002"]},autoLocate={text:"\u81EA\u52A8\u52C7\u58EB\u5B9A\u4F4D",desc:["\u6B64\u9879\u4F1A\u5728\u8FDB\u5165\u7B2C\u4E8C\u7AE0\u540E\u4F1A\u8D77\u4F5C\u7528\u3002\u5F00\u542F\u540E\uFF0C\u5F53\u52C7\u58EB\u5904\u4E8E\u4E0D\u540C\u4F4D\u7F6E\u6253\u540C\u4E00\u4E2A\u602A\u7269\u4F24\u5BB3\u4E0D\u540C\u65F6\uFF0C\u5728\u5730\u56FE\u4E0A\u4F7F\u7528\u7EFF\u8272\u7BAD\u5934\u6807\u51FA\u4F24\u5BB3\u6700\u4F4E\u7684\u4F4D\u7F6E\uFF0C","\u5176\u4F59\u65B9\u5411\uFF0C\u4F24\u5BB3\u8D8A\u9AD8\uFF0C\u7BAD\u5934\u989C\u8272\u8D8A\u7EA2\uFF0C\u540C\u65F6\u5728\u81EA\u52A8\u5BFB\u8DEF\u4E2D\u9009\u62E9\u53EF\u4EE5\u5230\u8FBE\u7684\u4F24\u5BB3\u6700\u4F4E\u7684\u4F4D\u7F6E\u3002","<br>","<br>","\u6CE8\uFF1A\u5982\u679C\u51FA\u73B0\u660E\u663E\u5361\u987F\u73B0\u8C61\u53EF\u4EE5\u8003\u8651\u5173\u95ED\u672C\u8BBE\u7F6E\u6216\u81EA\u52A8\u5207\u6362\u6280\u80FD\u8BBE\u7F6E\u3002"]},antiAliasing={text:"\u6297\u952F\u9F7F",desc:["\u662F\u5426\u5F00\u542F\u6297\u952F\u9F7F\u3002\u5F00\u542F\u540E\uFF0C\u753B\u9762\u4F1A\u53D8\u5F97\u4E0D\u90A3\u4E48\u9510\u5229\uFF0C\u89C2\u611F\u66F4\u52A0\u8212\u9002\uFF1B\u5173\u95ED\u540E\uFF0C\u53EF\u4EE5\u66F4\u597D\u5730\u5C55\u73B0\u51FA\u50CF\u7D20\u611F\uFF0C\u540C\u65F6\u90E8\u5206\u50CF\u7D20\u9519\u8BEF\u4E5F\u4E0D\u4F1A\u51FA\u73B0\u3002"]},showStudied={text:"\u5C55\u793A\u5DF2\u5B66\u4E60\u6280\u80FD",desc:["\u5F00\u542F\u540E\uFF0C\u4F1A\u5728\u753B\u9762\u5185\u4EE5\u7C7B\u4F3C\u72B6\u6001\u680F\u7684\u76D2\u5B50\u7684\u5F62\u5F0F\u663E\u793A\u5F53\u524D\u5DF2\u5B66\u4E60\u7684\u602A\u7269\u6280\u80FD\u3002"]},settingInfo={fullscreen,transition:transition$1,itemDetail,autoSkill,autoScale,showHalo,useFixed,autoLocate,antiAliasing,showStudied},_hoisted_1$i={class:"colomn"},_hoisted_2$f={class:"tools"},_hoisted_3$e=["id"],_sfc_main$i=defineComponent({__name:"colomn",props:{width:null,height:null,left:null,right:null},emits:["close"],setup(e,{emit:t}){const o=e,n=(1e8*Math.random()).toFixed(0);let s,a,r;function l(){s=document.getElementById(`column-${n}`),a=document.getElementById(`column-left-${n}`),r=document.getElementById(`column-right-${n}`),has(o.width)&&!isMobile&&(s.style.width=`${o.width}%`),has(o.height)&&(s.style.height=`${o.height}%`),has(o.left)&&(a.style.flexBasis=`${o.left}%`),has(o.right)&&(r.style.flexBasis=`${o.right}%`)}function f(c){const _=keycode(c.keyCode);(_===KeyCode.Escape||_===KeyCode.KeyX)&&t("close")}return onMounted(async()=>{l(),await S(50),core.plugin.transition.value&&await S(600),document.addEventListener("keyup",f)}),onUpdated(l),onUnmounted(()=>{document.removeEventListener("keyup",f)}),(c,_)=>{const u=__unplugin_components_0;return openBlock(),createElementBlock("div",_hoisted_1$i,[createBaseVNode("div",_hoisted_2$f,[createBaseVNode("span",{class:"button-text",onClick:_[0]||(_[0]=d=>t("close"))},[createVNode(unref(LeftOutlined)),createTextVNode(" \u8FD4\u56DE\u6E38\u620F")])]),createBaseVNode("div",{class:"column-main",id:`column-${unref(n)}`},[createVNode(Scroll,{class:"column-left",id:`column-left-${unref(n)}`},{default:withCtx(()=>[renderSlot(c.$slots,"left",{},void 0,!0)]),_:3},8,["id"]),createVNode(u,{class:"divider",dashed:"",style:{"border-color":"#ddd4"},type:unref(isMobile)?"horizontal":"vertical"},null,8,["type"]),createVNode(Scroll,{class:"column-right",id:`column-right-${unref(n)}`},{default:withCtx(()=>[renderSlot(c.$slots,"right",{},void 0,!0)]),_:3},8,["id"])],8,_hoisted_3$e)])}}}),colomn_vue_vue_type_style_index_0_scoped_682173f1_lang="",Column=_export_sfc(_sfc_main$i,[["__scopeId","data-v-682173f1"]]),_hoisted_1$h={id:"setting-list"},_hoisted_2$e=["selected"],_hoisted_3$d=["selected"],_hoisted_4$b=["selected"],_hoisted_5$9=["selected"],_hoisted_6$8=["selected"],_hoisted_7$8=["selected"],_hoisted_8$7=["selected"],_hoisted_9$7=["selected"],_hoisted_10$7=["selected"],_hoisted_11$7=["selected"],_hoisted_12$5=["innerHTML"],_sfc_main$h=defineComponent({__name:"settings",setup(e){const t=window.core,o=ref("fullscreen");fullscreen$1.value=!!document.fullscreenElement;const n=computed(()=>splitText(settingInfo[o.value].desc)),s={transition:transition$2,itemDetail:itemDetail$1,autoSkill:autoSkill$1,autoScale:autoScale$1,showHalo:showHalo$1,showStudied:showStudied$1,useFixed:useFixed$1,autoLocate:autoLocate$1,antiAliasing:antiAliasing$1,fullscreen:fullscreen$1},a=["fullscreen"];function r(){t.plugin.settingsOpened.value=!1}function l(f){if(o.value!==f){o.value=f;return}a.includes(f)?f==="fullscreen"&&triggerFullscreen():s[f].value=!s[f].value}return(f,c)=>(openBlock(),createBlock(Column,{width:60,height:60,onClose:r},{left:withCtx(()=>[createBaseVNode("div",_hoisted_1$h,[createBaseVNode("span",{class:"selectable",selected:o.value==="fullscreen",onClick:c[0]||(c[0]=_=>l("fullscreen"))},"\u5168\u5C4F\u6E38\u620F:\xA0\xA0\xA0"+toDisplayString(unref(fullscreen$1)?"ON":"OFF"),9,_hoisted_2$e),createBaseVNode("span",{class:"selectable",selected:o.value==="transition",onClick:c[1]||(c[1]=_=>l("transition"))},"\u754C\u9762\u52A8\u753B:\xA0\xA0\xA0"+toDisplayString(unref(transition$2)?"ON":"OFF"),9,_hoisted_3$d),createBaseVNode("span",{class:"selectable",selected:o.value==="itemDetail",onClick:c[2]||(c[2]=_=>l("itemDetail"))},"\u5B9D\u77F3\u8840\u74F6\u663E\u4F24:\xA0\xA0\xA0"+toDisplayString(unref(itemDetail$1)?"ON":"OFF"),9,_hoisted_4$b),createBaseVNode("span",{class:"selectable",selected:o.value==="autoSkill",onClick:c[3]||(c[3]=_=>l("autoSkill"))},"\u81EA\u52A8\u5207\u6362\u6280\u80FD:\xA0\xA0\xA0"+toDisplayString(unref(autoSkill$1)?"ON":"OFF"),9,_hoisted_5$9),createBaseVNode("span",{class:"selectable",selected:o.value==="autoScale",onClick:c[4]||(c[4]=_=>l("autoScale"))},"\u81EA\u52A8\u653E\u7F29:\xA0\xA0\xA0"+toDisplayString(unref(autoScale$1)?"ON":"OFF"),9,_hoisted_6$8),createBaseVNode("span",{class:"selectable",selected:o.value==="showHalo",onClick:c[5]||(c[5]=_=>l("showHalo"))},"\u5C55\u793A\u8303\u56F4\u5149\u73AF:\xA0\xA0\xA0"+toDisplayString(unref(showHalo$1)?"ON":"OFF"),9,_hoisted_7$8),createBaseVNode("span",{class:"selectable",selected:o.value==="useFixed",onClick:c[6]||(c[6]=_=>l("useFixed"))},"\u79FB\u52A8\u9F20\u6807\u663E\u793A\u602A\u7269\u4FE1\u606F:\xA0\xA0\xA0"+toDisplayString(unref(useFixed$1)?"ON":"OFF"),9,_hoisted_8$7),createBaseVNode("span",{class:"selectable",selected:o.value==="autoLocate",onClick:c[7]||(c[7]=_=>l("autoLocate"))},"\u52C7\u58EB\u81EA\u52A8\u5B9A\u4F4D:\xA0\xA0\xA0"+toDisplayString(unref(autoLocate$1)?"ON":"OFF"),9,_hoisted_9$7),createBaseVNode("span",{class:"selectable",selected:o.value==="antiAliasing",onClick:c[8]||(c[8]=_=>l("antiAliasing"))},"\u6297\u952F\u9F7F:\xA0\xA0\xA0"+toDisplayString(unref(antiAliasing$1)?"ON":"OFF"),9,_hoisted_10$7),unref(t).getSkillLevel(11)>0?(openBlock(),createElementBlock("span",{key:0,class:"selectable",selected:o.value==="showStudied",onClick:c[9]||(c[9]=_=>l("showStudied"))},"\u5C55\u793A\u5DF2\u5B66\u4E60\u6280\u80FD:\xA0\xA0\xA0"+toDisplayString(unref(showStudied$1)?"ON":"OFF"),9,_hoisted_11$7)):createCommentVNode("",!0)])]),right:withCtx(()=>[createBaseVNode("span",{innerHTML:unref(n)},null,8,_hoisted_12$5)]),_:1}))}}),settings_vue_vue_type_style_index_0_scoped_1877e194_lang="",Settings=_export_sfc(_sfc_main$h,[["__scopeId","data-v-1877e194"]]),tip={text:"\u6CE8\u610F\u4E8B\u9879",condition:"true",desc:["\u8FD9\u91CC\u663E\u793A\u672C\u5854\u4E2D\u9700\u8981\u6CE8\u610F\u7684\u4E8B\u9879\u3002","<br>","<br>",'1. <span style="color: yellow; font-weight: 700">',"\u672C\u767E\u79D1\u5168\u4E66\u5B57\u6570\u5F88\u591A\uFF0C\u53EF\u4EE5\u9009\u62E9\u6027\u5730\u9605\u8BFB\u3002</span>\u4E0D\u8FC7\u672C\u6761\u76EE\u6700\u597D\u53EF\u4EE5\u5168\u90E8\u9605\u8BFB\u4E00\u904D\u3002","<br>","<br>",'2. \u672C\u767E\u79D1\u5168\u4E66\u7684\u5185\u5BB9\u4F1A<span style="color: gold">\u968F\u7740\u6E38\u620F\u7684\u63A8\u8FDB\u800C\u589E\u52A0\u65B0\u5185\u5BB9</span>\uFF0C',"\u540C\u65F6\u6BCF\u6B21\u589E\u52A0\u65B0\u5185\u5BB9\u65F6\u90FD\u4F1A\u6709\u63D0\u793A\u3002","<br>","<br>","3. \u80CC\u5305\u4E2D\u7684\u7CFB\u7EDF\u8BBE\u7F6E\u540C\u6837\u975E\u5E38\u91CD\u8981\uFF0C\u6709\u4E9B\u95EE\u9898\u53EF\u4EE5\u5728\u90A3\u91CC\u627E\u5230\u539F\u56E0\u3002\u4F8B\u5982\u5F53\u4F60\u83B7\u5F97\u6280\u80FD\u65F6\u53EF\u80FD\u4F1A\u53D1\u73B0\u5F00\u542F\u4E0D\u4E86\u6280\u80FD\uFF0C","\u5C31\u662F\u56E0\u4E3A\u4F60\u6253\u5F00\u4E86\u81EA\u52A8\u5207\u6362\u6280\u80FD\u7684\u529F\u80FD\uFF0C\u5728\u7CFB\u7EDF\u8BBE\u7F6E\u91CC\u9762\u6709\u8BF4\u3002","<br>","<br>",'4. \u672C\u5854\u4E2D<span style="color: gold">\u51E0\u4E4E\u6240\u6709 ui </span>\u90FD\u53EF\u4EE5\u7EB5\u5411\u6EDA\u52A8\uFF0C\u5982\u679C\u53D1\u73B0\u663E\u793A\u4E0D\u5168\uFF0C',"\u53EF\u4EE5\u5C1D\u8BD5\u4E0A\u4E0B\u62D6\u52A8\uFF0C\u5C31\u50CF\u6D4F\u89C8\u7F51\u9875\u4E00\u6837\u3002\u7535\u8111\u7AEF\u8FD8\u53EF\u4EE5\u4F7F\u7528\u6EDA\u8F6E\u4E0A\u4E0B\u6EDA\u52A8\u3002","\u5927\u90E8\u5206\u53EF\u4EE5\u7EB5\u5411\u6EDA\u52A8\u7684 ui \u90FD\u4F1A\u5728\u53F3\u65B9\u6709\u4E00\u4E2A\u6EDA\u52A8\u6761\uFF0C\u4E5F\u53EF\u4EE5\u62D6\u52A8\u5B83\u8FDB\u884C\u6EDA\u52A8\uFF0C\u4F8B\u5982\u672C\u767E\u79D1\u5168\u4E66\u7684\u6761\u76EE\u5217\u8868\u548C","\u6761\u76EE\u8BF4\u660E\u90FD\u662F\u53EF\u4EE5\u901A\u8FC7\u4E0A\u8FF0\u65B9\u5F0F\u6EDA\u52A8\u7684\u3002","<br>","<br>","5. \u672C\u5854\u4E3B\u8981\u9762\u5411\u7535\u8111\u7AEF\u8BBE\u8BA1\uFF0C",'<span style="color: gold">\u5EFA\u8BAE\u4F7F\u7528\u7535\u8111\u6E38\u73A9\u4EE5\u83B7\u5F97\u66F4\u597D\u7684\u6E38\u620F\u4F53\u9A8C\uFF0C\u540C\u65F6\u4F7F\u7528\u7EA616:9\u7684\u6BD4\u4F8B\u6E38\u73A9\u66F4\u52A0\u5408\u9002',"</span>\u3002\u4F46\u662F\u624B\u673A\u4F9D\u7136\u53EF\u4EE5\u6E38\u73A9\u672C\u5854\uFF0C","\u4F46\u90E8\u5206\u64CD\u4F5C\u53EF\u80FD\u4E0D\u662F\u5F88\u65B9\u4FBF\uFF0Cui \u4E5F\u53EF\u80FD\u4E0D\u662F\u5F88\u7F8E\u89C2\uFF0C\u4E0D\u8FC7\u4F9D\u7136\u53EF\u4EE5\u5B8C\u6574\u4F53\u9A8C\u672C\u6E38\u620F\u3002","<br>","<br>",'6. \u5BF9\u4E8E\u624B\u673A\u7AEF\uFF0C\u53EF\u4EE5\u70B9\u51FB<span style="color: gold">\u53F3\u4E0B\u89D2\u7684\u96BE\u5EA6\u6587\u5B57</span>\u6765\u5207\u6362\u5DE5\u5177\u680F\u81F3\u6570\u5B57\u952E\u3002',"\u8FD9\u6837\uFF0C\u4F60\u53EF\u4EE5\u66F4\u52A0\u65B9\u4FBF\u5730\u8FDB\u884C\u4F7F\u7528\u6280\u80FD\u7B49\u64CD\u4F5C\u3002","<br>","<br>","6. \u672C\u5854\u4E2D\u51E0\u4E4E\u6240\u6709 ui \u5728\u6253\u5F00\u65F6\u90FD\u4F1A\u6709\u4E00\u4E2A0.6s\u7684\u52A8\u753B\uFF0C\u5982\u679C\u4E0D\u60F3\u8981\uFF0C\u53EF\u4EE5\u5728\u5F00\u5934\u6361\u7684\u7CFB\u7EDF\u8BBE\u7F6E\u91CC\u9762\u5173\u95ED\uFF08\u9ED8\u8BA4\u5173\u95ED\uFF09\u3002","\u540C\u65F6\uFF0C\u51E0\u4E4E\u6240\u6709 ui \u7684\u9000\u51FA\u6309\u94AE\u90FD\u5728\u5DE6\u4E0A\u89D2\u3002","<br>","<br>",'7. \u5730\u56FE\u4E0A\u663E\u793A\u7684\u602A\u7269\u4E34\u754C\u6709\u53EF\u80FD\u4E0D\u51C6\uFF0C\u5F53\u5176\u4E0E\u6298\u7EBF\u56FE\u6709\u5DEE\u5F02\u65F6\uFF0C<span style="color: gold">\u8BF7\u4EE5\u6298\u7EBF\u56FE\u4E3A\u51C6</span>\u3002']},about={text:"\u5173\u4E8E\u6E38\u620F",condition:"true",desc:["\u4F7F\u7528\u6837\u677F\uFF1AVite \u9B54\u5854\u6837\u677F","<br>","\u6837\u677F\u7248\u672C\uFF1AV2.10.0","<br>","\u6E38\u620F\u7248\u672C\uFF1AV1.0.0","<br>",'\u6E38\u620F\u5F00\u6E90\u5730\u5740\uFF1A<a href="https://github.com/unanmed/HumanBreak" target="_blank">',"https://github.com/unanmed/HumanBreak</a>","<br>","\u6E38\u620F\u4F5C\u8005\uFF1A\u53E4\u7960","<br>",'\u672C\u5854\u9075\u5FAAMIT\u5F00\u6E90\u534F\u8BAE\u3002<a href="LICENSE" target="_blank">\u67E5\u770B\u5F00\u6E90\u534F\u8BAE</a>',"<br>","BGM\u6765\u6E90\uFF1A\u7F51\u6613\u4E91\u97F3\u4E50\u7B49","<br>","\u7D20\u6750\u6765\u6E90\uFF1A\u5927\u7D20\u6750\u5E93\u3001\u7231\u7ED9\u7F51\u3001\u7F51\u7AD9\u7D20\u6750\u5E93\u7B49","<br>","\u7279\u522B\u9E23\u8C22\uFF1A\u65E0\u540D\u7532\u70F7\u83CC\uFF08\u63D0\u4F9B\u90E8\u5206\u7279\u6B8A\u5C5E\u6027\u4E0E\u673A\u5236\u60F3\u6CD5\uFF09","<br>","\u6D4B\u8BD5\uFF1A"]},tutorial={text:"\u65B0\u624B\u6559\u7A0B",condition:"true",desc:["\u672C\u6761\u76EE\u662F\u9B54\u5854\u6E38\u620F\u7684\u65B0\u624B\u6559\u7A0B\uFF0C\u5982\u679C\u5BF9\u9B54\u5854\u6709\u4E00\u5B9A\u7684\u4E86\u89E3\uFF0C\u53EF\u4EE5\u76F4\u63A5\u5FFD\u7565\u3002","<br>","<br>",'\u9B54\u5854\u662F\u4E00\u79CD\u56FA\u5B9A\u6570\u503Crpg\u6E38\u620F\uFF0C\u5728\u6253\u602A\u7684\u65F6\u5019\uFF0C\u9075\u5FAA<span style="color: gold">\u6211\u6253\u4F60\u4E00\u4E0B\uFF0C\u4F60\u6253\u6211\u4E00\u4E0B</span>',"\u7684\u539F\u5219\uFF0C\u9020\u6210\u7684\u4F24\u5BB3\u662F\u5DF1\u65B9\u653B\u51FB\u51CF\u53BB\u5BF9\u65B9\u9632\u5FA1\uFF0C\u6700\u540E\u602A\u7269\u7684\u4F24\u5BB3\u4FBF\u662F\u4F60\u5728\u6218\u6597\u4E2D\u5931\u53BB\u7684\u751F\u547D\u503C\u3002\u5F53\u7136\uFF0C\u4E3A\u4E86\u6E38\u620F\u4F53\u9A8C\uFF0C","\u6218\u6597\u8FC7\u7A0B\u4F1A\u88AB\u7701\u7565\u3002","<br>","<br>","\u5B9D\u77F3\u53EF\u4EE5\u589E\u52A0\u4F60\u7684\u5C5E\u6027\uFF0C\u5728\u5927\u90E8\u5206\u9B54\u5854\u4E2D\uFF0C\u7EA2\u5B9D\u77F3\u589E\u52A0\u653B\u51FB\uFF0C\u84DD\u5B9D\u77F3\u589E\u52A0\u9632\u5FA1\uFF0C\u672C\u5854\u4E5F\u4E0D\u4F8B\u5916\u3002\u8840\u74F6\u53EF\u4EE5\u589E\u52A0\u4F60\u7684\u751F\u547D\u503C\u3002",'\u4E00\u822C\u60C5\u51B5\u4E0B\uFF0C\u62FE\u53D6\u5B9D\u7269\u7684\u4F18\u5148\u7EA7\u662F<span style="color: gold">\u7EA2\u5B9D\u77F3 &gt; \u84DD\u5B9D\u77F3 &gt; \u8840\u74F6</span>\uFF0C',"\u4F46\u90E8\u5206\u60C5\u51B5\u53EF\u80FD\u4E0D\u662F\u8FD9\u6837\uFF0C\u8FD9\u9700\u8981\u4F60\u81EA\u5DF1\u7684\u6E38\u73A9\u7ECF\u9A8C\u7B49\u3002","<br>","<br>","\u672C\u5854\u8FD8\u62E5\u6709\u5347\u7EA7\u673A\u5236\uFF0C\u5347\u7EA7\u65F6\u80FD\u591F\u7ED9\u4F60\u589E\u52A0\u5927\u91CF\u7684\u5C5E\u6027\uFF0C\u56E0\u6B64\uFF0C\u4E00\u822C\u60C5\u51B5\u4E0B\u5F53\u4F60\u63A5\u8FD1\u5347\u7EA7\u65F6\uFF0C\u9700\u8981\u5C3D\u5FEB\u6253\u602A\u5347\u7EA7\u3002","<br>","<br>","\u7136\u540E\u662F\u95E8\u3002\u5728\u9B54\u5854\u4E2D\uFF0C\u5F88\u591A\u95E8\u90FD\u4E0D\u662F\u5FC5\u5F00\u7684\u95E8\uFF0C\u5B83\u4EEC\u7684\u4F5C\u7528\u4E00\u822C\u662F\u53EF\u4EE5\u8EB2\u5F00\u602A\u7269\u62FF\u5B9D\u77F3\uFF0C\u6216\u8005\u95E8\u91CC\u9762\u6709\u8840\u74F6\u7B49\u3002","\u5F53\u4F60\u8840\u91CF\u8DB3\u591F\u65F6\uFF0C\u8FD9\u4E9B\u95E8\u53EF\u4EE5\u4E0D\u7528\u5F00\uFF0C\u4E0D\u7136\u53EF\u80FD\u4F1A\u6709\u5FC5\u5F00\u7684\u95E8\u65E0\u6CD5\u5F00\u542F\u5BFC\u81F4\u5361\u5173\u3002\u5BF9\u4E8E\u94A5\u5319\uFF0C\u6BCF\u79CD\u989C\u8272\u7684\u94A5\u5319\u5F00\u5BF9\u5E94\u989C\u8272\u7684\u95E8\uFF0C",'\u4EF7\u503C\u662F<span style="color: gold">\u7EA2 &gt; \u84DD &gt; \u9EC4</span>\u3002',"<br>","<br>","\u4E3A\u4E86\u66F4\u52A0\u65B9\u4FBF\uFF0C\u672C\u5854\u589E\u52A0\u4E86\u5B9D\u77F3\u8840\u74F6\u663E\u793A\u6570\u636E\u7684\u529F\u80FD\uFF0C\u8FD9\u6837\u4F60\u53EF\u4EE5\u6E05\u6670\u5730\u77E5\u9053\u6BCF\u4E2A\u5B9D\u77F3\u589E\u52A0\u4E86\u591A\u5C11\u5C5E\u6027\u3002","<br>","<br>","\u4E0B\u9762\u662F\u52C7\u58EB\u57FA\u7840\u5C5E\u6027\u7684\u8BF4\u660E:","<br>",'<span style="color: lightgreen">1. \u751F\u547D\u503C</span>\uFF1A',"\u52C7\u58EB\u7684\u8840\u91CF\uFF0C\u5F53\u5B83\u5F52\u96F6\u65F6\uFF0C\u6E38\u620F\u7ED3\u675F","<br>",'<span style="color: lightcoral">2. \u653B\u51FB</span>\uFF1A',"\u52C7\u58EB\u7684\u653B\u51FB\uFF0C\u653B\u51FB\u8D8A\u9AD8\uFF0C\u6BCF\u56DE\u5408\u5BF9\u602A\u7269\u9020\u6210\u7684\u4F24\u5BB3\u8D8A\u9AD8","<br>",'<span style="color: lightblue">3. \u9632\u5FA1</span>\uFF1A',"\u52C7\u58EB\u7684\u9632\u5FA1\uFF0C\u9632\u5FA1\u8D8A\u9AD8\uFF0C\u602A\u7269\u6BCF\u56DE\u5408\u5BF9\u4F60\u9020\u6210\u7684\u4F24\u5BB3\u8D8A\u4F4E","<br>",'<span style="color: green">4. \u7ECF\u9A8C</span>\uFF1A',"\u52C7\u58EB\u7684\u7ECF\u9A8C\uFF0C\u5230\u8FBE\u4E00\u5B9A\u503C\u540E\u4F1A\u5347\u7EA7\u3002\u672C\u5854\u5728\u72B6\u6001\u680F\u4E2D\u663E\u793A\u4E3A\u8DDD\u79BB\u5347\u7EA7\u5269\u4F59\u7684\u7ECF\u9A8C","<br>",'<span style="color: gold">5. \u91D1\u5E01</span>\uFF1A',"\u52C7\u58EB\u7684\u91D1\u5E01\uFF0C\u53EF\u4EE5\u7528\u4E8E\u8D2D\u4E70\u7269\u54C1\u3002\u672C\u5854\u4E2D\u5728\u8FDB\u5165\u7B2C\u4E8C\u7AE0\u540E\u4F1A\u6709\u7528","<br>",'<span style="color: lightgreen">6. \u62A4\u76FE</span>\uFF1A',"\u52C7\u58EB\u7684\u62A4\u76FE\uFF0C\u7528\u5904\u662F\u80FD\u591F\u5728\u6218\u540E\u51CF\u5C11\u540C\u7B49\u6570\u503C\u7684\u4F24\u5BB3\uFF0C\u5728\u672C\u5854\u4E2D\u53EF\u4EE5\u4F7F\u4F24\u5BB3\u53D8\u4E3A\u8D1F\u503C\u3002\u672C\u5854\u4E2D\uFF0C\u5728\u70B9\u5F00\u65E0\u4E0A\u4E4B\u76FE\u6280\u80FD\u540E\uFF0C","\u667A\u6167\u4F1A\u5145\u5F53\u62A4\u76FE\u3002\u66F4\u591A\u4FE1\u606F\u53EF\u4EE5\u67E5\u770B\u201C\u52C7\u58EB\u5C5E\u6027\u201D\u6761\u76EE\u3002"]},noun={text:"\u540D\u8BCD\u89E3\u91CA",condition:"true",desc:["\u672C\u6761\u76EE\u4F1A\u89E3\u91CA\u8BF8\u5982\u4E34\u754C\u7B49\u9B54\u5854\u672F\u8BED\uFF0C\u5BF9\u9B54\u5854\u6709\u4E00\u5B9A\u4E86\u89E3\u7684\u53EF\u4EE5\u76F4\u63A5\u5FFD\u7565\u3002","<br>","<br>",'<span style="color: lightcoral">1. \u4E34\u754C</span>\uFF1A',"\u5728\u9B54\u5854\u4E2D\uFF0C\u4E34\u754C\u662F\u4E00\u4E2A\u975E\u5E38\u91CD\u8981\u7684\u4E1C\u897F\u3002\u9996\u5148\uFF0C\u6211\u4EEC\u5F88\u5BB9\u6613\u53EF\u4EE5\u5F97\u5230\uFF0C\u5403\u653B\u51FB\u65F6\u53EA\u6709\u5F53\u51CF\u5C11\u4E86\u6218\u6597\u56DE\u5408\u6570\u65F6\u602A\u7269\u7684\u4F24\u5BB3\u4F1A\u51CF\u5C11\uFF0C",'\u90A3\u4E48\uFF0C\u5403\u653B\u51FB\u65F6\u602A\u7269\u7684\u51CF\u4F24\u662F\u4E0D\u8FDE\u7EED\u7684\u3002\u800C<span style="color: gold">\u8DDD\u79BB\u4E0B\u4E00\u6B21\u51CF\u5C11\u602A\u7269\u7684\u4F24\u5BB3\u9700\u8981\u52A0\u7684\u653B\u51FB\u7684\u91CF</span>',"\u4FBF\u662F\u4E34\u754C\u3002\u5F53\u6211\u4EEC\u5403\u4E00\u4E2A\u653B\u51FB\u6070\u597D\u4F7F\u602A\u7269\u4F24\u5BB3\u51CF\u5C11\u65F6\uFF0C\u79F0\u4E3A\u201C\u8E29\u4E34\u754C\u201D\u3002\u4E00\u822C\u60C5\u51B5\u4E0B\uFF0C\u8E29\u4E34\u754C\u7684\u51CF\u4F24\u8981\u6BD4\u5403\u9632\u5FA1\u8981\u9AD8\uFF0C","\u56E0\u6B64\uFF0C\u5F53\u80FD\u8E29\u5230\u4E34\u754C\u65F6\uFF0C\u6211\u4EEC\u5E94\u5F53\u5148\u8E29\u4E34\u754C\uFF0C\u518D\u5403\u9632\u5FA1\u3002","<br>","<br>",'<span style="color: lightblue">2. \u52A0\u9632</span>\uFF1A',"\u52A0\u9632\u6307\u7684\u662F\u52A0\u9632\u5BF9\u602A\u7269\u7684\u51CF\u4F24\u3002\u5728\u672C\u5854\u4E2D\uFF0C\u4F1A\u4EE5\u201Cn\u9632\u201D\u7684\u5F62\u5F0F\u663E\u793A\u5728\u602A\u7269\u624B\u518C\u6216\u5176\u4ED6\u5730\u65B9\u3002\u5728\u672C\u5854\u4E2D\uFF0C\u4E00\u822C\u4F60\u4E0D\u9700\u8981\u523B\u610F\u8BA1\u7B97",'\u4E34\u754C\u4E0E\u52A0\u9632\u51CF\u4F24\uFF0C\u4F60\u53EF\u4EE5\u5728\u602A\u7269\u624B\u518C\u4E2D<span style="color: gold">\u67E5\u770B\u51CF\u4F24\u6298\u7EBF\u56FE</span>\uFF0C',"\u66F4\u591A\u4FE1\u606F\u8BF7\u67E5\u770B\u201C\u602A\u7269\u624B\u518C\u201D\u6761\u76EE\u3002","<br>","<br>",'<span style="color: gold">3. \u54B8\u9C7C</span>\uFF1A',"\u4E00\u822C\u6765\u8BB2\uFF0C\u5F00\u4E0D\u5FC5\u5F00\u7684\u95E8\uFF0C\u6216\u8005\u4F7F\u7528\u4E0D\u5FC5\u4F7F\u7528\u7684\u9053\u5177\u88AB\u79F0\u4E3A\u54B8\u9C7C\uFF0C\u6216\u8005\u662F\u54B8\u95E8\uFF0C\u54B8\u9053\u5177\u3002\u4E00\u822C\u60C5\u51B5\u4E0B\uFF0C\u8BF4\u201C\u54B8\u201D\u4FBF\u662F\u6307\u54B8\u9C7C\u3002","\u4E00\u822C\u60C5\u51B5\u4E0B\uFF0C\u95E8\u540E\u9762\u6709\u5B9D\u77F3\u4E14\u65E0\u6CD5\u901A\u8FC7\u5176\u4ED6\u65B9\u5F0F\u8FDB\u5165\u7684\u90FD\u662F\u5FC5\u5F00\u95E8\uFF0C\u800C\u53EA\u6709\u8840\u74F6\u7684\u90FD\u662F\u54B8\u9C7C\u95E8\u3002"]},shortcut={text:"\u5FEB\u6377\u952E",condition:"true",desc:["\u8FD9\u91CC\u5305\u542B\u672C\u5854\u4E2D\u6240\u6709\u7684\u5FEB\u6377\u952E\u3002\u5BF9\u4E8E\u624B\u673A\u7AEF\uFF0C\u53EF\u4EE5\u70B9\u51FB\u5DE5\u5177\u680F\u7684\u96BE\u5EA6\u7684\u4F4D\u7F6E\u5207\u6362\u5DE5\u5177\u680F\u81F3\u6570\u5B57\u952E\u3002","\u4E0B\u9762\u4F1A\u5206\u4E3A\u6837\u677F\u5FEB\u6377\u952E\u548C\u672C\u5854\u5FEB\u6377\u952E\u4E24\u7C7B\u5206\u522B\u8BF4\u660E\u3002\u53EF\u4EE5ctrl+F\u8FDB\u884C\u641C\u7D22\u5FEB\u6377\u952E\u7684\u529F\u80FD\u3002","<br>","<br>","\u4E0B\u9762\u662F\u6837\u677F\u4E2D\u7684\u6240\u6709\u5FEB\u6377\u952E\uFF1A","<br>",'<span style="color: gold">X</span>\uFF1A\u6253\u5F00\u602A\u7269\u624B\u518C',"<br>",'<span style="color: gold">S</span>\uFF1A\u6253\u5F00\u5B58\u6863\u754C\u9762',"<br>",'<span style="color: gold">D</span>\uFF1A\u6253\u5F00\u8BFB\u6863\u754C\u9762',"<br>",'<span style="color: gold">A\u62165</span>\uFF1A\u8BFB\u53D6\u81EA\u52A8\u5B58\u6863',"<br>",'<span style="color: gold">W\u62166</span>\uFF1A\u64A4\u9500\u8BFB\u53D6\u7684\u81EA\u52A8\u5B58\u6863',"<br>",'<span style="color: gold">Q</span>\uFF1A\u6253\u5F00\u88C5\u5907\u680F',"<br>",'<span style="color: gold">T</span>\uFF1A\u6253\u5F00\u9053\u5177\u680F',"<br>",'<span style="color: gold">G</span>\uFF1A\u6253\u5F00\u697C\u5C42\u4F20\u9001\u5668',"<br>",'<span style="color: gold">Z\u6216\u5355\u51FB\u52C7\u58EB</span>\uFF1A\u52C7\u58EB\u8F6C\u5411',"<br>",'<span style="color: gold">\u7A7A\u683C\u6216\u53CC\u51FB\u52C7\u58EB\u62167</span>\uFF1A\u8F7B\u6309\uFF08\u62FE\u53D6\u52C7\u58EB\u5468\u56F4\u7684\u5B9D\u7269\u4F46\u4E0D\u79FB\u52A8\u52C7\u58EB\uFF09',"<br>",'<span style="color: gold">Esc</span>\uFF1A\u6253\u5F00\u6E38\u620F\u83DC\u5355',"<br>",'<span style="color: gold">R</span>\uFF1A\u6253\u5F00\u5F55\u50CF\u56DE\u653E\u83DC\u5355',"<br>",'<span style="color: gold">N</span>\uFF1A\u8BE2\u95EE\u662F\u5426\u8FD4\u56DE\u6E38\u620F\u4E3B\u83DC\u5355',"<br>",'<span style="color: gold">V</span>\uFF1A\u6253\u5F00\u5FEB\u6377\u5546\u5E97',"<br>",'<span style="color: gold">B</span>\uFF1A\u6253\u5F00\u6570\u636E\u7EDF\u8BA1\u754C\u9762',"<br>",'<span style="color: gold">Alt + \u6570\u5B57\u952E</span>\uFF1A\u5FEB\u901F\u6362\u88C5',"<br>",'<span style="color: gold">PgUp\u6216PgDn</span>\uFF1A\u6D4F\u89C8\u5730\u56FE',"<br>",'<span style="color: gold">P</span>\uFF1A\u6253\u5F00\u8BC4\u8BBA\u533A',"<br>","<br>","\u4E0B\u9762\u662F\u672C\u5854\u4E2D\u65B0\u589E\u7684\u5FEB\u6377\u952E\uFF08\u4E0D\u5305\u62EC\u6280\u80FD\uFF0C\u6280\u80FD\u5FEB\u6377\u952E\u8BF7\u5728\u67E5\u770B\u6280\u80FD\u754C\u9762\u4E2D\u67E5\u770B\uFF09\uFF1A","<br>",'<span style="color: gold">M</span>\uFF1A\u5FEB\u901F\u6807\u8BB0\u602A\u7269',"<br>",'<span style="color: gold">J</span>\uFF1A\u6253\u5F00\u6280\u80FD\u6811',"<br>",'<span style="color: gold">H</span>\uFF1A\u6253\u5F00\u767E\u79D1\u5168\u4E66',"<br>",'<span style="color: gold">E</span>\uFF1A\u67E5\u770B\u9F20\u6807\u4F4D\u7F6E\u602A\u7269\u7684\u7279\u6B8A\u5C5E\u6027\u4FE1\u606F',"<br>",'<span style="color: gold">C</span>\uFF1A\u67E5\u770B\u9F20\u6807\u4F4D\u7F6E\u602A\u7269\u7684\u8BE6\u7EC6\u4E34\u754C\u4FE1\u606F']},extraAttr={text:"\u52C7\u58EB\u5C5E\u6027",condition:"true",desc:["\u8FD9\u91CC\u53EA\u5BF9\u672C\u5854\u4E2D\u65B0\u589E\u7684\u52C7\u58EB\u5C5E\u6027\u8FDB\u884C\u8BF4\u660E\u3002","<br>","<br>",'<span style="color: lightblue">1. \u667A\u6167</span>\uFF1A',"\u667A\u6167\u662F\u8BE5\u5854\u7684\u6838\u5FC3\u5C5E\u6027\u4E4B\u4E00\u3002\u667A\u6167\u53EF\u7528\u4E8E\u667A\u6167\u52A0\u70B9\uFF0C\u8BE5\u529F\u80FD\u4F1A\u5728\u8FDB\u5165\u7B2C\u4E00\u7AE0\u540E\u5F00\u542F\u3002\u4F7F\u7528\u667A\u6167\u53EF\u4EE5\u70B9\u6280\u80FD\u6811\u3002","\u9664\u6B64\u4E4B\u5916\uFF0C\u667A\u6167\u4E5F\u6709\u5176\u5B83\u529F\u80FD\u3002\u4F8B\u5982\u70B9\u5F00\u65E0\u4E0A\u4E4B\u76FE\u6280\u80FD\u540E\u667A\u6167\u8FD8\u53EF\u4EE5\u5145\u5F53\u62A4\u76FE\uFF0C\u7B2C\u4E8C\u7AE0\u70B9\u5F00\u5B66\u4E60\u6280\u80FD\u540E\u53EF\u4EE5\u4F7F\u7528\u667A\u6167\u5B66\u4E60\u602A\u7269\u6280\u80FD\u7B49\u3002","<br>","<br>",'<span style="color: lightgreen">2. \u751F\u547D\u56DE\u590D</span>\uFF1A',"\u751F\u547D\u56DE\u590D\u6307\u7684\u662F\u52C7\u58EB\u6BCF\u56DE\u5408\u56DE\u590D\u7684\u751F\u547D\u503C\u3002\u5F53\u4E0E\u602A\u7269\u6218\u6597\u65F6\uFF0C\u52C7\u58EB\u6BCF\u56DE\u5408\u90FD\u4F1A\u56DE\u590D\u5BF9\u5E94\u91CF\u7684\u751F\u547D\u503C\u3002\u56E0\u6B64\uFF0C\u5F53\u5403\u653B\u51FB\u65F6\uFF0C","\u4E0E\u602A\u7269\u6218\u6597\u7684\u56DE\u5408\u6570\u53EF\u80FD\u4F1A\u51CF\u5C11\uFF0C\u5BFC\u81F4\u751F\u547D\u56DE\u590D\u7684\u603B\u56DE\u590D\u91CF\u51CF\u5C11\u3002\u4E0D\u8FC7\u5927\u90E8\u5206\u60C5\u51B5\u4E0B\u4E0D\u9700\u8981\u5728\u610F\u8FD9\u4E00\u70B9\uFF0C","\u51CF\u5C11\u4E00\u56DE\u5408\u5E76\u4E0D\u4F1A\u5BF9\u5438\u7684\u8840\u9020\u6210\u5F88\u5927\u7684\u5F71\u54CD\uFF0C\u9664\u4E86\u4E00\u4E9B\u7279\u6B8A\u60C5\u51B5\u3002","\u8BE5\u9879\u4F1A\u663E\u793A\u5728\u72B6\u6001\u680F\u7684\u751F\u547D\u503C\u53F3\u65B9\u504F\u4E0B\u7684\u4F4D\u7F6E\u3002","<br>","<br>",'<span style="color: lightcoral">3. \u989D\u5916\u653B\u51FB</span>\uFF1A',"\u989D\u5916\u653B\u51FB\u6307\u7684\u662F\u52C7\u58EB\u6BCF\u56DE\u5408\u7684\u989D\u5916\u9020\u6210\u7684\u4F24\u5BB3\u3002\u4E00\u822C\u60C5\u51B5\u4E0B\uFF0C\u5F53\u52C7\u58EB\u7834\u4E86\u602A\u7269\u7684\u9632\u5FA1\u65F6\uFF0C\u8BE5\u9879\u4FBF\u4F1A\u8D77\u4F5C\u7528\u3002","\u989D\u5916\u653B\u51FB\u76F8\u5F53\u4E8E\u9B54\u653B\uFF0C\u65E0\u6CD5\u901A\u8FC7\u4E00\u822C\u65B9\u5F0F\u51CF\u514D\u3002\u5F53\u52C7\u58EB\u653B\u51FB\u602A\u7269\u65F6\uFF0C\u6BCF\u56DE\u5408\u90FD\u4F1A\u9644\u52A0\u5BF9\u5E94\u91CF\u7684\u4F24\u5BB3\uFF0C\u5BF9\u575A\u56FA\u602A\u540C\u6837\u6709\u6548\u3002","\u989D\u5916\u653B\u51FB\u4F1A\u663E\u793A\u5728\u72B6\u6001\u680F\u7684\u653B\u51FB\u53F3\u65B9\u504F\u4E0B\u7684\u4F4D\u7F6E\u3002"]},statusBar={text:"\u72B6\u6001\u680F",condition:"true",desc:["\u5728\u672C\u5854\u4E2D\uFF0C\u72B6\u6001\u680F\u4E0E\u6E38\u620F\u753B\u9762\u662F\u5206\u5F00\u7684\u3002\u4F60\u53EF\u4EE5\u81EA\u7531\u62D6\u52A8\u72B6\u6001\u680F\uFF0C\u4E5F\u53EF\u4EE5\u4FEE\u6539\u5176\u5927\u5C0F\u3002","\u5177\u4F53\u65B9\u6CD5\u5982\u4E0B\uFF1A\u70B9\u51FB\u4E00\u4E0B\u72B6\u6001\u680F\u4E4B\u540E\uFF0C\u5DE6\u4E0A\u89D2\u7684\u62D6\u62FD\u56FE\u6807\u4F1A\u653E\u5927\uFF0C\u6B64\u65F6\u4F60\u53EF\u4EE5\u6309\u4F4F\u5B83\u62D6\u52A8\u72B6\u6001\u680F\u3002","\u4F60\u53EF\u4EE5\u76F4\u63A5\u5C06\u9F20\u6807\u653E\u5230\u72B6\u6001\u680F\u7684\u8FB9\u6846\u4E0A\uFF0C\u7136\u540E\u76F4\u63A5\u62D6\u52A8\u4EE5\u6539\u53D8\u72B6\u6001\u680F\u7684\u5927\u5C0F\u3002\u624B\u673A\u7AEF\u53EF\u4EE5\u5148\u70B9\u51FB\u4E00\u4E0B\u72B6\u6001\u680F\u4F7F\u8FB9\u6846","\u53D8\u5BBD\uFF0C\u7136\u540E\u62D6\u52A8\u3002\u7535\u8111\u7AEF\u70B9\u51FB\u72B6\u6001\u680F\u4E5F\u53EF\u4EE5\u4F7F\u8FB9\u6846\u53D8\u5BBD\u3002\u5982\u679C\u4F60\u60F3\u6298\u53E0\u72B6\u6001\u680F\uFF0C\u5B8C\u5168\u53EF\u4EE5\u62D6\u52A8\u72B6\u6001\u680F\u7684\u4E0B\u8FB9\u6846\uFF0C","\u7136\u540E\u76F4\u63A5\u62D6\u52A8\u81F3\u4E0A\u65B9\uFF0C\u8FD9\u65F6\u72B6\u6001\u680F\u4FBF\u4F1A\u53D8\u6210\u4E00\u6761\u7EBF\uFF0C\u76F8\u5F53\u4E8E\u6298\u53E0\u4E86\u72B6\u6001\u680F","<br>","<br>","\u72B6\u6001\u680F\u53EF\u4EE5\u7EB5\u5411\u6EDA\u52A8\uFF0C\u5982\u679C\u4F60\u53D1\u73B0\u72B6\u6001\u680F\u663E\u793A\u4E0D\u5168\uFF0C\u53EF\u4EE5\u5C1D\u8BD5\u62C9\u5927\u72B6\u6001\u680F\uFF0C\u6216\u8005\u7EB5\u5411\u62D6\u52A8\u72B6\u6001\u680F\uFF0C\u5C31\u50CF\u7F51\u9875\u4E0A\u4E0B\u6EDA\u52A8\u4E00\u6837\u3002","\u7535\u8111\u7AEF\u8FD8\u53EF\u4EE5\u4F7F\u7528\u6EDA\u8F6E\u4E0A\u4E0B\u6EDA\u52A8\u3002","<br>","<br>","\u5982\u679C\u4F60\u89C9\u5F97\u72B6\u6001\u680F\u6709\u4E9B\u788D\u4E8B\uFF0C\u4F60\u5B8C\u5168\u53EF\u4EE5\u5C06\u5176\u7F29\u5C0F\uFF0C\u6216\u8005\u628A\u5B83\u653E\u5230\u4E0D\u788D\u4E8B\u7684\u5730\u65B9\u3002","<br>","<br>","\u72B6\u6001\u680F\u4E0A\u9762\u53EF\u80FD\u4F1A\u6709\u6309\u94AE\uFF0C\u4F60\u53EF\u4EE5\u76F4\u63A5\u70B9\u51FB\u3002","<br>","<br>","\u5BF9\u72B6\u6001\u680F\u5E03\u5C40\u7684\u8BF4\u660E\u3002","<br>","\u672C\u5854\u7684\u72B6\u6001\u680F\u7684\u5E03\u5C40\u8F83\u4E3A\u7075\u6D3B\u3002\u5B83\u662F\u6A2A\u5411\u7684\u5E03\u5C40\uFF0C\u5728\u72B6\u6001\u680F\u8F83\u5BBD\u65F6\u53EF\u4EE5\u770B\u5230\uFF0C\u5C5E\u6027\u4F1A\u6A2A\u5411\u4F9D\u6B21\u663E\u793A\u3002\u6309\u7167\u663E\u793A\u987A\u5E8F\uFF0C","\u72B6\u6001\u680F\u663E\u793A\u9879\u4F9D\u6B21\u4E3A\uFF1A","<br>","<br>","1. \u697C\u5C42\u540D\uFF0C\u70B9\u51FB\u540E\u8FDB\u5165\u6D4F\u89C8\u5730\u56FE\u754C\u9762","<br>","2. \u52C7\u58EB\u7B49\u7EA7","<br>","3. \u5F53\u524D\u5F00\u542F\u7684\u6280\u80FD","<br>","4. \u5F53\u524D\u52C7\u58EB\u751F\u547D\u503C\uFF0C\u53F3\u65B9\u504F\u4E0B\u4E3A\u6BCF\u56DE\u5408\u56DE\u590D\u7684\u751F\u547D\u503C\uFF0C\u5F53\u70B9\u5F00\u6CBB\u6108\u4E4B\u6CC9\u6280\u80FD\u65F6\uFF0C\u53F3\u65B9\u504F\u4E0A\u4F1A\u663E\u793A\u8DDD\u79BB\u589E\u52A0\u751F\u547D\u56DE\u590D\u5269\u4F59\u8840\u74F6\u6570","<br>","5. \u5F53\u524D\u52C7\u58EB\u7684\u653B\u51FB\uFF0C\u53F3\u65B9\u504F\u4E0B\u4E3A\u52C7\u58EB\u7684\u989D\u5916\u653B\u51FB","<br>","6. \u5F53\u524D\u52C7\u58EB\u7684\u9632\u5FA1","<br>","7. \u5F53\u524D\u52C7\u58EB\u7684\u667A\u6167\uFF0C\u53EF\u4EE5\u7528\u4E8E\u667A\u6167\u52A0\u70B9\u7B49","<br>","8. \u5F53\u524D\u52C7\u58EB\u7684\u91D1\u5E01","<br>","9. \u5F53\u524D\u52C7\u58EB\u8DDD\u79BB\u5347\u7EA7\u5269\u4F59\u7ECF\u9A8C\u6570","<br>","10. \u4E09\u8272\u94A5\u5319","<br>","11. \u6253\u5F00\u6280\u80FD\u6811\uFF08\u8FDB\u5165\u7B2C\u4E00\u7AE0\u540E\u5F00\u542F\uFF09","<br>","12. \u67E5\u770B\u52C7\u58EB\u7684\u6280\u80FD\uFF08\u8FDB\u5165\u7B2C\u4E00\u7AE0\u540E\u5F00\u542F\uFF09"]},markEnemy={text:"\u6807\u8BB0\u602A\u7269",condition:"true",desc:["\u6807\u8BB0\u602A\u7269\u53EF\u4EE5\u4F7F\u4F60\u80FD\u591F\u66F4\u52A0\u65B9\u4FBF\u5730\u4E86\u89E3\u4E00\u4E2A\u602A\u7269\u7684\u60C5\u51B5\u3002","<br>","\u4F60\u53EF\u4EE5\u901A\u8FC7\u4EE5\u4E0B\u4E24\u79CD\u65B9\u5F0F\u6807\u8BB0\u602A\u7269\uFF1A","<br>","1. \u6253\u5F00\u602A\u7269\u624B\u518C\uFF0C\u9009\u4E2D\u602A\u7269\uFF0C\u8FDB\u5165\u602A\u7269\u66F4\u591A\u4FE1\u606F\u680F\uFF0C\u70B9\u51FB\u6807\u8BB0\u602A\u7269\u3002","<br>",'2. \u5C06\u9F20\u6807\u79FB\u52A8\u5230\u4F60\u60F3\u8981\u6807\u8BB0\u7684\u602A\u7269\u4E0A\u9762\uFF0C<span style="color: gold">',"\u6309\u4E0BM\u952E</span>\uFF0C\u5373\u53EF\u6807\u8BB0\u602A\u7269\uFF0C\u6CE8\u610F\u6D4F\u89C8\u5730\u56FE\u4E2D\u4E0D\u80FD\u7528\u8BE5\u65B9\u5F0F\u6807\u8BB0\u3002","\u624B\u673A\u7AEF\u6682\u65F6\u6CA1\u6709\u5FEB\u901F\u6807\u8BB0\u602A\u7269\u7684\u65B9\u5F0F\u3002","<br>","<br>","\u5F53\u4E00\u4E2A\u602A\u7269\u88AB\u6807\u8BB0\u540E\uFF0C\u602A\u7269\u4F1A\u6709\u4EE5\u4E0B\u884C\u4E3A\uFF1A","<br>","1. \u5F53\u52C7\u58EB\u6070\u597D\u80FD\u6253\u8D25\u602A\u7269\u65F6\uFF0C\u4F1A\u8FDB\u884C\u63D0\u793A","<br>","2. \u5F53\u602A\u7269\u7684\u4F24\u5BB3\u6070\u597D\u4F4E\u4E8E\u52C7\u58EB\u751F\u547D\u503C\u76842/3\u62161/3\u65F6\uFF0C\u4F1A\u8FDB\u884C\u63D0\u793A","<br>","3. \u5F53\u52C7\u58EB\u6070\u597D\u8E29\u5230\u602A\u7269\u7684\u4E34\u754C\u65F6\uFF0C\u4F1A\u8FDB\u884C\u63D0\u793A","<br>","4. \u5F53\u602A\u7269\u96F6\u4F24\u65F6\uFF0C\u4F1A\u8FDB\u884C\u63D0\u793A","<br>","5. \u88AB\u6807\u8BB0\u7684\u602A\u7269\u4F1A\u51FA\u73B0\u7C7B\u4F3C\u4E8E\u72B6\u6001\u680F\u7684\u76D2\u5B50\uFF0C\u53EF\u4EE5\u968F\u610F\u62D6\u52A8\u548C\u6539\u53D8\u5927\u5C0F\u3002\u4F60\u4E5F\u53EF\u4EE5\u9009\u62E9\u5173\u95ED\u8FD9\u4E2A\u76D2\u5B50\uFF0C","\u88AB\u5173\u95ED\u540E\u53EF\u4EE5\u901A\u8FC7\u91CD\u65B0\u6807\u8BB0\u6765\u6253\u5F00\u3002\u8FD9\u4E2A\u76D2\u5B50\u4F1A\u663E\u793A\u6807\u8BB0\u7684\u602A\u7269\u7684\u4E34\u754C\u4E0E\u4F24\u5BB3\u4FE1\u606F\u7B49\uFF0C\u4E0E\u72B6\u6001\u680F\u4E00\u6837\uFF0C\u53EF\u4EE5\u7EB5\u5411\u6EDA\u52A8\u3002","<br>","<br>","\u8FD9\u4E2A\u529F\u80FD\u53EF\u4EE5\u7528\u4E8E\u6807\u8BB0boss\u6216\u8005\u8F83\u5F3A\u7684\u6321\u8DEF\u602A\uFF0C\u5F53\u8FD9\u4E9B\u602A\u80FD\u591F\u653B\u51FB\u65F6\u4F60\u53EF\u4EE5\u76F4\u63A5\u6536\u5230\u4FE1\u606F\uFF0C\u4E0D\u9700\u8981\u518D\u65F6\u523B\u8D39\u5FC3\u6CE8\u610F\u602A\u7269\u7684\u4F24\u5BB3\u3002","<br>","<br>","\u6CE8\u610F\uFF0C\u6807\u8BB0\u7684\u602A\u7269\u662F\u4E0D\u8BA1\u5165\u5B58\u6863\u7684\uFF0C\u540C\u65F6\u6807\u8BB0\u7684\u602A\u7269\u53EA\u5728\u672C\u6B21\u6E38\u620F\u4E2D\u6709\u6548\uFF0C\u5237\u65B0\u9875\u9762\u540E\u4FBF\u4F1A\u6D88\u5931\u3002"]},book={text:"\u602A\u7269\u624B\u518C",condition:"true",desc:["\u672C\u5854\u7684\u602A\u7269\u624B\u518C\u529F\u80FD\u5F88\u591A\uFF0C\u4E0B\u9762\u4E00\u4E00\u4ECB\u7ECD\u3002","<br>","<br>","\u9996\u5148\uFF0C\u4F60\u53EF\u4EE5\u6309X\u6253\u5F00\u602A\u7269\u624B\u518C\u3002\u9664\u6B64\u4E4B\u5916\uFF0C\u5C06\u9F20\u6807\u79FB\u52A8\u5230\u602A\u7269\u4E0A\u4E5F\u53EF\u4EE5\u5B9A\u70B9\u67E5\u770B\u602A\u7269\u7684\u7C97\u7565\u4FE1\u606F\u3002",'\u5C06\u9F20\u6807\u79FB\u52A8\u5230\u4E00\u4E2A\u602A\u7269\u4E0A\uFF0C\u6309\u4E0B<span style="color: gold">','E\u952E</span>\uFF0C\u53EF\u4EE5\u67E5\u770B\u8BE5\u602A\u7269\u7684\u7279\u6B8A\u5C5E\u6027\u4FE1\u606F\u3002\u6309\u4E0B<span style="color: gold">',"C\u952E</span>\uFF0C\u53EF\u4EE5\u67E5\u770B\u8BE5\u602A\u7269\u7684\u8BE6\u7EC6\u4E34\u754C\u4FE1\u606F\u3002","<br>","<br>","\u602A\u7269\u624B\u518C\u6253\u5F00\u7684\u65F6\u5019\u6709\u4E00\u4E2A0.6\u79D2\u7684\u52A8\u753B\uFF0C\u5982\u679C\u4E0D\u60F3\u8981\u53EF\u4EE5\u5728\u5F00\u5934\u6361\u7684\u7CFB\u7EDF\u8BBE\u7F6E\u91CC\u9762\u5173\u95ED\uFF08\u9ED8\u8BA4\u5173\u95ED\uFF09\u3002","<br>","<br>","\u6253\u5F00\u602A\u7269\u624B\u518C\u540E\uFF0C\u602A\u7269\u624B\u518C\u7684\u5E03\u5C40\u4E0E\u6837\u677F\u81EA\u5E26\u7684\u7C7B\u4F3C\u3002\u4E0E\u6837\u677F\u4E0D\u540C\u7684\u662F\uFF0C\u8FD9\u91CC\u7684\u602A\u7269\u624B\u518C\u4E0D\u518D\u662F\u7FFB\u9875\u5F0F\u7ED3\u6784\u3002","\u8FD9\u91CC\u7684\u602A\u7269\u624B\u518C\u662F\u6EDA\u52A8\u5F0F\u7ED3\u6784\uFF0C\u4F60\u53EF\u4EE5\u50CF\u6D4F\u89C8\u7F51\u9875\u4E00\u6837\uFF0C\u7528\u624B\u6307\u6216\u9F20\u6807\u4E0A\u4E0B\u6EDA\u52A8\u6216\u8005\u62D6\u52A8\u53F3\u8FB9\u7684\u6EDA\u52A8\u6761\uFF0C\u7535\u8111\u7AEF\u8FD8\u53EF\u4EE5\u4F7F\u7528\u6EDA\u8F6E\u3002","\u5BF9\u4E8E\u7535\u8111\u7AEF\uFF0C\u8FD8\u53EF\u4EE5\u4F7F\u7528\u952E\u76D8\u64CD\u4F5C\u3002\u4E0A\u548C\u4E0B\u53EF\u4EE5\u4E0A\u4E0B\u9009\u62E9\u602A\u7269\uFF0C\u5DE6\u548C\u53F3\u53EF\u4EE5\u5411\u4E0A\u6216\u5411\u4E0B\u79FB\u52A85\u4E2A\u602A\u7269\u3002\u8FD9\u4E9B\u64CD\u4F5C\u4E0E\u6837\u677F\u90FD\u7C7B\u4F3C\u3002","<br>","<br>","\u70B9\u51FB\u4E00\u4E2A\u602A\u7269\u6216\u8005\u6309\u4E0B\u56DE\u8F66\u7A7A\u683C\u540E\uFF0C\u5C06\u8FDB\u5165\u602A\u7269\u8BE6\u7EC6\u4FE1\u606F\u754C\u9762\u3002\u8FD9\u4E2A\u754C\u9762\u5206\u4E3A\u591A\u4E2A\u680F\uFF0C\u5206\u522B\u662F\u7279\u6B8A\u5C5E\u6027\u680F\uFF0C\u8BE6\u7EC6\u4E34\u754C\u680F\uFF0C\u66F4\u591A\u4FE1\u606F\u680F\u3002","\u8FDB\u5165\u602A\u7269\u8BE6\u7EC6\u4FE1\u606F\u540E\u9ED8\u8BA4\u5728\u7279\u6B8A\u5C5E\u6027\u680F\uFF0C\u8BE5\u680F\u53EF\u4EE5\u67E5\u770B\u602A\u7269\u7684\u7279\u6B8A\u5C5E\u6027\u3002","\u6CE8\u610F\u7279\u6B8A\u5C5E\u6027\u4F9D\u7136\u53EF\u4EE5\u7EB5\u5411\u6EDA\u52A8\u3002\u5728\u7279\u6B8A\u5C5E\u6027\u4E0B\u65B9\uFF0C","\u662F\u602A\u7269\u7684\u4E34\u754C\u8868\uFF0C\u53EF\u4EE5\u7C97\u7565\u5730\u67E5\u770B\u602A\u7269\u7684\u4E34\u754C\u4FE1\u606F\u3002\u5728\u4E0B\u65B9\uFF0C\u4F60\u53EF\u4EE5\u70B9\u51FB\u8BE6\u7EC6\u4E34\u754C\u4FE1\u606F\u8FDB\u5165\u8BE6\u7EC6\u4E34\u754C\u680F\u3002","<br>","<br>","\u5728\u8BE6\u7EC6\u4E34\u754C\u680F\u4E2D\uFF0C\u602A\u7269\u7684\u4F24\u5BB3\u4F1A\u4EE5\u53EF\u89C6\u5316\u6298\u7EBF\u56FE\u7684\u65B9\u5F0F\u663E\u793A\u51FA\u6765\uFF0C\u4ECE\u800C\u4F60\u53EF\u4EE5\u66F4\u4E3A\u6E05\u6670\u5730\u770B\u51FA\u602A\u7269\u51CF\u4F24\u8D8B\u52BF\u3002","\u9664\u4E86\u67E5\u770B\u602A\u7269\u4F24\u5BB3\u66F2\u7EBF\uFF0C\u4F60\u8FD8\u53EF\u4EE5\u89C4\u5212\u5B9D\u77F3\u3002\u6BCF\u4E2A\u6298\u7EBF\u56FE\u4E0B\u65B9\u90FD\u6709\u4E00\u4E2A\u6ED1\u52A8\u6761\uFF0C\u4F60\u53EF\u4EE5\u62D6\u52A8\u6765\u6A21\u62DF\u5403\u5B9D\u77F3\u3002","\u6CE8\u610F\uFF0C\u62D6\u52A8\u65F6\uFF0C\u6ED1\u52A8\u6761\u5DE6\u8FB9\u4F1A\u663E\u793A\u5F53\u524D\u7684\u52A0\u653B\u6216\u52A0\u9632\u6B21\u6570\uFF0C\u8FD9\u4E2A\u6570\u503C\u6307\u7684\u662F\u5728\u52C7\u58EB\u6240\u5728\u5730\u56FE\u4E2D\u9700\u8981\u5403\u7684\u6700\u5F31\u7684\u5B9D\u77F3\u6570\u91CF\u3002","\u4F8B\u5982\uFF0C\u5F53\u524D\u52C7\u58EB\u6240\u5728\u5730\u56FE\u4E2D\u6700\u5F31\u7684\u5B9D\u77F3\u52A02\u70B9\u653B\u51FB\uFF0C\u52A0\u653B\u6B21\u6570\u4E3A3\uFF0C\u90A3\u4E48\u52C7\u58EB\u7684\u653B\u51FB\u589E\u52A0\u91CF\u5C31\u4E3A6\u3002","\u52C7\u58EB\u589E\u52A0\u7684\u653B\u51FB\u6570\u503C\u4E5F\u4F1A\u5728\u4E0B\u65B9\u663E\u793A\u3002\u5F53\u52A0\u653B\u6B21\u6570\u548C\u52A0\u9632\u6B21\u6570\u6539\u53D8\u65F6\uFF0C\u6298\u7EBF\u56FE\u4E5F\u4F1A\u53D8\u5316\u3002",'\u5F53\u524D\u72B6\u6001\u4E0B\u602A\u7269\u7684\u4F24\u5BB3\u4EE5\u53CA\u51CF\u4F24\u603B\u91CF\u4E5F\u4F1A\u5728\u4E0B\u65B9\u663E\u793A\u3002<span style="color: gold">',"\u6CE8\u610F\u5728\u6B64\u680F\u4E2D\u65E0\u6CD5\u901A\u8FC7\u70B9\u51FB\u5C4F\u5E55\u56DE\u5230\u602A\u7269\u624B\u518C\u754C\u9762\uFF0C\u66F4\u591A\u4FE1\u606F\u8BF7\u67E5\u770B\u6700\u540E\u4E00\u6BB5</span>\u3002","<br>","<br>","\u5728\u7279\u6B8A\u5C5E\u6027\u680F\uFF0C\u70B9\u51FB\u4E0B\u65B9\u7684\u602A\u7269\u66F4\u591A\u4FE1\u606F\u53EF\u4EE5\u8FDB\u5165\u66F4\u591A\u4FE1\u606F\u680F\u3002\u6B64\u680F\u4E2D\uFF0C\u4F60\u53EF\u4EE5\u67E5\u770B\u602A\u7269\u63CF\u8FF0\u3002\u4F46\u8FD9\u4E0D\u662F\u8FD9\u4E00\u680F\u7684\u6838\u5FC3\u529F\u80FD\u3002","\u8FD9\u4E00\u680F\u7684\u6838\u5FC3\u529F\u80FD\u662F\u6807\u8BB0\u602A\u7269\u3002\u88AB\u6807\u8BB0\u7684\u602A\u7269\u4F1A\u6709\u4E00\u4E9B\u975E\u5E38\u65B9\u4FBF\u7684\u884C\u4E3A\uFF0C\u8FD9\u4E9B\u884C\u4E3A\u53EF\u4EE5\u5728\u201C\u6807\u8BB0\u602A\u7269\u201D\u6761\u76EE\u4E2D\u67E5\u770B\u3002","<br>","<br>","\u6CE8\u610F\uFF0C\u5728\u602A\u7269\u8BE6\u7EC6\u4FE1\u606F\u4E2D\uFF0C\u9664\u8BE6\u7EC6\u4E34\u754C\u680F\u5916\u5747\u53EF\u4EE5\u901A\u8FC7\u70B9\u51FB\u5C4F\u5E55\u8FD4\u56DE\u5230\u602A\u7269\u624B\u518C\u754C\u9762\u3002",'\u5982\u679C\u4F60\u662F\u7535\u8111\u7AEF\uFF0C\u5728\u4EFB\u610F\u680F\u76EE\u4E2D<span style="color: gold">\u6309\u4E0BX\u952E</span>\u4F1A\u9000\u51FA\u602A\u7269\u624B\u518C\uFF0C\u8FD4\u56DE\u6E38\u620F\uFF0C','<span style="color: gold">\u6309\u4E0B\u56DE\u8F66\uFF08Enter\uFF09\u952E</span>\u4F1A\u56DE\u5230\u602A\u7269\u624B\u518C\u754C\u9762\u3002']},fly={text:"\u697C\u5C42\u4F20\u9001\u5668",condition:"true",desc:["\u697C\u4F20\u754C\u9762\u6253\u5F00\u65F6\u4F1A\u6709\u4E00\u4E2A0.6\u79D2\u7684\u52A8\u753B\uFF0C\u5982\u679C\u4E0D\u60F3\u8981\u53EF\u4EE5\u5728\u5F00\u5934\u6361\u7684\u7CFB\u7EDF\u8BBE\u7F6E\u91CC\u9762\u5173\u95ED\u3002\uFF08\u9ED8\u8BA4\u5173\u95ED\uFF09","<br>","<br>",'\u672C\u5854\u7684\u697C\u5C42\u4F20\u9001\u5668\u662F\u4E00\u4E2A\u96C6<span style="color: gold">\u5206\u533A\u3001\u5C0F\u5730\u56FE\u3001\u697C\u5C42\u4F20\u9001\u3001\u6D4F\u89C8\u5730\u56FE</span>\u4E8E\u4E00\u4F53\u7684\u591A\u529F\u80FD\u697C\u4F20\u3002','<a href="maps/index.html" target="_blank">\u4F60\u4E5F\u53EF\u4EE5\u70B9\u51FB\u8FD9\u91CC</a>\u67E5\u770B\u6240\u6709\u533A\u57DF\u7684\u7F29\u7565\u56FE\u3002',"\u4E0B\u9762\u662F\u697C\u4F20\u7684\u5177\u4F53\u8BF4\u660E\uFF1A","<br>","<br>","\u9996\u5148\uFF0C\u5BF9\u4E8E\u7535\u8111\u7AEF\uFF0C\u6700\u5DE6\u4FA7\u663E\u793A\u533A\u57DF\u4FE1\u606F\uFF0C\u624B\u673A\u7AEF\u5219\u5728\u4E0A\u65B9\u7684\u5DE6\u4FA7\u3002","<br>","<br>","\u7136\u540E\uFF0C\u533A\u57DF\u7684\u53F3\u4FA7\u662F\u5C0F\u5730\u56FE\u680F\uFF0C\u8FD9\u4E00\u680F\u4F1A\u663E\u793A\u697C\u5C42\u7684\u5E73\u9762\u7ED3\u6784\u3002\u4F60\u53EF\u4EE5\u62D6\u52A8\uFF0C\u4E5F\u53EF\u4EE5\u4F7F\u7528\u6EDA\u8F6E\u6216\u8005\u53CC\u6307\u653E\u7F29\uFF0C\u5F53\u653E\u7F29\u5230\u4E00\u5B9A\u5927\u5C0F\u65F6\uFF0C","\u4F1A\u663E\u793A\u5730\u56FE\u7684\u7F29\u7565\u56FE\u3002\u76F4\u63A5\u70B9\u51FB\u5730\u56FE\u4E5F\u53EF\u4EE5\u9009\u4E2D\u5730\u56FE\uFF0C\u518D\u6B21\u70B9\u51FB\u4F1A\u4F20\u9001\u81F3\u76EE\u6807\u5730\u56FE\u3002","<br>","<br>","\u5BF9\u4E8E\u7535\u8111\u7AEF\uFF0C\u6700\u53F3\u4FA7\u662F\u5F53\u524D\u9009\u4E2D\u7684\u5730\u56FE\u7684\u7F29\u7565\u56FE\uFF0C\u624B\u673A\u5219\u5728\u4E0B\u65B9\uFF0C\u70B9\u51FB\u7F29\u7565\u56FE\u4E5F\u53EF\u4EE5\u4F20\u9001\u3002\u7F29\u7565\u56FE\u7684\u4E0B\u65B9\u662F\u5F53\u524D\u9009\u4E2D\u7684\u5730\u56FE\u540D\uFF0C","\u5DE6\u53F3\u5404\u6709\u4E24\u4E2A\u6309\u94AE\uFF0C\u8868\u793A\u540E\u900010\u5C42\u3001\u540E\u90001\u5C42\u3001\u524D\u8FDB1\u5C42\u3001\u524D\u8FDB10\u5C42\uFF0C\u4E0E\u6837\u677F\u7684\u697C\u4F20\u7684\u6309\u94AE\u529F\u80FD\u7C7B\u4F3C\uFF0C\u5BF9\u4E8E\u5C0F\u5730\u56FE\u65E0\u6CD5\u663E\u793A\u7684\u5355\u5C42\uFF0C","\u53EF\u4EE5\u4F7F\u7528\u8BE5\u529F\u80FD\u5230\u8FBE\u3002","<br>","<br>","\u6700\u4E0B\u65B9\u662F\u8BBE\u7F6E\u6309\u94AE\uFF0C\u53EF\u4EE5\u5207\u6362\u65E0\u8FB9\u6846\u6A21\u5F0F\uFF0C\u7535\u8111\u7AEF\u8FD8\u53EF\u4EE5\u5207\u6362\u4F20\u7EDF\u6309\u952E\u6A21\u5F0F\uFF0C\u4F20\u7EDF\u6309\u952E\u6A21\u5F0F\u4E0B\u6309\u952E\u9075\u5FAA\u6837\u677F\u7684\u697C\u4F20\u6309\u952E\u65B9\u5F0F\u3002",'\u5BF9\u4E8E\u975E\u4F20\u7EDF\u6A21\u5F0F\uFF0C<span style="color: gold">\u4E0A\u4E0B\u5DE6\u53F3</span>\u53EF\u4EE5\u79FB\u52A8\u5730\u56FE\uFF0C','<span style="color: gold">PageUp\u548CPageDown</span>\u53EF\u4EE5\u524D\u8FDB1\u5C42\u6216\u540E\u90001\u5C42\u3002']},tools={text:"\u9053\u5177\u680F\u4E0E\u88C5\u5907\u680F",condition:"true",desc:["\u9053\u5177\u680F\u4E0E\u88C5\u5907\u680F\u6253\u5F00\u65F6\u4F1A\u6709\u4E00\u4E2A0.6\u79D2\u7684\u52A8\u753B\uFF0C\u5982\u679C\u4E0D\u60F3\u8981\u53EF\u4EE5\u5728\u5F00\u5934\u6361\u7684\u7CFB\u7EDF\u8BBE\u7F6E\u91CC\u9762\u5173\u95ED\u3002\uFF08\u9ED8\u8BA4\u5173\u95ED\uFF09","<br>","<br>","\u672C\u5854\u7684\u9053\u5177\u680F\u6CA1\u6709\u7279\u522B\u4E4B\u5904\uFF0C\u8FD9\u91CC\u4E0D\u9700\u8981\u8BF4\u660E\u3002\u4E3B\u8981\u662F\u88C5\u5907\u680F\u3002","<br>","<br>","\u672C\u5854\u7684\u88C5\u5907\u680F\u624B\u673A\u548C\u7535\u8111\u7AEF\u4E0D\u540C\uFF0C\u7535\u8111\u7AEF\u6BD4\u624B\u673A\u7AEF\u591A\u4E86\u4E00\u4E2A\u52C7\u58EB\u5C5E\u6027\u7684\u663E\u793A\u3002\u5728\u88C5\u5907\u680F\u7684\u88C5\u5907\u5217\u8868\u680F\uFF0C","\u4E0A\u65B9\u6709\u4E24\u4E2A\u9009\u62E9\u6846\u4E0E\u4E00\u4E2A\u6392\u5E8F\u65B9\u5F0F\u7684\u9009\u9879\u3002\u8FD9\u4E09\u4E2A\u53EF\u4EE5\u7B5B\u9009\u4F60\u62E5\u6709\u7684\u88C5\u5907\u5E76\u8FDB\u884C\u6392\u5E8F\uFF0C\u4ECE\u800C\u8BA9\u4F60\u80FD\u591F\u66F4\u6E05\u695A\u5730\u77E5\u9053\u54EA\u4E2A\u88C5\u5907\u66F4\u5F3A\u3002","\u7B2C\u4E00\u4E2A\u9009\u62E9\u6846\u53EF\u4EE5\u7B5B\u9009\u88C5\u5907\u589E\u52A0\u7684\u5C5E\u6027\uFF0C\u5982\u679C\u88C5\u5907\u4E0D\u589E\u52A0\u9009\u62E9\u7684\u5C5E\u6027\uFF0C\u90A3\u4E48\u4F1A\u4E0D\u663E\u793A\u3002\u7B2C\u4E8C\u4E2A\u9009\u62E9\u6846\u53EF\u4EE5\u7B5B\u9009\u589E\u52A0\u7684\u5C5E\u6027\u7684\u65B9\u5F0F\uFF0C","\u6709\u6570\u503C\u589E\u52A0\u548C\u767E\u5206\u6BD4\u589E\u52A0\u4E24\u79CD\u3002\u5728\u8FD9\u4E2A\u9009\u62E9\u6846\u53F3\u8FB9\u6709\u4E00\u4E2A\u56FE\u6807\uFF0C\u8FD9\u4E2A\u56FE\u6807\u53EF\u4EE5\u6539\u53D8\u6B66\u5668\u7684\u6392\u5E8F\u65B9\u5F0F\uFF0C\u6709\u5347\u5E8F\u548C\u964D\u5E8F\u4E24\u79CD\uFF0C\u9ED8\u8BA4\u4E3A\u5347\u5E8F\u3002","\u4F8B\u5982\uFF0C\u4F60\u62E5\u6709\u4E24\u4E2A\u88C5\u5907\uFF0C\u5206\u522B\u589E\u52A010\u653B\u51FB\u548C20\u653B\u51FB\uFF0C\u4E09\u8005\u4F60\u5206\u522B\u9009\u62E9\u4E86\u653B\u51FB\uFF0C\u6570\u503C\uFF0C\u5347\u5E8F\uFF0C\u90A3\u4E48\u589E\u52A010\u653B\u51FB\u7684\u88C5\u5907\u4F1A\u6392\u5728\u4E0A\u9762\uFF0C","\u800C\u589E\u52A020\u653B\u51FB\u7684\u88C5\u5907\u4F1A\u6392\u5728\u4E0B\u9762\u3002","<br>","<br>","\u5BF9\u4E8E\u7535\u8111\u7AEF\uFF0C\u5982\u679C\u4F60\u60F3\u88C5\u88C5\u5907\uFF0C\u53EF\u4EE5\u76F4\u63A5\u62D6\u52A8\u88C5\u5907\u81F3\u88C5\u5907\u5B54\uFF0C\u4E5F\u53EF\u4EE5\u9009\u4E2D\u88C5\u5907\u540E\u518D\u6B21\u70B9\u51FB\u3002\u624B\u673A\u7AEF\u6682\u65F6\u65E0\u6CD5\u62D6\u52A8\u88C5\u5907\u3002\u5F53\u9009\u4E2D\u4E00\u4E2A\u88C5\u5907\u540E\uFF0C","\u7535\u8111\u7AEF\u548C\u624B\u673A\u7AEF\u5747\u4F1A\u663E\u793A\u88C5\u5907\u589E\u52A0\u6216\u51CF\u5C11\u7684\u5C5E\u6027\uFF0C\u6CE8\u610F\u6709\u7684\u88C5\u5907\u53EF\u80FD\u4E0D\u589E\u52A0\u5C5E\u6027\u4F46\u662F\u6709\u7279\u6B8A\u529F\u80FD\u3002\u5BF9\u4E8E\u7535\u8111\u7AEF\uFF0C","\u8FD8\u4F1A\u76F4\u63A5\u5728\u52C7\u58EB\u5C5E\u6027\u680F\u663E\u793A\u589E\u52A0\u6216\u51CF\u5C11\u7684\u5C5E\u6027\u3002"]},achievement={text:"\u6210\u5C31",condition:"true",desc:["\u6210\u5C31\u7CFB\u7EDF\u662F\u672C\u5854\u7684\u4E00\u4E2A\u72EC\u7ACB\u7CFB\u7EDF\u3002\u5B83\u4E0D\u4F1A\u50CF\u52C7\u58EB\u5C5E\u6027\u4E00\u6837\u8DDF\u968F\u5B58\u6863\u53D8\u5316\uFF0C\u800C\u662F\u53EA\u8981\u4F60\u5B8C\u6210\u4E86\u6210\u5C31\uFF0C\u90A3\u4E48\u5C31\u6C38\u8FDC\u5B8C\u6210\u4E86\uFF0C",'\u9664\u975E\u4F60\u6E05\u7406\u4E86\u6D4F\u89C8\u5668\u3002\u6BCF\u4E2A\u6210\u5C31\u90FD\u6709\u6210\u5C31\u70B9\uFF0C<span style="color: gold">\u6210\u5C31\u70B9\u76EE\u524D\u6CA1\u6709\u5B9E\u9645\u7528\u9014\uFF0C',"\u53EA\u662F\u4E00\u4E2A\u6536\u96C6\u8981\u7D20\uFF0C\u5BF9\u6E38\u620F\u8FDB\u7A0B\u6CA1\u6709\u4EFB\u4F55\u5F71\u54CD\u3002</span>","<br>","<br>","\u6210\u5C31\u5206\u4E3A\u4E09\u79CD\uFF0C\u666E\u901A\u6210\u5C31\uFF0C\u6311\u6218\u6210\u5C31\u548C\u63A2\u7D22\u6210\u5C31\u3002\u666E\u901A\u6210\u5C31\u5B8C\u6210\u96BE\u5EA6\u4E00\u822C\u8F83\u4F4E\uFF0C\u6311\u6218\u6210\u5C31\u5B8C\u6210\u96BE\u5EA6\u8F83\u9AD8\uFF0C","\u800C\u63A2\u7D22\u6210\u5C31\u4E00\u822C\u9700\u8981\u4F60\u81EA\u5DF1\u63A2\u7D22\u5982\u4F55\u5B8C\u6210\u3002\u5BF9\u4E8E\u5B8C\u6210\u5EA6\u7C7B\u578B\u7684\u63A2\u7D22\u6210\u5C31\uFF0C\u5B83\u7684\u5B8C\u6210\u5EA6\u7531\u5230\u8FBE\u8FC7\u7684\u5730\u56FE\u4E0E\u672C\u7AE0\u5B8C\u6210\u7684\u6210\u5C31\u6570\u51B3\u5B9A\u3002","<br>","<br>",'<span style="color: gold">\u8C03\u8BD5\u6A21\u5F0F\u4E0B\u65E0\u6CD5\u5B8C\u6210\u6210\u5C31\uFF01</span>']},skillTree={text:"\u6280\u80FD\u6811",condition:"flags.chapter > 0",desc:['\u6253\u5F00\u6280\u80FD\u6811\u53EF\u4EE5\u70B9\u51FB\u72B6\u6001\u680F\u7684<span style="color: gold">',"\u6280\u80FD\u6811\u6309\u94AE</span>\uFF08\u5982\u679C\u53D1\u73B0\u6CA1\u6709\u663E\u793A\u53EF\u4EE5\u5C1D\u8BD5\u4E0A\u4E0B\u6EDA\u52A8\u72B6\u6001\u680F\uFF09\uFF0C\u8FD8\u53EF\u4EE5\u6309",'<span style="color: gold">\u5FEB\u6377\u952EJ</span>\u6253\u5F00\u3002',"<br>","<br>","\u6280\u80FD\u6811\u662F\u672C\u5854\u7684\u4E3B\u8981\u73A9\u6CD5\u4E4B\u4E00\u3002\u5B83\u53EF\u4EE5\u8BA9\u4F60\u4F7F\u7528\u667A\u6167\u6765\u5B66\u4E60\u6280\u80FD\uFF0C\u589E\u52A0\u5C5E\u6027\u7B49\u3002\u667A\u6167\u5728\u72B6\u6001\u680F\u663E\u793A\u5728\u9632\u5FA1\u7684\u4E0B\u4E00\u9879\uFF0C","\u7EFF\u5B9D\u77F3\u53EF\u4EE5\u589E\u52A0\u52C7\u58EB\u7684\u667A\u6167\u3002","<br>","<br>","\u6253\u5F00\u6280\u80FD\u6811\u9875\u9762\u540E\uFF0C\u4F60\u53EF\u4EE5\u5728\u4E0A\u65B9\u770B\u5230\u6280\u80FD\u7684\u540D\u79F0\u4E0E\u63CF\u8FF0\uFF0C\u4E0B\u65B9\u4F1A\u663E\u793A\u6280\u80FD\u6811\uFF0C\u4EE5\u53CA\u5347\u7EA7\u8981\u6C42\u7B49\u3002\u70B9\u51FB\u4E00\u4E2A\u6280\u80FD\u53EF\u4EE5\u9009\u4E2D\u6280\u80FD\uFF0C","\u518D\u6B21\u70B9\u51FB\u53EF\u4EE5\u5347\u7EA7\u6280\u80FD\u3002\u6CE8\u610F\uFF0C\u524D\u7F6E\u6280\u80FD\u680F\u53EF\u4EE5\u4E0A\u4E0B\u6EDA\u52A8\uFF0C\u56E0\u6B64\u5982\u679C\u53D1\u73B0\u663E\u793A\u4E0D\u5168\uFF0C\u53EF\u4EE5\u5C1D\u8BD5\u4E0A\u4E0B\u6EDA\u52A8\u524D\u7F6E\u6280\u80FD\u680F","<br>","<br>","\u6CE8\u610F\uFF0C\u6280\u80FD\u5728\u70B9\u5F00\u4E4B\u540E\u662F\u65E0\u6CD5\u53D6\u6D88\u7684\uFF0C\u56E0\u6B64\uFF0C\u52A0\u70B9\u65F6\u8BF7\u614E\u91CD\u52A0\u70B9\u3002\u6CE8\u610F\uFF0C\u90E8\u5206\u6280\u80FD\u662F\u5FC5\u70B9\u6280\u80FD\uFF0C\u8FD9\u4E9B\u6280\u80FD\u4F1A\u5728\u6280\u80FD\u8BF4\u660E\u4E2D\u660E\u786E\u6307\u51FA\uFF0C","\u8FD9\u4E9B\u6280\u80FD\u4E00\u822C\u9700\u8981\u5C3D\u65E9\u70B9\u51FA\u3002"]},study={text:"\u5B66\u4E60",condition:"core.getSkillLevel(11) > 0",desc:["\u672C\u6761\u76EE\u4F1A\u8BE6\u7EC6\u8BF4\u660E\u5B66\u4E60\u7684\u673A\u5236\u4E0E\u6240\u6709\u53EF\u4EE5\u88AB\u5B66\u4E60\u7684\u6280\u80FD\u88AB\u5B66\u4E60\u540E\u7684\u6548\u679C\u3002\u5F53\u524D\u5DF2\u7ECF\u5B66\u4E60\u7684\u6280\u80FD\u4F1A\u4EE5\u4E0E\u72B6\u6001\u680F\u7C7B\u4F3C\u7684\u76D2\u5B50\u5C55\u793A\u51FA\u6765\u3002","<br>","<br>","\u9996\u5148\uFF0C\u5B66\u4E60\u6280\u80FD\u6D88\u8017\u7684\u667A\u6167\u70B9\u4F1A\u8D8A\u6765\u8D8A\u591A\uFF0C\u521D\u59CB\u6D88\u8017\u7684\u667A\u6167\u70B9\u4E3A500\uFF0C\u6BCF\u5B66\u4E60\u4E00\u6B21\u589E\u52A0250\u3002","\u5B66\u4E60\u7684\u6280\u80FD\u53EF\u4EE5\u6301\u7EED5\u573A\u6218\u6597\uFF0C\u5728\u6280\u80FD\u6811\u754C\u9762\u6BCF\u5347\u7EA7\u4E00\u6B21\u589E\u52A03\u573A\uFF0C",'<span style="color: gold">\u5F53\u524D\u4E3A${core.getSkillLevel(11) * 3 + 2}\u573A</span>\u3002',"\u5B66\u4E60\u540E\u5BF9\u5E94\u5C5E\u6027\u7684\u503C\uFF0C\u4F8B\u5982\u62B1\u56E2\u602A\u589E\u52A0\u7684\u5C5E\u6027\u767E\u5206\u6BD4\uFF0C\u4F1A\u4E0E\u88AB\u5B66\u4E60\u7684\u602A\u7269\u76F8\u540C\u3002\u5B66\u4E60\u754C\u9762\u53EF\u4EE5\u4F7F\u7528\u80CC\u5305\u4E2D\u7684\u9053\u5177\u6216\u70B9\u51FB\u72B6\u6001\u680F\u6253\u5F00\u3002","<br>","<br>","\u4E0B\u9762\u4F1A\u8BE6\u7EC6\u8BF4\u660E\u6BCF\u4E00\u79CD\u53EF\u4EE5\u88AB\u5B66\u4E60\u7684\u6280\u80FD\u88AB\u5B66\u4E60\u540E\u7684\u6548\u679C\uFF0C\u6CA1\u6709\u5217\u51FA\u7684\u5747\u4E0D\u53EF\u5B66\u4E60\u3002","<br>","<br>",'<span style="color: #fc3">1. \u81F4\u547D\u4E00\u51FB</span>\uFF1A\u52C7\u58EB\u6BCF5\u56DE\u5408\u5BF9\u602A\u7269\u9020\u6210\u4E00\u6B21\u5F3A\u529B\u653B\u51FB\u3002',"<br>",'<span style="color: #bbb0ff">2. \u6076\u6BD2</span>\uFF1A\u52C7\u58EB\u653B\u51FB\u65E0\u89C6\u602A\u7269\u7684\u9632\u5FA1\u3002',"<br>",'<span style="color: #c0b088">3. \u575A\u56FA</span>\uFF1A\u52C7\u58EB\u9632\u5FA1\u4E0D\u4F4E\u4E8E\u602A\u7269\u7684\u653B\u51FB-1\u3002',"<br>",'<span style="color: #fe7">4. n\u8FDE\u51FB</span>\uFF1A\u52C7\u58EB\u6BCF\u56DE\u5408\u653B\u51FBn\u6B21',"<br>",'<span style="color: #b30000">5. \u9965\u6E34</span>\uFF1A\u52C7\u58EB\u5728\u6218\u524D\u5438\u53D6\u602A\u7269\u4E00\u5B9A\u91CF\u7684\u653B\u51FB\u52A0\u8F7D\u81EA\u5DF1\u8EAB\u4E0A\uFF0C',"\u540C\u65F6\u51CF\u5C11\u602A\u7269\u76F8\u5E94\u91CF\u7684\u653B\u51FB\uFF0C\u4F18\u5148\u4E8E\u602A\u7269\u3002","<br>",'<span style="color: #fa4">6. \u62B1\u56E2</span>\uFF1A\u52C7\u58EB\u5468\u56F4\u6BCF\u6709\u4E00\u4E2A\u62E5\u6709\u62B1\u56E2\u5C5E\u6027\u7684\u602A\u7269\uFF0C\u52C7\u58EB\u7684\u5C5E\u6027\u4FBF\u589E\u52A0\u4E00\u5B9A\u503C\u3002',"\u76F8\u5E94\u5730\uFF0C\u62E5\u6709\u62B1\u56E2\u5C5E\u6027\u7684\u602A\u7269\u4E5F\u4F1A\u53D7\u5230\u52C7\u58EB\u7684\u52A0\u6210\u3002","<br>",'<span style="color: #b0c0dd">7. \u52C7\u6C14\u4E4B\u5203</span>\uFF1A\u52C7\u58EB\u7B2C\u4E00\u56DE\u5408\u9020\u6210\u4E00\u5B9A\u91CF\u7684\u4F24\u5BB3\uFF0C\u4E4B\u540E\u6B63\u5E38\u3002',"<br>",'<span style="color: #ff00d2">8. \u52C7\u6C14\u51B2\u950B</span>\uFF1A\u52C7\u58EB\u9996\u5148\u53D1\u52A8\u51B2\u950B\uFF0C\u9020\u6210\u4E00\u5B9A\u91CF\u7684\u4F24\u5BB3\uFF0C\u7729\u6655\u602A\u72695\u56DE\u5408\u3002',"\u5B66\u4E60\u8BE5\u6280\u80FD\u540E\uFF0C\u52C7\u58EB\u65E0\u6761\u4EF6\u5148\u624B\u3002","<br>",'<span style="color: #bbb0ff">9. \u9B54\u653B</span>\uFF1A\u52C7\u58EB\u653B\u51FB\u65E0\u89C6\u602A\u7269\u7684\u9632\u5FA1\u3002',"<br>",'<span style="color: #b0b666">10. \u5148\u653B</span>\uFF1A\u52C7\u58EB\u65E0\u6761\u4EF6\u5148\u624B\u3002']},special1={text:"\u7B2C\u4E00\u7AE0\u602A\u7269\u7279\u6280",condition:"flags.chapter > 0",desc:["\u8FD9\u91CC\u4F1A\u5C55\u793A\u7B2C\u4E00\u7AE0\u7684\u602A\u7269\u4E2D\u9700\u8981\u7279\u522B\u8BF4\u660E\u7684\u602A\u7269\u7279\u6280\u3002","<br>","<br>",'<span style="color: #c0b088">1. \u575A\u56FA</span>\uFF1A',"\u5728\u672C\u5854\u4E2D\uFF0C\u989D\u5916\u653B\u51FB\u53EF\u4EE5\u5BF9\u575A\u56FA\u602A\u9020\u6210\u989D\u5916\u4F24\u5BB3\u3002","<br>","<br>",'<span style="color: #80eed6">2. \u7EDD\u5BF9\u9632\u5FA1</span>\uFF1A',"\u8BE5\u602A\u7269\u4E00\u822C\u53EF\u4EE5\u7528\u4E8E\u5237\u8840\u3002\u8BE5\u602A\u7269\u53EF\u4EE5\u4F7F\u4F60\u6BCF\u56DE\u5408\u5BF9\u602A\u7269\u9020\u6210\u7684\u4F24\u5BB3\u6070\u597D\u4E3A1\uFF0C\u5BFC\u81F4\u6218\u6597\u56DE\u5408\u6570\u5F88\u9AD8\uFF0C\u56E0\u6B64\u53EF\u4EE5\u5237\u8840\u3002","<br>","<br>",'<span style="color: #fc3">3. \u81F4\u547D\u4E00\u51FB\u3001\u52C7\u6C14\u4E4B\u5203\u3001\u52C7\u6C14\u51B2\u950B</span>\uFF1A',"\u9020\u6210\u7684\u4F24\u5BB3\u4E3A\u602A\u7269\u6BCF\u56DE\u5408\u5BF9\u52C7\u58EB\u7684\u4F24\u5BB3\u7684\u4E00\u5B9A\u500D\u6570\uFF0C\u800C\u975E\u653B\u51FB\u63D0\u9AD8\u4E00\u5B9A\u500D\u6570\u3002"]},special2={text:"\u7B2C\u4E8C\u7AE0\u602A\u7269\u7279\u6280",condition:"flags.chapter > 1",desc:["\u8FD9\u91CC\u4F1A\u5C55\u793A\u7B2C\u4E8C\u7AE0\u7684\u602A\u7269\u4E2D\u9700\u8981\u7279\u522B\u8BF4\u660E\u7684\u602A\u7269\u7279\u6280\u3002","<br>","<br>",'<span style="color: #f66">1. \u7535\u6447\u5632\u8BBD</span>\uFF1A',"\u8BE5\u7279\u6280\u4F1A\u649E\u788E\u8DEF\u4E0A\u7684\u6240\u6709\u5730\u5F62\u548C\u95E8\uFF0C\u4E0D\u9700\u8981\u6D88\u8017\u94A5\u5319\uFF0C\u62FE\u53D6\u8DEF\u4E0A\u7684\u6240\u6709\u9053\u5177\uFF0C\u4E0E\u8DEF\u4E0A\u7684\u602A\u7269\u6218\u6597\uFF0C\u6700\u540E\u4E0E\u8BE5\u602A\u7269\u6218\u6597\u3002","\u5982\u679C\u602A\u7269\u6240\u5728\u4F4D\u7F6E\u53EF\u4EE5\u88AB\u5632\u8BBD\uFF0C\u90A3\u4E48\u52C7\u58EB\u4F1A\u88AB\u7EE7\u7EED\u5632\u8BBD\u3002\u5982\u679C\u5728\u88AB\u5632\u8BBD\u7684\u8DEF\u4E0A\u53EF\u4EE5\u88AB\u5176\u4ED6\u602A\u7269\u5632\u8BBD\uFF0C\u5219\u4E0D\u4F1A\u89E6\u53D1\u3002","\u5982\u679C\u4E00\u4E2A\u70B9\u53EF\u4EE5\u88AB\u591A\u4E2A\u602A\u7269\u5632\u8BBD\uFF0C\u90A3\u4E48\u4F1A\u4F18\u5148\u9009\u62E9\u6700\u9760\u5DE6\u4E0A\u89D2\u7684\u602A\u7269\u3002",'<span style="color: gold">\u5728\u88AB\u5632\u8BBD\u4E4B\u524D\u4F1A\u81EA\u52A8\u5B58\u6863\u3002</span>',"<br>","<br>",'<span style="color: #d8a">2. \u6C38\u591C</span>\u3001<span style="color: #ffd">\u6781\u663C</span>\uFF1A',"\u6218\u6597\u540E\u4F1A\u5728\u672C\u697C\u5C42\u4E2D\u52A0\u51CF\u602A\u7269\u4E0E\u52C7\u58EB\u7684\u653B\u9632\uFF0C\u6BCF\u4E2A\u697C\u5C42\u4F1A\u5355\u72EC\u5B58\u50A8\u3002\u4F8B\u5982\u4F60\u57281\u697C\u5C42\u589E\u52A0\u4E86100\u70B9\u653B\u51FB\uFF0C2\u697C\u5C42\u51CF\u5C11\u4E86100\u70B9\u653B\u51FB\uFF0C","\u90A3\u4E48\u5F53\u4F60\u4ECE2\u697C\u5C42\u52301\u697C\u5C42\u65F6\uFF0C\u653B\u51FB\u4F1A\u589E\u52A0200\u70B9\uFF0C\u53CD\u4E4B\u4EA6\u7136\u3002\u6CE8\u610F\u8FD9\u91CC\u6CA1\u6709\u8BA1\u7B97buff\u3002"]},desc={tip,about,tutorial,noun,shortcut,extraAttr,statusBar,markEnemy,book,fly,tools,achievement,skillTree,study,special1,special2},_hoisted_1$g={id:"desc-list"},_hoisted_2$d=["selected","show","onClick"],_hoisted_3$c={key:0},_hoisted_4$a=["innerHTML"],_sfc_main$g=defineComponent({__name:"desc",setup(__props){const selected=ref(Object.keys(desc)[0]);function exit(){core.plugin.descOpened.value=!1}const content=computed(()=>eval("`"+splitText(desc[selected.value].desc)+"`"));function click(key){!eval(desc[key].condition)||(selected.value=key)}function show(condition){return eval(condition)}return(e,t)=>(openBlock(),createBlock(Column,{onClose:exit,width:80,height:80,left:30,right:70},{left:withCtx(()=>[createBaseVNode("div",_hoisted_1$g,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(desc),(o,n)=>(openBlock(),createElementBlock("div",{class:"selectable desc-item",selected:selected.value===n,show:show(o.condition),onClick:s=>click(n)},[show(o.condition)?(openBlock(),createElementBlock("span",_hoisted_3$c,toDisplayString(o.text),1)):createCommentVNode("",!0)],8,_hoisted_2$d))),256))])]),right:withCtx(()=>[createBaseVNode("span",{innerHTML:unref(content)},null,8,_hoisted_4$a)]),_:1}))}}),desc_vue_vue_type_style_index_0_scoped_bcbf0734_lang="",Desc=_export_sfc(_sfc_main$g,[["__scopeId","data-v-bcbf0734"]]),none={text:"\u65E0",opened:"true",desc:["\u5F53\u524D\u672A\u9009\u62E9\u6280\u80FD"]},blade={text:"1\uFF1A\u65AD\u706D\u4E4B\u5203",opened:"core.getSkillLevel(2) > 0",desc:['<span style="color: gold">\u5FEB\u6377\u952E1</span>\uFF0C\u5F00\u542F\u540E\u52C7\u58EB\u653B\u51FB\u589E\u52A0${level:2 * 10}%\uFF0C',"\u540C\u65F6\u9632\u5FA1\u51CF\u5C11${level:2 * 10}%\u3002","<br>","<br>","\u5F53\u524D\u7B49\u7EA7\uFF1A${level:2}"]},jump={text:"2\uFF1A\u8DF3\u8DC3",opened:"flags.skill2 === true",desc:['<span style="color: gold">\u5FEB\u6377\u952E2</span>\uFF0C\u6D88\u8017200\u70B9\u751F\u547D\u503C\uFF0C\u56F0\u96BE\u6D88\u8017400\u70B9\uFF0C\u4E00\u4E2A\u5730\u56FE\u53EA\u80FD\u4F7F\u75283\u6B21\uFF0C',"\u5982\u679C\u524D\u65B9\u4E3A\u53EF\u901A\u884C\u7684\u5730\u9762\uFF0C\u5219\u4E0D\u80FD\u4F7F\u7528\u8BE5\u6280\u80FD\uFF0C\u5982\u679C\u524D\u65B9\u4E3A\u602A\u7269\uFF0C\u5219\u5C06\u602A\u7269\u79FB\u81F3\u52C7\u58EB\u89C6\u7EBF\u4E0A\u7B2C\u4E00\u4E2A\u4E0D\u80FD\u901A\u884C\u7684\u65B9\u5757\u540E","\u5982\u679C\u524D\u65B9\u4E3A\u969C\u788D\u7269\uFF0C\u5219\u76F4\u63A5\u8DF3\u5230\u8BE5\u969C\u788D\u7269\u7684\u540E\u65B9\u3002","<br>","<br>","\u8FDB\u5165\u7B2C\u4E8C\u7AE0\u540E\u4E0D\u518D\u6D88\u8017\u751F\u547D\u503C\u3002"]},shield={text:"3\uFF1A\u94F8\u5251\u4E3A\u76FE",opened:"core.getSkillLevel(10) > 0",desc:['<span style="color: gold">\u5FEB\u6377\u952E3</span>\uFF0C\u5F00\u542F\u540E\u52C7\u58EB\u9632\u5FA1\u589E\u52A0${level:10 * 10}%\uFF0C',"\u540C\u65F6\u653B\u51FB\u51CF\u5C11${level:10 * 10}%\u3002","<br>","<br>","\u5F53\u524D\u7B49\u7EA7\uFF1A${level:10}"]},skills={none,blade,jump,shield},_hoisted_1$f={id:"skill-list"},_hoisted_2$c=["selected","selectable","onClick"],_hoisted_3$b=["innerHTML"],_sfc_main$f=defineComponent({__name:"skill",setup(__props){const selected=ref("none");function skillOpened(skill){return eval(skills[skill].opened)}function select(e){!skillOpened(e)||(selected.value=e)}const content=computed(()=>eval("`"+skills[selected.value].desc.map((e,t,o)=>/^\d+\./.test(e)?`${"&nbsp;".repeat(12)}${e}`:has(o[t-1])&&e!=="<br>"&&o[t-1]==="<br>"||t===0?`${"&nbsp;".repeat(8)}${e}`:e).join("").replace(/level:(\d+)/g,"core.getSkillLevel($1)")+"`"));function exit(){core.plugin.skillOpened.value=!1}return(e,t)=>(openBlock(),createBlock(Column,{onClose:exit,width:70,height:70},{left:withCtx(()=>[createBaseVNode("div",_hoisted_1$f,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(skills),(o,n)=>(openBlock(),createElementBlock("span",{class:"selectable skill-item",selected:n===selected.value,selectable:skillOpened(n),onClick:s=>select(n)},toDisplayString(o.text),9,_hoisted_2$c))),256))])]),right:withCtx(()=>[createBaseVNode("span",{innerHTML:unref(content)},null,8,_hoisted_3$b)]),_:1}))}}),skill_vue_vue_type_style_index_0_scoped_9f619ff1_lang="",Skill=_export_sfc(_sfc_main$f,[["__scopeId","data-v-9f619ff1"]]),_withScopeId$5=e=>(pushScopeId("data-v-b1be4e88"),e=e(),popScopeId(),e),_hoisted_1$e={id:"skill-tree"},_hoisted_2$b={id:"tools"},_hoisted_3$a={id:"skill-title"},_hoisted_4$9={id:"skill-info"},_hoisted_5$8=["innerHTML"],_hoisted_6$7={id:"skill-effect"},_hoisted_7$7=["innerHTML"],_hoisted_8$6=["innerHTML"],_hoisted_9$6={id:"skill-bottom"},_hoisted_10$6=_withScopeId$5(()=>createBaseVNode("canvas",{id:"skill-canvas"},null,-1)),_hoisted_11$6={id:"skill-upgrade-info"},_hoisted_12$4={id:"skill-level"},_hoisted_13$4={key:1,id:"skill-consume",style:{color:"gold"}},_hoisted_14$4={id:"skill-front"},_hoisted_15$3=_withScopeId$5(()=>createBaseVNode("span",null,"\u524D\u7F6E\u6280\u80FD",-1)),_hoisted_16$3={id:"skill-chapter"},_sfc_main$e=defineComponent({__name:"skillTree",setup(__props){var e;let canvas,ctx;const selected=ref(0),chapter=ref("chapter1"),update=ref(!1),chapterDict={chapter1:"\u7B2C\u4E00\u7AE0",chapter2:"\u7B2C\u4E8C\u7AE0"};(e=flags.skillTree)!=null||(flags.skillTree=0);const chapterList=Object.keys(core.plugin.skills);selected.value=core.plugin.skills[chapterList[flags.skillTree]][0].index,chapter.value=chapterList[flags.skillTree],watch(selected,draw),watch(update,()=>mdef.value=core.status.hero.mdef);const mdef=ref(core.status.hero.mdef),skill=computed(()=>(update.value,core.getSkillFromIndex(selected.value))),skills=computed(()=>core.plugin.skills[chapter.value]),desc=computed(()=>eval("`"+splitText(skill.value.desc).replace(/level(:\d+)?/g,(t,o)=>o?`core.getSkillLevel(${o})`:`core.getSkillLevel(${skill.value.index})`)+"`")),effect=computed(()=>[0,1].map(v=>eval(`\`${v===0?"\u5F53\u524D\u6548\u679C\uFF1A":"\u4E0B\u4E00\u7EA7\u6548\u679C\uFF1A"}`+skill.value.effect.join("").replace(/level(:\d+)?/g,(t,o)=>o?`(core.getSkillLevel(${o}) + ${v})`:`(core.getSkillLevel(${skill.value.index}) + ${v})`)+"`"))),dict=computed(()=>{const t={};return skills.value.forEach((n,s)=>{t[n.index]=s}),t}),front=computed(()=>skill.value.front.map(t=>`${core.getSkillLevel(t[0])>=t[1]?"a":"b"}${t[1]}\u7EA7  ${skills.value[dict.value[t[0]]].title}`)),consume=computed(()=>(update.value,core.getSkillConsume(selected.value))),level=computed(()=>(update.value,core.getSkillLevel(selected.value)));function exit(){core.plugin.skillTreeOpened.value=!1}function resize(){const t=getComputedStyle(canvas);canvas.width=parseFloat(t.width)*devicePixelRatio,canvas.height=parseFloat(t.height)*devicePixelRatio}function draw(){const t=dict.value,n=canvas.width/11;ctx.clearRect(0,0,canvas.width,canvas.height),skills.value.forEach(s=>{const[a,r]=s.loc.map(l=>l*2-1);s.front.forEach(([l],f)=>{const c=skills.value[t[l]];ctx.beginPath(),ctx.moveTo(a*n+n/2,r*n+n/2),ctx.lineTo(...c.loc.map(_=>(_*2-1)*n+n/2)),core.getSkillLevel(c.index)<s.front[f][1]?ctx.strokeStyle="#aaa":core.getSkillLevel(c.index)===c.max?ctx.strokeStyle="#ff0":ctx.strokeStyle="#0f8",ctx.lineWidth=devicePixelRatio,ctx.stroke()})}),skills.value.forEach(s=>{const[a,r]=s.loc.map(c=>c*2-1),l=core.getSkillLevel(s.index);ctx.save(),ctx.lineWidth=n*.06,selected.value===s.index?(ctx.strokeStyle="#ff0",ctx.lineWidth*=2):l===0?ctx.strokeStyle="#888":l===s.max?ctx.strokeStyle="#F7FF68":ctx.strokeStyle="#00FF69",ctx.strokeRect(a*n,r*n,n,n);const f=core.material.images.images[`skill${s.index}.png`];ctx.drawImage(f,a*n,r*n,n,n),selected.value===s.index&&(ctx.fillStyle="#ff04",ctx.fillRect(a*n,r*n,n,n)),ctx.restore()})}function click(t){const o=t.offsetX,n=t.offsetY,a=canvas.width/devicePixelRatio/11,r=Math.floor(o/a),l=Math.floor(n/a);if(r%2!==1||l%2!==1)return;const f=Math.floor(r/2)+1,c=Math.floor(l/2)+1,_=skills.value.find(u=>u.loc[0]===f&&u.loc[1]===c);!_||(selected.value!==_.index?selected.value=_.index:upgrade(_.index))}function upgrade(t){core.upgradeSkill(t)?(tip$1("success","\u5347\u7EA7\u6210\u529F\uFF01"),update.value=!update.value,core.status.route.push(`skill:${selected.value}`)):tip$1("error","\u5347\u7EA7\u5931\u8D25\uFF01")}function key(t){const o=keycode(t.keyCode);(o===KeyCode.Escape||o===KeyCode.KeyX||o===KeyCode.KeyJ)&&exit(),(o===KeyCode.Space||o===KeyCode.Enter||o===KeyCode.KeyC)&&upgrade(selected.value)}onMounted(async()=>{canvas=document.getElementById("skill-canvas"),ctx=canvas.getContext("2d"),resize(),draw(),await S(50),core.plugin.transition.value&&await S(600),canvas.addEventListener("click",click),document.addEventListener("keyup",key)}),onUnmounted(()=>{document.removeEventListener("keyup",key)});function selectChapter(t){const n=chapterList.indexOf(chapter.value)+t;has(chapterList[n])&&flags.chapter>n&&(selected.value=core.plugin.skills[chapterList[n]][0].index,chapter.value=chapterList[n],update.value=!update.value,flags.skillTree=n,draw())}return(t,o)=>{const n=__unplugin_components_0;return openBlock(),createElementBlock("div",_hoisted_1$e,[createBaseVNode("div",_hoisted_2$b,[createBaseVNode("span",{id:"back",class:"button-text tools",onClick:exit},[createVNode(unref(LeftOutlined)),createTextVNode("\u8FD4\u56DE\u6E38\u620F")])]),createBaseVNode("span",_hoisted_3$a,toDisplayString(unref(skill).title),1),createVNode(n,{dashed:"",style:{"border-color":"#ddd4"},id:"divider"}),createBaseVNode("div",_hoisted_4$9,[createVNode(Scroll,{id:"skill-desc","no-scroll":!0},{default:withCtx(()=>[createBaseVNode("span",{innerHTML:unref(desc)},null,8,_hoisted_5$8)]),_:1}),createBaseVNode("div",_hoisted_6$7,[unref(level)>0?(openBlock(),createElementBlock("span",{key:0,innerHTML:unref(effect)[0]},null,8,_hoisted_7$7)):createCommentVNode("",!0),unref(level)<unref(skill).max?(openBlock(),createElementBlock("span",{key:1,innerHTML:unref(effect)[1]},null,8,_hoisted_8$6)):createCommentVNode("",!0)])]),createVNode(n,{dashed:"",style:{"border-color":"#ddd4"},id:"divider-split"}),createBaseVNode("div",_hoisted_9$6,[_hoisted_10$6,createVNode(n,{dashed:"",style:{"border-color":"#ddd4"},type:unref(isMobile)?"horizontal":"vertical",id:"divider-vertical"},null,8,["type"]),createBaseVNode("div",_hoisted_11$6,[createBaseVNode("span",_hoisted_12$4,"\u5F53\u524D\u7B49\u7EA7\uFF1A"+toDisplayString(unref(level))+" / "+toDisplayString(unref(skill).max),1),createVNode(n,{dashed:"",class:"upgrade-divider"}),unref(level)<unref(skill).max?(openBlock(),createElementBlock("span",{key:0,id:"skill-consume",style:normalizeStyle({color:unref(consume)<=mdef.value?"#fff":"#f44"})},"\u5347\u7EA7\u82B1\u8D39\uFF1A"+toDisplayString(unref(consume)),5)):(openBlock(),createElementBlock("span",_hoisted_13$4,"\u5DF2\u6EE1\u7EA7")),createVNode(n,{dashed:"",class:"upgrade-divider"}),createVNode(Scroll,{id:"front-scroll","no-scroll":!0},{default:withCtx(()=>[createBaseVNode("div",_hoisted_14$4,[_hoisted_15$3,(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(front),s=>(openBlock(),createElementBlock("span",{style:normalizeStyle({color:s.startsWith("a")?"#fff":"#f44"})},toDisplayString(s.slice(1)),5))),256))])]),_:1}),createVNode(n,{dashed:"",class:"upgrade-divider"}),createBaseVNode("div",_hoisted_16$3,[createBaseVNode("span",{class:"button-text",onClick:o[0]||(o[0]=s=>selectChapter(-1))},[createVNode(unref(LeftOutlined))]),createTextVNode(" \xA0\xA0 "),createBaseVNode("span",null,toDisplayString(chapterDict[chapter.value]),1),createTextVNode(" \xA0\xA0 "),createBaseVNode("span",{class:"button-text",onClick:o[1]||(o[1]=s=>selectChapter(1))},[createVNode(unref(RightOutlined))])])])])])}}}),skillTree_vue_vue_type_style_index_0_scoped_b1be4e88_lang="",SkillTree=_export_sfc(_sfc_main$e,[["__scopeId","data-v-b1be4e88"]]),index$1="";function init$b(){return{splitArea,getMapDrawData}}let area={};const bfsCache={},drawCache={},arrow={leftPortal:"left",rightPortal:"right",upPortal:"up",downPortal:"down"};function splitArea(){area={};const e=[];for(const t of core.floorIds){if(e.includes(t)||core.status.maps[t].deleted)continue;const o=getMapData(t,!0);if(e.push(...o.maps),o.maps.length>1){const n=core.status.maps[t].title;area[n]=o.maps}}}function getArea(){return area}function getMapDrawData(e,t=5,o=1,n=!1){var y;const s=`${e},${t},${o}`;if(drawCache[s]&&!n)return drawCache[s];const{link:a,maps:r}=getMapData(e,n),l={},f=[],c=core.status.maps[e];let _=-c.width/2,u=c.width/2,d=-c.height/2,h=c.height/2;for(const[g,k]of Object.entries(a)){const[B,b,H,N]=g.split(","),[F,x,V]=k.split(","),P=core.status.maps[B],L=core.status.maps[F],T=parseInt(b),q=parseInt(H),Q=parseInt(x),te=parseInt(V),A=P.width,J=P.height,z=L.width,ee=L.height;(y=l[B])!=null||(l[B]=[0,0]);const[ae,U]=l[B];if(!l[F]){const ie=core.utils.scan[N].x,he=core.utils.scan[N].y,fe=ae+(T-A/2)-(Q-z/2)+(o*2+t)*ie,le=U+(q-J/2)-(te-ee/2)+(o*2+t)*he;l[F]=[fe,le]}const[M,X]=l[F];f.push([ae+(T-A/2+.5),U+(q-J/2+.5),M+(Q-z/2+.5),X+(te-ee/2+.5)]);const Z=M-z/2,oe=M+z/2,se=X-ee/2,G=X+ee/2;Z<_&&(_=Z),oe>u&&(u=oe),se<d&&(d=se),G>h&&(h=G)}Object.values(l).forEach(g=>{g[0]-=_,g[1]-=d}),f.forEach(g=>{g[0]-=_,g[2]-=_,g[1]-=d,g[3]-=d}),_-=5,u+=5,d-=5,h+=5;const m={locs:l,line:f,width:u-_,height:h-d};return drawCache[s]=m}function getMapData(e,t=!1){if(has(bfsCache[e])&&!t)return bfsCache[e];const o=[e],n={[e]:!0},s=[e],a={};for(;o.length>0;){const l=o.shift(),f=core.floors[l].changeFloor,c=core.getMapBlocksObj(l,t);for(const[_,u]of Object.entries(f)){const d=u.floorId;if(d.startsWith(":"))continue;const m=c[_].event.id;if(m in arrow&&!n[d]){const y=`${l},${_},${arrow[m]}`,g=`${d},${u.loc[0]},${u.loc[1]}`;a[y]=g,o.push(d),s.push(d)}}n[l]=!0}const r={maps:s,link:a};return bfsCache[e]=r}const _withScopeId$4=e=>(pushScopeId("data-v-daeed431"),e=e(),popScopeId(),e),_hoisted_1$d={id:"fly"},_hoisted_2$a={id:"tools"},_hoisted_3$9={id:"fly-settings"},_hoisted_4$8={id:"fly-border"},_hoisted_5$7=_withScopeId$4(()=>createBaseVNode("span",null,"\u65E0\u8FB9\u6846\u6A21\u5F0F",-1)),_hoisted_6$6={key:0,id:"fly-tradition"},_hoisted_7$6=_withScopeId$4(()=>createBaseVNode("span",null,"\u4F20\u7EDF\u6309\u952E\u6A21\u5F0F",-1)),_hoisted_8$5={id:"fly-main"},_hoisted_9$5={id:"fly-left"},_hoisted_10$5={id:"area-list"},_hoisted_11$5=["selected","onClick"],_hoisted_12$3={id:"fly-right"},_hoisted_13$3={id:"fly-tools"},_hoisted_14$3={id:"fly-now"},_sfc_main$d=defineComponent({__name:"fly",setup(e){var ge;const t=getArea(),o=ref((ge=Object.keys(t).find(w=>t[w].includes(core.status.floorId)))!=null?ge:""),n=ref(core.status.floorId),s=ref(!0),a=ref(!1);let r=isMobile?1.5:3,l=0,f=0,c={},_={};s.value=core.getLocalStorage("noBorder",!0),a.value=core.getLocalStorage("flyTradition",!1);const u=computed(()=>core.status.maps[n.value]);watch(n,q),watch(o,w=>{var $;l=0,f=0,r=3,A=3,t[w]&&!t[w].includes(n.value)&&(n.value=($=t[w].find(D=>D===core.status.floorId))!=null?$:t[w][0])}),watch(s,w=>{core.setLocalStorage("noBorder",w),c={},N()}),watch(a,w=>{core.setLocalStorage("flyTradition",w)});const d=document.createElement("canvas"),h=d.getContext("2d");let m,y,g,k,B=!1;function b(){core.plugin.flyOpened.value=!1}const H=computed(()=>core.status.maps[n.value].title);function N(w=!1){const $=s.value?.5:1,D=getMapDrawData(n.value,s.value?0:5,$,w),K=h,E=r*devicePixelRatio;d.width=D.width*E,d.height=D.height*E,K.lineWidth=$*devicePixelRatio/2,K.strokeStyle="#fff",K.scale(E,E),K.translate(5,5),s.value||D.line.forEach(([W,ue,re,me])=>{K.beginPath(),K.moveTo(W,ue),K.lineTo(re,me),K.stroke()});for(const[W,[ue,re]]of Object.entries(D.locs))s.value||F(W,ue,re),P(W,ue,re);x()}function F(w,$,D){const K=s.value?.5:1,E=h;E.lineWidth=K*devicePixelRatio;const W=core.status.maps[w];core.hasVisitedFloor(w)?E.fillStyle="#000":E.fillStyle="#d0d",w===n.value?E.strokeStyle="gold":E.strokeStyle="#fff",E.strokeRect($-W.width/2,D-W.height/2,W.width,W.height),E.fillRect($-W.width/2,D-W.height/2,W.width,W.height),w===n.value&&(E.fillStyle="#ff04",E.fillRect($-W.width/2,D-W.height/2,W.width,W.height))}function x(w=1){y.clearRect(0,0,m.width,m.height),y.drawImage(d,0,0,d.width,d.height,l*devicePixelRatio+(m.width-d.width)/2,f*devicePixelRatio+(m.height-d.height)/2,d.width,d.height)}function V(w,$,D){const K=core.status.maps[w],E=r*devicePixelRatio,W=l*devicePixelRatio+(m.width-d.width)/2+5*E,ue=f*devicePixelRatio+(m.height-d.height)/2+5*E,re=W+($-K.width/2)*E,me=ue+(D-K.height/2)*E,ve=re+K.width*E,ye=me+K.height*E;return _[w]=[re,me,ve,ye],!(c[w]||!s.value&&r<=4||ve<0||ye<0||re>m.width||me>m.height)}function P(w,$,D,K=!1){if(!B&&!K&&!V(w,$,D))return;const E=core.status.maps[w];c[w]=!0;const W=h;core.drawThumbnail(w,void 0,{all:!0,inFlyMap:!0,x:$-E.width/2,y:D-E.height/2,w:E.width,h:E.height,ctx:W,damage:r>7}),B||(core.hasVisitedFloor(w)||(W.fillStyle="#d0d6",W.fillRect($-E.width/2,D-E.height/2,E.width,E.height),W.fillStyle="#000"),n.value===w&&(W.fillStyle="#ff04",W.fillRect($-E.width/2,D-E.height/2,E.width,E.height),W.fillStyle="#000"))}function L(){const w=s.value?.5:1,$=getMapDrawData(n.value,s.value?0:5,w);for(const[D,[K,E]]of Object.entries($.locs))V(D,K,E)&&P(D,K,E,!0)}function T(){let w=g.width,$=g.height,D=0,K=0;const E=u.value.width/u.value.height;E>1&&($=w/E,K=g.height/2-$/2),E<1&&(w=$*E,D=g.width/2-w/2),k.fillStyle="#000",k.fillRect(0,0,g.width,g.height),core.drawThumbnail(n.value,void 0,{ctx:k,all:!0,damage:!0,inFlyMap:!0,x:D,y:K,w,h:$})}function q(){c={},_={},N(),T()}function Q(){if(o.value===""){tip$1("error","\u5F53\u524D\u5730\u56FE\u4E0D\u5728\u4EFB\u610F\u4E00\u4E2A\u533A\u57DF\u5185\uFF01");return}B=!0;const w=r;r=32,N(),downloadCanvasImage(d,o.value),r=w,B=!1,q(),tip$1("success","\u56FE\u7247\u4E0B\u8F7D\u6210\u529F\uFF01")}function te(){core.flyTo(n.value)?b():tip$1("error",`\u65E0\u6CD5\u98DE\u5F80${u.value.title}`)}let A=r;const J=lodash.exports.debounce(w=>{m.style.transform="",c={},N(),A=w},200);function z(w){l*=w,f*=w,r=w*r,J(r),m.style.transform=`scale(${r/A})`,_={}}let ee=0,ae=0,U=!1,M=0,X=0;function Z(w,$){if(le)return;const D=w-ee,K=$-ae;l+=D,f+=K,ee=w,ae=$,L(),x(),(Math.abs(w-M)>10||Math.abs($-X)>10)&&(U=!0)}function oe(w){if(U)return;const $=w.offsetX*devicePixelRatio,D=w.offsetY*devicePixelRatio;for(const[K,[E,W,ue,re]]of Object.entries(_))$>=E&&$<=ue&&D>=W&&D<=re&&(K===n.value?te():n.value=K)}function se(w){o.value=Object.keys(t).find($=>t[$].includes(w))}function G(w){const $=core.floorIds.indexOf(n.value);let D=$+w;D<0&&(D=0),D>=core.floorIds.length&&(D=core.floorIds.length-1);const K=core.status.maps[core.floorIds[D]];if(K.deleted||K.forceDelete)for(;D!==$;){D+=Math.sign(w);const E=core.status.maps[core.floorIds[D]];if(!E.cannotViewMap&&(!E.deleted&&!E.forceDelete||D<0||D>=core.floorIds.length))break}n.value=core.floorIds[D],se(n.value),he(n.value)}function ie(w){const $=getMapData(n.value);for(const[D,K]of Object.entries($.link)){if(!D.startsWith(n.value))continue;if(D.split(",")[3]===w){const W=K.split(",")[0];he(W),n.value=W;return}}}function he(w){const $=getMapDrawData(w,s.value?0:5,s.value?.5:1);if(!$.locs[w])return;const[D,K]=$.locs[w];l=(-D+$.width/2-5)*r,f=(-K+$.height/2-5)*r}function fe(w){const $=keycode(w.keyCode);($===KeyCode.Enter||$===KeyCode.Space||$===KeyCode.KeyC)&&te(),($===KeyCode.Escape||$===KeyCode.KeyX||$===KeyCode.KeyG)&&b(),a.value?($===KeyCode.UpArrow&&G(1),$===KeyCode.DownArrow&&G(-1),$===KeyCode.LeftArrow&&G(-10),$===KeyCode.RightArrow&&G(10),$===KeyCode.PageUp&&G(10),$===KeyCode.PageDown&&G(-10)):($===KeyCode.LeftArrow&&ie("left"),$===KeyCode.RightArrow&&ie("right"),$===KeyCode.UpArrow&&ie("up"),$===KeyCode.DownArrow&&ie("down"),$===KeyCode.PageUp&&G(1),$===KeyCode.PageDown&&G(-1))}let le=!1,ne=0;function ce(w){w.touches.length>=2&&(le=!0,ne=Math.sqrt((w.touches[0].clientX-w.touches[1].clientX)**2+(w.touches[0].clientY-w.touches[1].clientY)**2))}function de(w){w.touches.length<2&&(le=!1)}function _e(w){if(!le)return;const $=Math.sqrt((w.touches[0].clientX-w.touches[1].clientX)**2+(w.touches[0].clientY-w.touches[1].clientY)**2);z($/ne),ne=$}return onMounted(async()=>{m=document.getElementById("fly-map"),y=m.getContext("2d"),g=document.getElementById("fly-thumbnail"),k=g.getContext("2d");const w=getComputedStyle(m),$=getComputedStyle(g);m.width=parseFloat(w.width)*devicePixelRatio,m.height=parseFloat(w.height)*devicePixelRatio,g.width=parseFloat($.width)*devicePixelRatio,g.height=parseFloat($.width)*devicePixelRatio,Array.from(document.getElementsByClassName("fly-settings")).forEach(D=>{D.addEventListener("click",K=>D.blur())}),he(n.value),q(),useDrag(m,Z,(D,K)=>{ee=D,ae=K,M=D,X=K},()=>{setTimeout(()=>{U=!1},50)},!0),useWheel(m,(D,K)=>{const E=-Math.sign(K)*.1+1;z(E)}),await S(50),core.plugin.transition.value&&await S(600),document.addEventListener("keyup",fe),m.addEventListener("touchstart",ce),m.addEventListener("touchend",de),m.addEventListener("touchend",_e)}),onUnmounted(()=>{cancelGlobalDrag(Z),document.removeEventListener("keyup",fe)}),(w,$)=>{const D=__unplugin_components_0$2,K=__unplugin_components_0;return openBlock(),createElementBlock("div",_hoisted_1$d,[createBaseVNode("div",_hoisted_2$a,[createBaseVNode("span",{class:"button-text",onClick:b},[createVNode(unref(LeftOutlined)),createTextVNode(" \u8FD4\u56DE\u6E38\u620F")])]),createBaseVNode("div",_hoisted_3$9,[createBaseVNode("div",_hoisted_4$8,[_hoisted_5$7,createVNode(D,{class:"fly-settings",checked:s.value,"onUpdate:checked":$[0]||($[0]=E=>s.value=E),"checked-children":"ON","un-checked-children":"OFF"},null,8,["checked"])]),unref(isMobile)?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_6$6,[_hoisted_7$6,createVNode(D,{class:"fly-settings",checked:a.value,"onUpdate:checked":$[1]||($[1]=E=>a.value=E),"checked-children":"ON","un-checked-children":"OFF"},null,8,["checked"])])),unref(isMobile)?createCommentVNode("",!0):(openBlock(),createElementBlock("span",{key:1,class:"button-text",id:"fly-download",onClick:Q},"\u4E0B\u8F7D\u5730\u56FE\u56FE\u7247"))]),createBaseVNode("div",_hoisted_8$5,[createBaseVNode("div",_hoisted_9$5,[createVNode(Scroll,{id:"fly-area"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_10$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(t),(E,W)=>(openBlock(),createElementBlock("span",{selected:o.value===W,class:"selectable",onClick:ue=>o.value=W},toDisplayString(W),9,_hoisted_11$5))),256))])]),_:1}),createVNode(K,{type:"vertical",dashed:"",id:"divider-left"}),createBaseVNode("div",{id:"fly-map-div"},[createBaseVNode("canvas",{id:"fly-map",onClick:oe})])]),createVNode(K,{id:"divider-right",dashed:"",type:unref(isMobile)?"horizontal":"vertical"},null,8,["type"]),createBaseVNode("div",_hoisted_12$3,[createBaseVNode("canvas",{id:"fly-thumbnail",onClick:te}),createBaseVNode("div",_hoisted_13$3,[createVNode(unref(DoubleLeftOutlined),{onClick:$[2]||($[2]=E=>G(-10)),class:"button-text"}),createVNode(unref(LeftOutlined),{onClick:$[3]||($[3]=E=>G(-1)),class:"button-text"}),createBaseVNode("span",_hoisted_14$3,toDisplayString(unref(H)),1),createVNode(unref(RightOutlined),{onClick:$[4]||($[4]=E=>G(1)),class:"button-text"}),createVNode(unref(DoubleRightOutlined),{onClick:$[5]||($[5]=E=>G(10)),class:"button-text"})])])])])}}}),fly_vue_vue_type_style_index_0_scoped_daeed431_lang="",Fly=_export_sfc(_sfc_main$d,[["__scopeId","data-v-daeed431"]]),showFixed=ref(!1);let lastId;const show=lodash.exports.debounce(e=>{var r;if(!window.flags||!flags.mouseLoc)return;flags.clientLoc=[e.clientX,e.clientY];const[t,o]=getLocFromMouseLoc(...flags.mouseLoc),n=core.getBlockId(t,o);if(n!==lastId&&(showFixed.value=!1),!n||!((r=core.getClsFromId(n))!=null&&r.startsWith("enemy")))return;lastId=n;const s=core.material.enemys[n],a=getDetailedEnemy(s,t,o);core.plugin.bookDetailEnemy=a,showFixed.value=!0},200);function init$a(){const e=core.canvas.data.canvas;return e.addEventListener("mousemove",t=>{if(!core.isPlaying()||core.status.lockControl)return;const[o,n]=getLocFromMouseLoc(...flags.mouseLoc),s=core.getBlockId(o,n);s!==lastId&&(showFixed.value=!1),s&&show(t)}),e.addEventListener("mousedown",t=>{showFixed.value=!1}),{showFixed}}function getLocFromMouseLoc(e,t){const o=Math.round(e+core.bigmap.offsetX/32),n=Math.round(t+core.bigmap.offsetY/32);return[o,n]}function getDetailedEnemy(e,t,o,n=core.status.floorId){var m,y,g,k,B;const s=core.status.maps[n].ratio,a=Object.assign({},e,core.getEnemyInfo(e,void 0,t,o,n),(m=core.getDamageInfo(e,void 0,t,o,n))!=null?m:{}),r=core.nextCriticals(e,1,t,o,n),l=core.getDefDamage(e,s,t,o,n),f=core.getSpecialText(a);let c=lodash.exports.cloneDeep(f);c.length>2&&(c=c.slice(0,2).concat(["..."]));const _=core.getSpecialColor(a);let u=lodash.exports.cloneDeep(_);u.length>2&&(u=u.slice(0,2).concat(["#fff"])),c.length===0&&(c=["\u65E0\u5C5E\u6027"],u=["#fff"]);const d=getDamageColor(a.damage);return Object.assign(a,{critical:(g=(y=r[0])==null?void 0:y[0])!=null?g:"???",criticalDamage:(B=(k=r[0])==null?void 0:k[1])!=null?B:"???",defDamage:l,specialColor:_,specialText:f,toShowColor:u,toShowSpecial:c,damageColor:d})}const _hoisted_1$c={id:"fixed-detail"},_sfc_main$c=defineComponent({__name:"fixedDetail",setup(e){var f,c;const t=(f=core.plugin.fixedDetailPanel)!=null?f:"special";core.plugin.bookDetailPos=0;const[o,n]=flags.mouseLoc,s=Math.round(o+core.bigmap.offsetX/32),a=Math.round(n+core.bigmap.offsetY/32),r=core.getBlockId(s,a);if(r&&((c=core.getClsFromId(r))==null?void 0:c.startsWith("enemy"))){const _=core.material.enemys[r],u=getDetailedEnemy(_,s,a);core.plugin.bookDetailEnemy=u}else l();function l(){core.plugin.fixedDetailOpened.value=!1}return(_,u)=>(openBlock(),createElementBlock("div",_hoisted_1$c,[createVNode(BookDetail,{"from-book":!1,"default-panel":unref(t),onClose:l},null,8,["default-panel"])]))}}),fixedDetail_vue_vue_type_style_index_0_scoped_95b38cb5_lang="",FixedDetail=_export_sfc(_sfc_main$c,[["__scopeId","data-v-95b38cb5"]]),_withScopeId$3=e=>(pushScopeId("data-v-2962e78e"),e=e(),popScopeId(),e),_hoisted_1$b={id:"shop"},_hoisted_2$9={id:"tools"},_hoisted_3$8={id:"item-name"},_hoisted_4$7={id:"item-info"},_hoisted_5$6=["innerHTML"],_hoisted_6$5={id:"shop-bottom"},_hoisted_7$5={id:"item-list"},_hoisted_8$4=["selected","onClick"],_hoisted_9$4={class:"item-icon"},_hoisted_10$4={id:"item-sell-info"},_hoisted_11$4={id:"shop-mode"},_hoisted_12$2=["active"],_hoisted_13$2=["active"],_hoisted_14$2=_withScopeId$3(()=>createBaseVNode("span",null,"\u4E70\u4EF7",-1)),_hoisted_15$2=_withScopeId$3(()=>createBaseVNode("span",null,"\u5356\u4EF7",-1)),_hoisted_16$2={class:"item-sell-info"},_hoisted_17$2=_withScopeId$3(()=>createBaseVNode("span",null,"\u5B58\u8D27",-1)),_hoisted_18$2={class:"item-sell-info"},_hoisted_19$2=_withScopeId$3(()=>createBaseVNode("span",null,"\u62E5\u6709",-1)),_hoisted_20$1={id:"sell-count"},_hoisted_21$1={id:"sell-count-select"},_hoisted_22$1={id:"fly-now"},_hoisted_23$1={id:"sell-confirm"},_hoisted_24$1=["danger"],_sfc_main$b=defineComponent({__name:"shop",setup(e){var F;const t=core.plugin.openedShopId,o=core.status.shops[core.plugin.openedShopId];if(!o.item)throw new TypeError("Wrong global shop type delivered in opening item shop.");(F=flags.itemShop)!=null||(flags.itemShop={});const n=flags,s=o.choices,a=ref(0),r=ref("buy"),l=core.material.items,f=core.itemCount,c=ref(0),_=ref(core.status.hero.money),u=ref(!1);let d=!1;watch(c,x=>{if(x<0&&(x=0),r.value==="buy")x>m.value&&(x=m.value);else{const V=f(h.value.id);x>V&&(x=V)}c.value=x});const h=computed(()=>s[a.value]),m=computed(()=>{var x,V;return u.value,h.value.number-((V=(x=flags.itemShop[t])==null?void 0:x[h.value.id])!=null?V:0)}),y=computed(()=>core.material.items[h.value.id]),g=computed(()=>{const x=y.value.text;return splitText([x.startsWith("!!html")?x.slice(6):x])}),k=computed(()=>c.value*parseInt(r.value==="buy"?h.value.money:h.value.sell));watch(m,x=>{x<c.value&&(c.value=x)});function B(){var V,P,L,T,q,Q,te,A,J,z;if(c.value===0)return;const x=core.status.hero.money;d=!0,core.status.route.push(`openShop:${t}`),r.value==="buy"?k.value<=x?(core.getItem(h.value.id,c.value),core.status.hero.money-=k.value,_.value-=k.value,(P=(V=flags.itemShop)[t])!=null||(V[t]={}),(q=(L=flags.itemShop[t])[T=h.value.id])!=null||(L[T]=0),flags.itemShop[t][h.value.id]+=c.value,tip$1("success",`\u6210\u529F\u8D2D\u4E70${c.value}\u4E2A${y.value.name}\uFF01`),core.status.route.push(`buy:${h.value.id}:${c.value}`)):tip$1("error","\u4F60\u7684\u91D1\u5E01\u4E0D\u591F\uFF01"):(core.addItem(h.value.id,-c.value),core.status.hero.money+=k.value,_.value+=k.value,(te=(Q=flags.itemShop)[t])!=null||(Q[t]={}),(z=(A=flags.itemShop[t])[J=h.value.id])!=null||(A[J]=0),flags.itemShop[t][h.value.id]-=c.value,tip$1("success",`\u6210\u529F\u5356\u51FA${c.value}\u4E2A${y.value.name}\uFF01`),core.status.route.push(`sell:${h.value.id}:${c.value}`)),c.value=0,u.value=!u.value}function b(x){const V=keycode(x.keyCode);(V===KeyCode.KeyX||V===KeyCode.Escape||V===KeyCode.KeyV)&&N(),V===KeyCode.UpArrow&&a.value>=1&&a.value--,V===KeyCode.DownArrow&&a.value<=s.length-2&&a.value++,(V===KeyCode.KeyC||V===KeyCode.Space||V===KeyCode.Enter)&&B()}function H(x){const V=keycode(x.keyCode);V===KeyCode.LeftArrow&&c.value--,V===KeyCode.RightArrow&&c.value++}function N(){d&&core.status.route.push("closeShop"),core.plugin.shopOpened.value=!1}return onMounted(async()=>{await S(50),core.plugin.transition.value&&await S(600),document.addEventListener("keyup",b),document.addEventListener("keydown",H)}),onUnmounted(()=>{document.removeEventListener("keyup",b),document.removeEventListener("keydown",H)}),(x,V)=>{const P=__unplugin_components_0;return openBlock(),createElementBlock("div",_hoisted_1$b,[createBaseVNode("div",_hoisted_2$9,[createBaseVNode("span",{class:"button-text",onClick:N},[createVNode(unref(LeftOutlined)),createTextVNode(" \u8FD4\u56DE\u6E38\u620F")])]),createBaseVNode("span",_hoisted_3$8,toDisplayString(unref(y).name),1),createVNode(P,{dashed:"",style:{"border-color":"#ddd4"},id:"divider"}),createBaseVNode("div",_hoisted_4$7,[createVNode(Scroll,{id:"item-desc","no-scroll":!0},{default:withCtx(()=>[createBaseVNode("span",{innerHTML:unref(g)},null,8,_hoisted_5$6)]),_:1})]),createVNode(P,{dashed:"",style:{"border-color":"#ddd4"},id:"divider-split"}),createBaseVNode("div",_hoisted_6$5,[createBaseVNode("div",_hoisted_7$5,[createVNode(Scroll,{style:{width:"100%",height:"100%"}},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(s),(L,T)=>{var q,Q;return openBlock(),createElementBlock("div",{class:"selectable item-one",selected:T===a.value,onClick:te=>a.value=T},[createBaseVNode("div",_hoisted_9$4,[createVNode(_sfc_main$s,{id:L.id,noborder:!0},null,8,["id"]),createBaseVNode("span",null,toDisplayString(unref(l)[L.id].name),1)]),createBaseVNode("span",null,"\xD7\xA0"+toDisplayString((r.value==="buy"?L.number-((Q=(q=unref(n).itemShop[unref(t)])==null?void 0:q[L.id])!=null?Q:0):unref(f)(L.id))+(u.value,0)),1)],8,_hoisted_8$4)}),256))]),_:1})]),createVNode(P,{dashed:"",style:{"border-color":"#ddd4"},type:unref(isMobile)?"horizontal":"vertical",id:"divider-vertical"},null,8,["type"]),createBaseVNode("div",_hoisted_10$4,[createBaseVNode("div",_hoisted_11$4,[createBaseVNode("span",{class:"button-text mode-button",active:r.value==="buy",onClick:V[0]||(V[0]=L=>r.value="buy")},"\u8D2D\u4E70",8,_hoisted_12$2),createVNode(P,{dashed:"",type:"vertical",id:"divider-vertical",style:{"border-color":"#ddd4"}}),createBaseVNode("span",{class:"button-text mode-button",active:r.value==="sell",danger:"true",onClick:V[1]||(V[1]=L=>r.value="sell")},"\u552E\u51FA",8,_hoisted_13$2)]),createVNode(P,{dashed:"",style:{"border-color":"#ddd4"},id:"divider-mode"}),createBaseVNode("div",{class:"item-sell-info",style:normalizeStyle({color:r.value==="buy"?_.value>=parseInt(unref(h).money)?"lightgreen":"lightcoral":"white"})},[_hoisted_14$2,createBaseVNode("span",null,toDisplayString(unref(h).money),1)],4),createBaseVNode("div",{class:"item-sell-info",style:normalizeStyle({color:r.value==="sell"?"lightcoral":"white"})},[_hoisted_15$2,createBaseVNode("span",null,toDisplayString(unref(h).sell),1)],4),createBaseVNode("div",_hoisted_16$2,[_hoisted_17$2,createBaseVNode("span",null,toDisplayString(unref(m)),1)]),createBaseVNode("div",_hoisted_18$2,[_hoisted_19$2,createBaseVNode("span",null,toDisplayString(unref(f)(unref(h).id)),1)]),createVNode(P,{dashed:"",style:{"border-color":"#ddd4"},id:"divider-mode"}),createBaseVNode("div",_hoisted_20$1,[createBaseVNode("span",null,toDisplayString(r.value==="buy"?"\u8D2D\u4E70":"\u552E\u51FA")+"\u6570\u91CF",1),createBaseVNode("div",_hoisted_21$1,[createVNode(unref(DoubleLeftOutlined),{class:"button-text",onClick:V[2]||(V[2]=L=>c.value-=10)}),createVNode(unref(LeftOutlined),{class:"button-text",onClick:V[3]||(V[3]=L=>c.value--)}),createBaseVNode("span",_hoisted_22$1,toDisplayString(c.value),1),createVNode(unref(RightOutlined),{class:"button-text",onClick:V[4]||(V[4]=L=>c.value++)}),createVNode(unref(DoubleRightOutlined),{class:"button-text",onClick:V[5]||(V[5]=L=>c.value+=10)})])]),createVNode(P,{dashed:"",style:{"border-color":"#ddd4",margin:"2vh 0 2vh 0"}}),createBaseVNode("div",_hoisted_23$1,[createBaseVNode("span",{id:"sell-total",style:normalizeStyle({color:r.value==="buy"&&_.value>unref(k)?"lightgreen":"lightcoral"})},"\u603B\u4EF7\uFF1A"+toDisplayString(c.value*parseInt(r.value==="buy"?unref(h).money:unref(h).sell)),5),createBaseVNode("span",{id:"sell-button",class:"button-text",danger:r.value==="sell","danger-display":"true",active:"true",onClick:B},"\u786E\u8BA4"+toDisplayString(r.value==="buy"?"\u8D2D\u4E70":"\u552E\u51FA"),9,_hoisted_24$1)])])])])}}}),shop_vue_vue_type_style_index_0_scoped_2962e78e_lang="",Shop=_export_sfc(_sfc_main$b,[["__scopeId","data-v-2962e78e"]]),index="",normal=[{name:"\u865A\u60CA\u4E00\u573A",text:["\u6253\u5B8C\u5C71\u6D1E\u95E8\u53E3\u7684\u517D\u4EBA\u540E\u53EA\u5269\u4E00\u6EF4\u8840"],point:30},{name:"\u771F\u80FD\u5237",text:['\u52C7\u6C14\u4E4B\u8DEF\u7684\u5237\u8840\u602A\u5237\u5230 <span style="color: gold">15w</span> \u4EE5\u4E0A\u7684\u8840'],point:30}],challenge=[{name:"\u9003\u51FA\u751F\u5929",text:["\u901A\u8FC7\u5C71\u8DEF\u8FFD\u9010\u6218\u7684\u56F0\u96BE\u96BE\u5EA6"],point:20},{name:"\u51B0\u4E0E\u706B\u4E4B\u821E",text:["\u5B8C\u6210\u7B2C\u4E8C\u7AE0\u97F3\u6E38\u7279\u6B8A\u6218\u7684\u56F0\u96BE\u96BE\u5EA6"],point:50}],explore=[{name:"\u52C7\u6C14\u5DC5\u5CF0",text:["\u7B2C\u4E00\u7AE0\u5B8C\u6210\u5EA6\u8FBE\u5230100%"],progress:"${core.getChapterCompletion(1)} / 100",percent:!0,point:50},{name:"\u4F60\u662F\u600E\u4E48\u529E\u5230\u7684\uFF1F\uFF01",text:["\u4E0E\u5C71\u8DEF\u4E0A\u7684\u82E5\u5E72\u4E2A\u795E\u79D8\u6728\u724C\u5BF9\u8BDD"],progress:"${core.getLocalStorage('mountSign', 0)} / 5",hide:"\u8BE5\u63A2\u7D22\u6210\u5C31\u9700\u8981\u4F60\u81EA\u5DF1\u63A2\u7D22\u5982\u4F55\u8FBE\u6210",point:25},{name:"\u667A\u6167\u4E4B\u5FC3",text:["\u7B2C\u4E8C\u7AE0\u5B8C\u6210\u5EA6\u8FBE\u5230100%"],progress:"${core.getChapterCompletion(2)} / 100",percent:!0,point:50},{name:"\u5B66\u574F\u4E86",text:["\u5B66\u4E60\u7535\u6447\u5632\u8BBD\u6280\u80FD"],hide:"\u8BE5\u63A2\u7D22\u6210\u5C31\u9700\u8981\u4F60\u81EA\u5DF1\u63A2\u7D22\u5982\u4F55\u8FBE\u6210",point:20},{name:"\u6EE1\u8179\u7ECF\u7EB6",text:["\u628A\u7B2C\u4E8C\u7AE0\u4E2D\u6240\u6709\u80FD\u5B66\u4E60\u7684\u6280\u80FD\u90FD\u5B66\u4E00\u904D"],hide:"\u8BE5\u63A2\u7D22\u6210\u5C31\u9700\u8981\u4F60\u81EA\u5DF1\u63A2\u7D22\u5982\u4F55\u8FBE\u6210",progress:"",point:50}],list={normal,challenge,explore};function init$9(){return{getChapterCompletion,checkVisitedFloor}}const floors={1:["MT0","tower7"]},achis={1:{normal:[0,1],challenge:[0],explore:[1]}},achiDict={1:0};function checkVisitedFloor(){changeLocalStorage("visitedFloor",e=>{let t=!1;return core.floorIds.forEach(o=>{core.hasVisitedFloor(o)&&(e[o]=!0,t=!0)}),t&&checkCompletionAchievement(),e},{})}function getChapterCompletion(e){if(!achis[e])return 0;let t=0;const o=floors[e],n=Object.values(achis[e]).reduce((u,d)=>u+d.length,0);let s=0;const a=core.getLocalStorage("visitedFloor",{});o.forEach(u=>{a[u]&&s++});const r=o.length/(o.length+n),l=r*s/o.length;let f=0,c=0;for(const[u,d]of Object.entries(achis[e]))d.forEach(h=>{c+=list[u][h].point,hasCompletedAchievement(u,h)&&(f+=list[u][h].point)});const _=f/c*(1-r);return t=l+_,Math.floor(t*100)}function checkCompletionAchievement(){[1].forEach(e=>{getChapterCompletion(e)>=100&&completeAchievement("explore",achiDict[e])})}function init$8(){return{completeAchievement,hasCompletedAchievement,addMountSign}}const showComplete=ref(!1),completeAchi=ref("explore,1"),totalPoint=Object.values(list).map(e=>e.reduce((t,o)=>o.point+t,0)).reduce((e,t)=>e+t);function completeAchievement(e,t){flags.debug||hasCompletedAchievement(e,t)||(changeLocalStorage("achievement",o=>(o[e][t]=!0,o),{normal:[],challenge:[],explore:[]}),e==="explore"&&!Object.values(achiDict).includes(t)&&checkCompletionAchievement(),completeAchi.value=`${e},${t}`,showComplete.value=!0)}function hasCompletedAchievement(e,t){var n;let o=core.getLocalStorage("achievement");if(!has(o)){const s={normal:[],challenge:[],explore:[]};o=s,core.setLocalStorage("achievement",s)}return(n=o[e][t])!=null?n:!1}function getNowPoint(){let e=0;for(const[t,o]of Object.entries(list))o.forEach((n,s)=>{hasCompletedAchievement(t,s)&&(e+=n.point)});return e}function addMountSign(e){flags.debug||!core.getLocalStorage(`mountSign_${e}`,!1)&&!hasCompletedAchievement("explore",1)&&(changeLocalStorage("mountSign",t=>{if(t+1>=5){completeAchievement("explore",1);for(const o of[1,2,3,4,5])core.removeLocalStorage(`mountSign_${o}`)}return t+1},0),core.setLocalStorage(`mountSign_${e}`,!0))}const _hoisted_1$a={id:"achievement"},_hoisted_2$8={id:"tools"},_hoisted_3$7={id:"column"},_hoisted_4$6={class:"achievement-column"},_hoisted_5$5=["active","onClick"],_hoisted_6$4={id:"list"},_hoisted_7$4={class:"achievement-one"},_hoisted_8$3={class:"list-div"},_hoisted_9$3={class:"list-one"},_hoisted_10$3=["complete"],_hoisted_11$3={class:"list-name"},_hoisted_12$1=["innerHTML"],_hoisted_13$1={class:"list-end"},_hoisted_14$1={class:"end-info"},_hoisted_15$1=["complete"],_hoisted_16$1={class:"point"},_hoisted_17$1={key:0,class:"list-progress"},_hoisted_18$1={id:"total-progress"},_hoisted_19$1={id:"point-number"},_sfc_main$a=defineComponent({__name:"achievement",setup(__props){const column=["normal","challenge","explore"],columnName={normal:"\u666E\u901A\u6210\u5C31",challenge:"\u6311\u6218\u6210\u5C31",explore:"\u63A2\u7D22\u6210\u5C31"},selectedColumn=ref("normal"),offset=computed(()=>column.indexOf(selectedColumn.value)*100),height=window.innerHeight,totalPoint=Object.values(list).map(e=>e.reduce((t,o)=>o.point+t,0)).reduce((e,t)=>e+t),nowPoint=getNowPoint();function getAllAchievements(type){return list[type].map((v,i)=>{const complete=hasCompletedAchievement(type,i),text=v.hide&&!complete?v.hide:v.text.join(""),res={text,name:v.name,point:v.point,complete};if(v.progress){const p=eval("`"+v.progress+"`");res.progress=p,res.percent=Math.floor(eval(p)*100),v.percent&&(res.usePercent=!0)}return res})}function exit(){try{core.closePanel()}catch(e){noClosePanel.value=!0}achievementOpened.value=!1}return(e,t)=>{const o=__unplugin_components_0,n=__unplugin_components_0$3;return openBlock(),createElementBlock("div",_hoisted_1$a,[createBaseVNode("div",_hoisted_2$8,[createBaseVNode("span",{id:"back",class:"button-text tools",onClick:exit},[createVNode(unref(LeftOutlined)),createTextVNode("\u8FD4\u56DE\u6E38\u620F")])]),createBaseVNode("div",_hoisted_3$7,[(openBlock(),createElementBlock(Fragment,null,renderList(column,s=>createBaseVNode("div",_hoisted_4$6,[createBaseVNode("span",{class:"column-text button-text",active:selectedColumn.value===s,onClick:a=>selectedColumn.value=s},toDisplayString(columnName[s]),9,_hoisted_5$5)])),64))]),createVNode(o,{dashed:"",id:"divider"}),createBaseVNode("div",_hoisted_6$4,[createBaseVNode("div",{id:"achievement-list",style:normalizeStyle({left:`-${unref(offset)}%`})},[(openBlock(),createElementBlock(Fragment,null,renderList(column,s=>createBaseVNode("div",_hoisted_7$4,[createVNode(Scroll,{class:"list-scroll",width:unref(isMobile)?10:20},{default:withCtx(()=>[createBaseVNode("div",_hoisted_8$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(getAllAchievements(s),a=>(openBlock(),createElementBlock("div",_hoisted_9$3,[createBaseVNode("div",{class:"list-content",complete:a.complete},[createBaseVNode("span",_hoisted_11$3,toDisplayString(a.name),1),createBaseVNode("span",{class:"list-text",innerHTML:a.text},null,8,_hoisted_12$1),createBaseVNode("div",_hoisted_13$1,[createBaseVNode("div",_hoisted_14$1,[createBaseVNode("span",{class:"complete",complete:a.complete},"\u5B8C\u6210\u60C5\u51B5: "+toDisplayString(a.complete?"\u5DF2\u5B8C\u6210":"\u672A\u5B8C\u6210"),9,_hoisted_15$1),createBaseVNode("span",_hoisted_16$1,"\u6210\u5C31\u70B9\u6570: "+toDisplayString(a.point),1)]),a.progress?(openBlock(),createElementBlock("div",_hoisted_17$1,[createVNode(n,{percent:a.percent,strokeColor:{"0%":"#108ee9","100%":"#87d068"},strokeWidth:unref(height)/150,format:()=>a.usePercent?`${a.percent}%`:a.progress},null,8,["percent","strokeWidth","format"])])):createCommentVNode("",!0)])],8,_hoisted_10$3),createVNode(o,{id:"divider",dashed:""})]))),256))])]),_:2},1032,["width"])])),64))],4)]),createBaseVNode("div",_hoisted_18$1,[createVNode(n,{id:"point-progress",percent:unref(nowPoint)/unref(totalPoint)*100,strokeColor:{"0%":"#108ee9","100%":"#87d068"},strokeWidth:unref(height)/150,showInfo:!1},null,8,["percent","strokeWidth"]),createBaseVNode("span",_hoisted_19$1,"\u6210\u5C31\u70B9: "+toDisplayString(unref(nowPoint))+" / "+toDisplayString(unref(totalPoint)),1)])])}}}),achievement_vue_vue_type_style_index_0_scoped_9057b614_lang="",Achievement=_export_sfc(_sfc_main$a,[["__scopeId","data-v-9057b614"]]),bookOpened=ref(!1),toolOpened=ref(!1),equipOpened=ref(!1),showStatusBar=ref(!1),settingsOpened=ref(!1),descOpened=ref(!1),skillOpened=ref(!1),skillTreeOpened=ref(!1),flyOpened=ref(!1),showStudiedSkill=ref(!1),fixedDetailOpened=ref(!1),shopOpened=ref(!1),startOpened=ref(!1),achievementOpened=ref(!1),transition=ref(!0),noClosePanel=ref(!1),loaded=ref(!1),startAnimationEnded=ref(!1);watch(loaded,e=>{e&&startAnimationEnded.value&&(startOpened.value=!0)});watch(startAnimationEnded,e=>{e&&loaded.value&&(startOpened.value=!0)});let app;const UI_LIST=[[bookOpened,Book],[toolOpened,Toolbox],[equipOpened,Equipbox],[settingsOpened,Settings],[descOpened,Desc],[skillOpened,Skill],[skillTreeOpened,SkillTree],[flyOpened,Fly],[fixedDetailOpened,FixedDetail],[shopOpened,Shop],[achievementOpened,Achievement]],uiStack=shallowReactive([]);function init$7(){return app=document.getElementById("root"),UI_LIST.forEach(([e,t])=>{watch(e,o=>{if(o===!0)uiStack.push(markRaw(t)),showApp();else{const n=uiStack.findIndex(s=>s===t);if(n===-1)return;uiStack.length===1?hideApp(n):uiStack.splice(n,1)}})}),{uiStack,transition,bookOpened,toolOpened,equipOpened,showStatusBar,settingsOpened,descOpened,skillOpened,skillTreeOpened,flyOpened,showStudiedSkill,fixedDetailOpened,shopOpened,startOpened,startAnimationEnded,loaded,achievementOpened}}async function showApp(){core.lockControl(),transition.value?app.style.transition="all 0.6s linear":app.style.transition="none",app.style.display="flex",await S(50),app.style.opacity="1"}async function hideApp(e){transition.value?(app.style.transition="all 0.6s linear",app.style.opacity="0",await S(600)):(app.style.transition="",app.style.opacity="0"),uiStack.splice(e,1),app.style.display="none",noClosePanel.value||core.closePanel(),noClosePanel.value=!1}const _hoisted_1$9={id:"ui"},_sfc_main$9=defineComponent({__name:"App",setup(e){return(t,o)=>(openBlock(),createElementBlock("div",_hoisted_1$9,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(uiStack),n=>(openBlock(),createBlock(resolveDynamicComponent(n)))),256))]))}}),App_vue_vue_type_style_index_0_scoped_9668aeb3_lang="",App=_export_sfc(_sfc_main$9,[["__scopeId","data-v-9668aeb3"]]),chapterShowed=ref(!1),chapterContent=ref("");function init$6(){return{chapterShowed,chapterContent}}const _hoisted_1$8=["id"],_hoisted_2$7=["id"],_hoisted_3$6=["id","selected"],_hoisted_4$5=["id","selected","selectable"],_hoisted_5$4=["id","selected","selectable"],_hoisted_6$3=["id","selected","selectable"],_hoisted_7$3=["id","selected","selectable"],_sfc_main$8=defineComponent({__name:"box",props:{dragable:{type:Boolean},resizable:{type:Boolean},left:null,top:null,width:null,height:null},emits:["update:left","update:top","update:width","update:height"],setup(e,{emit:t}){const o=e,n=(1e8*Math.random()).toFixed(0),s=ref(!1);let a=0,r,l,f,c,_,u;const d=ref(isMobile?window.innerWidth-100:window.innerWidth*.175),h=ref(isMobile?250:window.innerHeight-100),m=ref(50),y=ref(50);watch(m,T=>t("update:left",T)),watch(y,T=>t("update:top",T)),watch(d,T=>t("update:width",T)),watch(h,T=>t("update:height",T));async function g(){s.value=!0,a=window.setTimeout(()=>{s.value=!1},4e3)}let k=0,B=0;function b(T,q){const Q=getComputedStyle(r),te=parseFloat(Q.left),A=parseFloat(Q.top);m.value=te+T-k,y.value=A+q-B,r.style.left=`${m.value}px`,r.style.top=`${y.value}px`,s.value=!0,clearTimeout(a),k=T,B=q}let H=m.value+d.value;function N(T,q){r.style.left=`${T}px`,d.value=H-T,m.value=T,r.style.width=`${d.value}px`}let F=y.value+h.value;function x(T,q){r.style.top=`${q}px`,h.value=F-q,y.value=q,r.style.height=`${h.value}px`}function V(T,q){const Q=getComputedStyle(r);d.value=T-parseFloat(Q.left),r.style.width=`${d.value}px`}function P(T,q){const Q=getComputedStyle(r);h.value=q-parseFloat(Q.top),r.style.height=`${h.value}px`}function L(){r=document.getElementById(`box-${n}`),l=document.getElementById(`border-left-${n}`),c=document.getElementById(`border-top-${n}`),f=document.getElementById(`border-right-${n}`),_=document.getElementById(`border-bottom-${n}`),u=document.getElementById(`box-drag-${n}`),r&&(has(o.left)&&(m.value=o.left),has(o.top)&&(y.value=o.top),has(o.width)&&(d.value=o.width),has(o.height)&&(h.value=o.height),r.style.left=`${m.value}px`,r.style.top=`${y.value}px`,r.style.width=`${d.value}px`,r.style.height=`${h.value}px`)}return onUpdated(L),onMounted(async()=>{await S(50),L(),r&&(o.dragable&&useDrag(u,b,(T,q)=>{k=T,B=q},()=>{s.value=!1},!0),o.resizable&&(useDrag(l,N,(T,q)=>{H=m.value+d.value},void 0,!0),useDrag(c,x,(T,q)=>{F=y.value+h.value},void 0,!0),useDrag(f,V,void 0,void 0,!0),useDrag(_,P,void 0,void 0,!0)))}),onUnmounted(()=>{o.dragable&&cancelGlobalDrag(b),o.resizable&&(cancelGlobalDrag(N),cancelGlobalDrag(x),cancelGlobalDrag(V),cancelGlobalDrag(P))}),(T,q)=>(openBlock(),createElementBlock("div",{id:`box-${unref(n)}`,class:"box"},[createBaseVNode("div",{id:`box-main-${unref(n)}`,class:"box-main",onClick:g},[renderSlot(T.$slots,"default",{},void 0,!0)],8,_hoisted_2$7),e.dragable?(openBlock(),createElementBlock("div",{key:0,id:`box-move-${unref(n)}`,class:"box-move",selected:s.value},[createVNode(unref(DragOutlined),{id:`box-drag-${unref(n)}`,class:"box-drag",style:{right:"0",bottom:"0",position:"absolute"}},null,8,["id"])],8,_hoisted_3$6)):createCommentVNode("",!0),createBaseVNode("div",{class:"border border-vertical border-left",id:`border-left-${unref(n)}`,selected:s.value&&e.resizable,selectable:e.resizable},null,8,_hoisted_4$5),createBaseVNode("div",{class:"border border-horizontal border-top",id:`border-top-${unref(n)}`,selected:s.value&&e.resizable,selectable:e.resizable},null,8,_hoisted_5$4),createBaseVNode("div",{class:"border border-vertical border-right",id:`border-right-${unref(n)}`,selected:s.value&&e.resizable,selectable:e.resizable},null,8,_hoisted_6$3),createBaseVNode("div",{class:"border border-horizontal border-bottom",id:`border-bottom-${unref(n)}`,selected:s.value&&e.resizable,selectable:e.resizable},null,8,_hoisted_7$3)],8,_hoisted_1$8))}}),box_vue_vue_type_style_index_0_scoped_7b3fdfaa_lang="",Box=_export_sfc(_sfc_main$8,[["__scopeId","data-v-7b3fdfaa"]]),_hoisted_1$7={id:"marked-enemy"},_hoisted_2$6={class:"marked-main"},_hoisted_3$5={class:"marked-info"},_hoisted_4$4={class:"marked-name marked-item"},_hoisted_5$3={class:"marked-damage marked-item"},_hoisted_6$2={class:"marked-critical marked-item"},_hoisted_7$2={class:"marked-critical-damage marked-item"},_hoisted_8$2={class:"marked-def marked-item"},_hoisted_9$2={class:"marked-button"},_hoisted_10$2=["onClick"],_hoisted_11$2=["onClick"],_sfc_main$7=defineComponent({__name:"markedEnemy",setup(e){var _,u;const t=(u=(_=core.status.thisMap)==null?void 0:_.ratio)!=null?u:1;let o=getMarkedEnemy();watch(checkMarkedStatus,s);const n=reactive({});function s(){o.push(...o.splice(0,o.length));for(const d in n)o.includes(d)||delete n[d]}function a(d){return has(n[d])||(n[d]={left:window.innerWidth-300,top:100,width:200,height:150,hidden:!1}),n[d]}function r(d){return core.material.enemys[d].name}function l(d){var h,m;return(m=core.formatBigNumber((h=core.getDamageInfo(d,void 0,void 0,void 0,"empty"))==null?void 0:h.damage))!=null?m:"???"}function f(d){var h,m;return(m=(h=core.nextCriticals(d,1,void 0,void 0,"empty")[0])==null?void 0:h.map(y=>core.formatBigNumber(y)))!=null?m:[0,0]}function c(d){return core.formatBigNumber(core.getDefDamage(d,t,void 0,void 0,"empty"))}return(d,h)=>(openBlock(),createElementBlock("div",_hoisted_1$7,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(o),m=>(openBlock(),createElementBlock("div",null,[a(m).hidden?createCommentVNode("",!0):(openBlock(),createBlock(Box,{key:m,left:a(m).left,"onUpdate:left":y=>a(m).left=y,top:a(m).top,"onUpdate:top":y=>a(m).top=y,width:a(m).width,"onUpdate:width":y=>a(m).width=y,height:a(m).height,"onUpdate:height":y=>a(m).height=y,resizable:!0,dragable:!0},{default:withCtx(()=>[createVNode(Scroll,{class:"box-scroll","no-scroll":!0},{default:withCtx(()=>[createBaseVNode("div",_hoisted_2$6,[createBaseVNode("div",_hoisted_3$5,[createVNode(_sfc_main$s,{id:m,width:24,height:24},null,8,["id"]),createBaseVNode("span",_hoisted_4$4,toDisplayString(r(m)),1)]),createBaseVNode("span",_hoisted_5$3,"\u4F24\u5BB3\uFF1A"+toDisplayString(l(m)),1),createBaseVNode("span",_hoisted_6$2,"\u4E34\u754C\uFF1A"+toDisplayString(f(m)[0]),1),createBaseVNode("span",_hoisted_7$2,"\u51CF\u4F24\uFF1A"+toDisplayString(f(m)[1]),1),createBaseVNode("span",_hoisted_8$2,toDisplayString(unref(t))+"\u9632\uFF1A"+toDisplayString(c(m)),1),createBaseVNode("div",_hoisted_9$2,[createBaseVNode("span",{class:"marked-hide button-text",onClick:withModifiers(y=>a(m).hidden=!0,["stop"])},"\u9690\u85CF\u76D2\u5B50",8,_hoisted_10$2),createBaseVNode("span",{class:"marked-cancel button-text",onClick:withModifiers(y=>unref(unmarkEnemy)(m),["stop"])},"\u53D6\u6D88\u6807\u8BB0",8,_hoisted_11$2)])])]),_:2},1024)]),_:2},1032,["left","onUpdate:left","top","onUpdate:top","width","onUpdate:width","height","onUpdate:height"]))]))),256))]))}}),markedEnemy_vue_vue_type_style_index_0_scoped_b674387d_lang="",MarkedEnemy=_export_sfc(_sfc_main$7,[["__scopeId","data-v-b674387d"]]),_imports_0$1="/HumanBreak/project/images/skill.png",_imports_1="/HumanBreak/project/images/hp.png",_imports_2="/HumanBreak/project/images/atk.png",_imports_3="/HumanBreak/project/images/def.png",_imports_4="/HumanBreak/project/images/IQ.png",_imports_5="/HumanBreak/project/images/money.png",_imports_6="/HumanBreak/project/images/exp.png",status=ref(!1);function init$5(){return{statusBarStatus:status}}const _withScopeId$2=e=>(pushScopeId("data-v-f0e92f32"),e=e(),popScopeId(),e),_hoisted_1$6={id:"status-bar"},_hoisted_2$5={id:"status-div"},_hoisted_3$4=["onClick"],_hoisted_4$3={id:"status-lv"},_hoisted_5$2={id:"status-skill",class:"status-item"},_hoisted_6$1=_withScopeId$2(()=>createBaseVNode("img",{src:_imports_0$1,class:"status-icon"},null,-1)),_hoisted_7$1={id:"status-hp",class:"status-item"},_hoisted_8$1=_withScopeId$2(()=>createBaseVNode("img",{src:_imports_1,class:"status-icon"},null,-1)),_hoisted_9$1={class:"status-item-bold"},_hoisted_10$1={id:"status-hpmax",class:"status-extra status-item-bold"},_hoisted_11$1={key:0,id:"status-spring",class:"status-extra"},_hoisted_12={id:"status-atk",class:"status-item"},_hoisted_13=_withScopeId$2(()=>createBaseVNode("img",{src:_imports_2,class:"status-icon"},null,-1)),_hoisted_14={class:"status-item-bold"},_hoisted_15={id:"status-mana",class:"status-extra status-item-bold"},_hoisted_16={id:"status-def",class:"status-item status-item-bold"},_hoisted_17=_withScopeId$2(()=>createBaseVNode("img",{src:_imports_3,class:"status-icon"},null,-1)),_hoisted_18={id:"status-mdef",class:"status-item status-item-bold"},_hoisted_19=_withScopeId$2(()=>createBaseVNode("img",{src:_imports_4,class:"status-icon"},null,-1)),_hoisted_20={id:"status-money",class:"status-item status-item-bold"},_hoisted_21=_withScopeId$2(()=>createBaseVNode("img",{src:_imports_5,class:"status-icon"},null,-1)),_hoisted_22={id:"status-exp",class:"status-item status-item-bold"},_hoisted_23=_withScopeId$2(()=>createBaseVNode("img",{src:_imports_6,class:"status-icon"},null,-1)),_hoisted_24={id:"status-key",class:"status-item status-item-bold"},_hoisted_25={style:{color:"#fca","padding-left":"10%"}},_hoisted_26={style:{color:"#aad"}},_hoisted_27={style:{color:"#f88","padding-right":"10%"}},_hoisted_28={key:0,class:"status-item"},_hoisted_29=["onClick"],_hoisted_30={key:1,class:"status-item"},_hoisted_31=["onClick"],_hoisted_32={key:2,class:"status-item"},_hoisted_33=["onClick"],_sfc_main$6=defineComponent({__name:"statusBar",setup(e){const t=ref(isMobile?window.innerWidth-100:window.innerWidth*.175),o=ref(isMobile?250:window.innerHeight-100),n=ref(!1),s=core.formatBigNumber;watch(t,H=>n.value=!n.value),watch(o,H=>n.value=!n.value);const a=shallowReactive({}),r=shallowReactive([]),l=ref(),f=ref(),c=ref("\u65E0"),_=ref(0),u=ref(),d=ref(core.getFlag("chapter",0)>0),h=ref(core.getSkillLevel(11)>0),m=["hp","atk","def","mdef","hpmax","mana","money","exp","lv"];watch(status,y);function y(){var H,N;m.forEach(F=>{a[F]=core.getRealStatus(F)}),r[0]=core.itemCount("yellowKey"),r[1]=core.itemCount("blueKey"),r[2]=core.itemCount("redKey"),l.value=(H=core.status.thisMap)==null?void 0:H.title,f.value=core.getLvName(a.lv),flags.blade&&flags.bladeOn?c.value="\u65AD\u706D\u4E4B\u5203":flags.shield&&flags.shieldOn?c.value="\u94F8\u5251\u4E3A\u76FE":c.value="\u65E0",_.value=(N=core.getNextLvUpNeed())!=null?N:0,core.hasFlag("spring")&&(u.value=50-flags.springCount),d.value=core.getFlag("chapter",0)>0,h.value=core.getSkillLevel(11)>0}function g(){core.useItem("skill1")}function k(){core.useItem("cross")}function B(){core.ui._drawViewMaps()}function b(){}return(H,N)=>(openBlock(),createElementBlock("div",_hoisted_1$6,[createVNode(Box,{resizable:!0,dragable:!0,width:t.value,"onUpdate:width":N[1]||(N[1]=F=>t.value=F),height:o.value,"onUpdate:height":N[2]||(N[2]=F=>o.value=F)},{default:withCtx(()=>[createVNode(Scroll,{id:"status-main",update:n.value,"onUpdate:update":N[0]||(N[0]=F=>n.value=F),"no-scroll":!0},{default:withCtx(()=>{var F,x,V;return[createBaseVNode("div",_hoisted_2$5,[createBaseVNode("span",{id:"status-floor",onClick:withModifiers(B,["stop"]),class:"button-text"},toDisplayString(l.value),9,_hoisted_3$4),createBaseVNode("span",_hoisted_4$3,toDisplayString(f.value),1),createBaseVNode("div",_hoisted_5$2,[_hoisted_6$1,createBaseVNode("span",null,toDisplayString(c.value),1)]),createBaseVNode("div",_hoisted_7$1,[_hoisted_8$1,createBaseVNode("span",_hoisted_9$1,toDisplayString(unref(s)(unref(a).hp)),1),createBaseVNode("span",_hoisted_10$1,"+"+toDisplayString(unref(s)(unref(a).hpmax))+"/t",1),unref(has)(u.value)?(openBlock(),createElementBlock("span",_hoisted_11$1,"\u5269\u4F59"+toDisplayString(u.value),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_12,[_hoisted_13,createBaseVNode("span",_hoisted_14,toDisplayString(unref(s)(unref(a).atk)),1),createBaseVNode("span",_hoisted_15,"+"+toDisplayString(unref(s)(unref(a).mana)),1)]),createBaseVNode("div",_hoisted_16,[_hoisted_17,createBaseVNode("span",null,toDisplayString(unref(s)(unref(a).def)),1)]),createBaseVNode("div",_hoisted_18,[_hoisted_19,createBaseVNode("span",null,toDisplayString(unref(s)(unref(a).mdef)),1)]),createBaseVNode("div",_hoisted_20,[_hoisted_21,createBaseVNode("span",null,toDisplayString(unref(s)(unref(a).money)),1)]),createBaseVNode("div",_hoisted_22,[_hoisted_23,createBaseVNode("span",null,toDisplayString(unref(s)(_.value)),1)]),createBaseVNode("div",_hoisted_24,[createBaseVNode("span",_hoisted_25,toDisplayString((F=unref(r)[0])==null?void 0:F.toString().padStart(2,"0")),1),createBaseVNode("span",_hoisted_26,toDisplayString((x=unref(r)[1])==null?void 0:x.toString().padStart(2,"0")),1),createBaseVNode("span",_hoisted_27,toDisplayString((V=unref(r)[2])==null?void 0:V.toString().padStart(2,"0")),1)]),d.value?(openBlock(),createElementBlock("div",_hoisted_28,[createBaseVNode("span",{id:"skill-tree",class:"button-text",onClick:withModifiers(g,["stop"])},"\u6280\u80FD\u6811",8,_hoisted_29)])):createCommentVNode("",!0),d.value?(openBlock(),createElementBlock("div",_hoisted_30,[createBaseVNode("span",{id:"status-skill",class:"button-text",onClick:withModifiers(k,["stop"])},"\u67E5\u770B\u6280\u80FD",8,_hoisted_31)])):createCommentVNode("",!0),h.value?(openBlock(),createElementBlock("div",_hoisted_32,[createBaseVNode("span",{id:"status-study",class:"button-text",onClick:withModifiers(b,["stop"])},"\u5B66\u4E60",8,_hoisted_33)])):createCommentVNode("",!0)])]}),_:1},8,["update"])]),_:1},8,["width","height"])]))}}),statusBar_vue_vue_type_style_index_0_scoped_f0e92f32_lang="",StatusBar=_export_sfc(_sfc_main$6,[["__scopeId","data-v-f0e92f32"]]),_withScopeId$1=e=>(pushScopeId("data-v-feaaf373"),e=e(),popScopeId(),e),_hoisted_1$5={id:"chapter"},_hoisted_2$4=_withScopeId$1(()=>createBaseVNode("canvas",{id:"chapter-back"},null,-1)),_hoisted_3$3={id:"chapter-text"},_sfc_main$5=defineComponent({__name:"chapter",props:{chapter:null},setup(e){const t=e;let o,n,s;return onMounted(async()=>{o=document.getElementById("chapter-back"),n=o.getContext("2d"),s=document.getElementById("chapter-text");const a=new R,r=window.innerWidth*devicePixelRatio,l=window.innerHeight*devicePixelRatio;n.font="5vh scroll";const f=n.measureText(t.chapter).width,c=l*.05;a.register("rect",0),a.register("line",-10),a.register("lineOpacity",1),a.register("rect2",l/2),a.register("text",window.innerWidth+10+f),o.width=r,o.height=l,o.style.width=`${window.innerWidth}px`,o.style.height=`${window.innerHeight}px`,s.style.left=`${r+10}px`,s.style.top=`${window.innerHeight/2-l*.025}px`,s.style.height=`${l*.05}px`,s.style.width=`${f}px`;let _=!1,u=!1;a.ticker.add(d=>{if(!(!has(d)||isNaN(d))){if(!u){u=!0;return}d>=4050&&(chapterShowed.value=!1,a.ticker.destroy()),!_&&d>=1500&&(_=!0,core.playSound("chapter.mp3")),n.restore(),n.save(),s.style.left=`${a.value.text}px`,n.fillStyle="#000",n.clearRect(0,0,r,l),d<=2e3?(n.fillRect(0,l/2,r,-a.value.rect),n.fillRect(0,l/2,r,a.value.rect)):d>=2e3&&d<=3050&&(n.fillRect(0,0,r,a.value.rect2),n.fillRect(0,l,r,-a.value.rect2)),n.shadowColor="#fff",n.shadowBlur=3,n.shadowOffsetX=0,n.shadowOffsetY=0,n.lineWidth=3,n.strokeStyle="#fff",n.fillStyle="#fff",n.globalAlpha=a.value.lineOpacity,n.beginPath(),n.moveTo(0,l/2-c),n.lineTo(a.value.line,l/2-c),n.stroke(),n.beginPath(),n.moveTo(r,l/2+c),n.lineTo(r-a.value.line,l/2+c),n.stroke(),n.shadowBlur=0,n.filter="blur(5px)",n.beginPath(),n.arc(a.value.line,l/2-c,10,0,Math.PI*2),n.fill(),n.beginPath(),n.arc(r-a.value.line,l/2+c,10,0,Math.PI*2),n.fill()}}),a.mode(C("tan","center")).time(3e3).absolute().apply("line",r+10).mode(C("sin","out")).time(1e3).apply("rect",l/2).mode(C("tan","center")).time(3e3).apply("text",-f*2-10),await S(2e3),a.mode(C("sin","in")).time(1e3).apply("rect2",0),await S(1e3),a.mode(C("sin","out")).time(1e3).apply("lineOpacity",0)}),(a,r)=>(openBlock(),createElementBlock("div",_hoisted_1$5,[_hoisted_2$4,createBaseVNode("span",_hoisted_3$3,toDisplayString(e.chapter),1)]))}}),chapter_vue_vue_type_style_index_0_scoped_feaaf373_lang="",Chapter=_export_sfc(_sfc_main$5,[["__scopeId","data-v-feaaf373"]]),_hoisted_1$4={id:"studied"},_hoisted_2$3={id:"studied-main"},_hoisted_3$2={id:"studied-rough"},_hoisted_4$2={key:0,id:"studied-detail"},_sfc_main$4=defineComponent({__name:"studied",setup(e){watch(status,d=>{});let t;const o=ref(200),n=ref(0),s=ref(window.innerWidth-300),a=ref(window.innerHeight-300),r=reactive([]),l=computed(()=>{var d,h;return status.value,(h=(d=core.status.hero.special)==null?void 0:d.num)!=null?h:[]}),f=computed(()=>{var d,h;return status.value,(h=(d=core.status.hero.special)==null?void 0:d.last)!=null?h:[]}),c=computed(()=>{const d=core.getSpecials();return l.value.map(h=>{const m=d[h-1][1];return m instanceof Function?m(core.status.hero.special):m})});function _(d){const m=core.getSpecials()[d-1][2];return m instanceof Function?m(core.status.hero.special):m}async function u(){await new Promise(d=>{requestAnimationFrame(()=>{const h=getComputedStyle(t);n.value=parseFloat(h.height),d()})})}return onUpdated(()=>{u()}),onMounted(()=>{t=document.getElementById("studied-main"),u()}),(d,h)=>(openBlock(),createElementBlock("div",_hoisted_1$4,[createVNode(Box,{resizable:!0,dragable:!0,width:o.value,"onUpdate:width":h[0]||(h[0]=m=>o.value=m),height:n.value,"onUpdate:height":h[1]||(h[1]=m=>n.value=m),left:s.value,"onUpdate:left":h[2]||(h[2]=m=>s.value=m),top:a.value,"onUpdate:top":h[3]||(h[3]=m=>a.value=m)},{default:withCtx(()=>[createVNode(Scroll,{"no-scroll":!0,style:{height:"100%"}},{default:withCtx(()=>[createBaseVNode("div",_hoisted_2$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(l),(m,y)=>(openBlock(),createElementBlock("div",{key:y},[createBaseVNode("div",_hoisted_3$2,[createVNode(unref(RightOutlined),{folded:!!r[y],onClick:g=>r[y]=!r[y],id:"studied-fold"},null,8,["folded","onClick"]),createBaseVNode("span",null,toDisplayString(y)+". "+toDisplayString(unref(c)[y])+"\uFF0C\u5269\u4F59"+toDisplayString(unref(f)[y])+"\u573A\u6218\u6597",1)]),r[y]?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_4$2,toDisplayString(_(m)),1))]))),128))])]),_:1})]),_:1},8,["width","height","left","top"])]))}}),studied_vue_vue_type_style_index_0_scoped_bd83c8c3_lang="",Studied=_export_sfc(_sfc_main$4,[["__scopeId","data-v-bd83c8c3"]]),_hoisted_1$3={id:"fixed"},_hoisted_2$2={id:"enemy-fixed"},_hoisted_3$1={id:"enemy-name"},_hoisted_4$1={id:"enemy-special"},_hoisted_5$1={class:"enemy-attr"},_sfc_main$3=defineComponent({__name:"fixed",setup(e){watch(showFixed,m=>{m&&d()});let t;const o=core.formatBigNumber,n=["hp","atk","def","money","exp","critical","criticalDamage","defDamage"],s=["lightgreen","lightcoral","lightblue","lightyellow","lawngreen","lightsalmon","lightpink","cyan"],a=ref(core.plugin.bookDetailEnemy),r=ref(0),l=ref(0),f=ref(300),c=ref(400);let _=window.innerHeight,u=window.innerWidth;async function d(){if(a.value=core.plugin.bookDetailEnemy,_=window.innerHeight,u=window.innerWidth,f.value=_*.28,await new Promise(B=>requestAnimationFrame(B)),core.plugin.fixedDetailOpened.value&&(showFixed.value=!1),t=document.getElementById("enemy-fixed"),!t)return;const m=getComputedStyle(t),y=parseFloat(m.height),[g,k]=flags.clientLoc;k+y+10>_-10?l.value=_-y-10:l.value=k+10,g+f.value+10>u-10?r.value=u-f.value-10:r.value=g+10,c.value=y}function h(m){var y,g,k;return m==="critical"?"\u4E34\u754C":m==="criticalDamage"?"\u4E34\u754C\u51CF\u4F24":m==="defDamage"?`${(k=(g=(y=core.status)==null?void 0:y.thisMap)==null?void 0:g.ratio)!=null?k:1}\u9632`:core.getStatusLabel(m)}return onUpdated(d),onMounted(()=>{t=document.getElementById("enemy-fixed"),d()}),(m,y)=>(openBlock(),createElementBlock("div",_hoisted_1$3,[createVNode(Transition,null,{default:withCtx(()=>[unref(showFixed)?(openBlock(),createBlock(Box,{key:0,height:c.value,"onUpdate:height":y[0]||(y[0]=g=>c.value=g),left:r.value,"onUpdate:left":y[1]||(y[1]=g=>r.value=g),top:l.value,"onUpdate:top":y[2]||(y[2]=g=>l.value=g),width:f.value,"onUpdate:width":y[3]||(y[3]=g=>f.value=g)},{default:withCtx(()=>[createBaseVNode("div",_hoisted_2$2,[createBaseVNode("span",_hoisted_3$1,toDisplayString(a.value.name),1),createBaseVNode("div",_hoisted_4$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.value.toShowSpecial,(g,k)=>(openBlock(),createElementBlock("span",{style:normalizeStyle({color:a.value.toShowColor[k]})},toDisplayString(g),5))),256))]),(openBlock(),createElementBlock(Fragment,null,renderList(n,(g,k)=>createBaseVNode("div",_hoisted_5$1,[createBaseVNode("span",{class:"attr-name",style:normalizeStyle({color:s[k]})},toDisplayString(h(g)),5),createBaseVNode("span",{class:"attr-value",style:normalizeStyle({color:s[k]})},toDisplayString(unref(o)(a.value[g])),5)])),64))])]),_:1},8,["height","left","top","width"])):createCommentVNode("",!0)]),_:1})]))}}),fixed_vue_vue_type_style_index_0_scoped_d7e97953_lang="",Fixed=_export_sfc(_sfc_main$3,[["__scopeId","data-v-d7e97953"]]),_imports_0="/HumanBreak/project/images/bg.jpg";class Matrix extends Array{constructor(...t){var o;if(t.length!==((o=t[0])==null?void 0:o.length))throw new TypeError("The array delivered to Matrix must has the same length of its item and itself.");super(...t)}add(t){if(t.length!==this.length)throw new TypeError("To add a martrix, the be-added-matrix's size must equal to the to-add-matrix's.");const o=t.length;for(let n=0;n<o;n++)for(let s=0;s<o;s++)this[n][s]+=t[n][s];return this}multipy(t){if(t.length!==this.length)throw new TypeError("To multipy a martrix, the be-multipied-matrix's size must equal to the to-multipy-matrix's.");const o=this.length,n=Array.from(this).map(s=>s.slice());for(let s=0;s<o;s++)for(let a=0;a<o;a++){this[s][a]=0;for(let r=0;r<o;r++)this[s][a]+=n[s][r]*t[r][a]}return this}}class Matrix4 extends Matrix{constructor(...t){if(t.length===0&&(t=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]),t.length!==4)throw new TypeError("The length of delivered array must be 4.");super(...t)}translate(t,o,n){this.multipy([[1,0,0,t],[0,1,0,o],[0,0,1,n],[0,0,0,1]])}scale(t,o,n){this.multipy([[t,0,0,0],[0,o,0,0],[0,0,n,0],[0,0,0,1]])}rotate(t,o,n){if(has(t)&&t!==0){const s=Math.sin(t),a=Math.cos(t);this.multipy([[1,0,0,0],[0,a,s,0],[0,-s,a,0],[0,0,0,1]])}if(has(o)&&o!==0){const s=Math.sin(o),a=Math.cos(o);this.multipy([[a,0,-s,0],[0,1,0,0],[s,0,a,0],[0,0,0,1]])}if(has(n)&&n!==0){const s=Math.sin(n),a=Math.cos(n);this.multipy([[a,s,0,0],[-s,a,0,0],[0,0,1,0],[0,0,0,1]])}return this}transpose(t="new"){const o=t==="this"?this:new Matrix4,n=Array.from(this).map(s=>s.slice());for(let s=0;s<4;s++)for(let a=0;a<4;a++)o[s][a]=n[a][s];return o}toWebGLFloat32Array(){return new Float32Array(Array.from(this.transpose()).flat())}}const _withScopeId=e=>(pushScopeId("data-v-e0c2986a"),e=e(),popScopeId(),e),_hoisted_1$2={id:"start"},_hoisted_2$1={id:"start-div"},_hoisted_3=_withScopeId(()=>createBaseVNode("img",{id:"background",src:_imports_0},null,-1)),_hoisted_4={id:"start-main"},_hoisted_5=_withScopeId(()=>createBaseVNode("div",{id:"title"},"\u4EBA\u7C7B\uFF1A\u5F00\u5929\u8F9F\u5730",-1)),_hoisted_6={id:"settings"},_hoisted_7=["checked"],_hoisted_8={key:0,id:"sound-del"},_hoisted_9=_withScopeId(()=>createBaseVNode("div",{id:"background-gradient"},null,-1)),_hoisted_10={id:"buttons"},_hoisted_11=["id","selected","showed","index","length","onClick","onMouseenter"],_sfc_main$2=defineComponent({__name:"start",setup(e){let t,o,n,s,a,r=[],l;const f=ref(!1),c=ref(!!document.fullscreenElement),_=ref(!1),u=["\u5F00\u59CB\u6E38\u620F","\u8BFB\u53D6\u5B58\u6863","\u5F55\u50CF\u56DE\u653E","\u67E5\u770B\u6210\u5C31"].reverse(),d=["\u8F6E\u56DE","\u5206\u652F","\u89C2\u6D4B","\u56DE\u5FC6"].reverse(),h=["start-game","load-game","replay","achievement"].reverse(),m=["easy","hard-hard","back"].reverse(),y=["\u7B80\u5355","\u56F0\u96BE","\u8FD4\u56DE"].reverse(),g=ref(u),k=reactive([]),B=ref("start-game");function b(){const A=core.domStyle.scale,z=core._PY_*A,ee=z*1.5;t.style.width=`${ee}px`,t.style.height=`${z}px`,n.style.fontSize=`${A*16}px`}function H(){s.style.opacity="1",N(r[0],0)}function N(A,J){const z=getComputedStyle(A);s.style.top=`${parseFloat(z.height)*(J+.5)-parseFloat(z.marginBottom)*(1-J)}px`,s.style.left=`${parseFloat(z.left)-20*core.domStyle.scale}px`}async function F(A){core.checkBgm(),A==="start-game"&&Q(),A==="back"&&te(),(A==="easy"||A==="hard-hard")&&(o.style.opacity="0",await S(600),core.startGame(A)),A==="load-game"&&(core.dom.gameGroup.style.display="block",o.style.top="100vh",core.load()),A==="replay"&&core.chooseReplayFile(),A==="achievement"&&(achievementOpened.value=!0)}function x(A){const{offsetX:J,offsetY:z}=A,ee=A.target,ae=getComputedStyle(ee),U=parseFloat(ae.width),M=parseFloat(ae.height),X=U/2,Z=M/2,oe=(J-X)/X,se=(z-Z)/Z,G=new Matrix4;G.scale(1.2,1.2,1),G.rotate(se*10*Math.PI/180,-(oe*10*Math.PI)/180);const ie=Array.from(G.transpose()).flat().join(",");a.style.transform=`perspective(${1e3*core.domStyle.scale}px)matrix3d(${ie})`}function V(A,J){N(A,J),B.value=A.id}function P(A){const J=keycode(A.keyCode),z=k.indexOf(B.value);if(J===KeyCode.DownArrow){const ee=k[z-1];if(!ee)return;B.value=ee,N(r[k.length-z],k.length-z)}if(J===KeyCode.UpArrow){const ee=k[z+1];if(!ee)return;B.value=ee,N(r[k.length-z-2],k.length-z-2)}}function L(A){const J=keycode(A.keyCode);(J===KeyCode.Enter||J===KeyCode.Space||J===KeyCode.KeyC)&&F(B.value)}function T(){core.triggerBgm(),f.value=!f.value}async function q(){const A=k.length-k.indexOf(B.value)-1;await triggerFullscreen(),requestAnimationFrame(()=>{c.value=!!document.fullscreenElement,N(r[A],A)})}async function Q(){s.style.transition="left 0.4s ease-out, top 0.4s ease-out, opacity 0.4s linear",s.style.opacity="0",r.forEach(A=>A.style.transition=""),await doByInterval(Array(4).fill(()=>h.unshift(k.pop())),150),await S(250),g.value=y,await doByInterval(Array(3).fill(()=>k.push(m.shift())),150),B.value="easy",nextTick(()=>{r=k.map(A=>document.getElementById(A)).reverse(),s.style.opacity="1",N(r[0],0)}),await S(600),r.forEach(A=>A.style.transition="transform 0.3s ease-out, color 0.3s ease-out")}async function te(){k.length>0&&(s.style.transition="left 0.4s ease-out, top 0.4s ease-out, opacity 0.4s linear",s.style.opacity="0",r.forEach(A=>A.style.transition=""),await doByInterval(Array(3).fill(()=>m.unshift(k.pop())),150)),g.value=u,l&&(g.value=d),await S(250),await doByInterval(Array(4).fill(()=>k.push(h.shift())),150),B.value="start-game",nextTick(()=>{r=k.map(A=>document.getElementById(A)).reverse(),s.style.opacity="1",N(r[0],0),r.forEach((A,J)=>{})}),_.value?await S(600):await S(1200),r.forEach(A=>A.style.transition="transform 0.3s ease-out, color 0.3s ease-out")}return onMounted(async()=>{s=document.getElementById("cursor"),l=core.getLocalStorage("oneweek1",!1),t=document.getElementById("start-div"),n=document.getElementById("start-main"),o=document.getElementById("start"),a=document.getElementById("background"),core.registerResize("start",b),b(),f.value=core.musicStatus.bgmStatus,await S(50),document.addEventListener("keydown",P),document.addEventListener("keyup",L),o.style.opacity="1",l&&(g.value=d,y.splice(1,0,"\u6311\u6218")),te().then(()=>_.value=!0),await S(1e3),H(),await S(1200),core.dom.startPanel.style.display="none"}),onUnmounted(()=>{core.unregisterResize("start"),document.removeEventListener("keydown",P),document.removeEventListener("keyup",L)}),(A,J)=>(openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("div",_hoisted_2$1,[_hoisted_3,createBaseVNode("div",_hoisted_4,[_hoisted_5,createBaseVNode("div",_hoisted_6,[createBaseVNode("div",{id:"sound",class:"setting-buttons",checked:f.value,onClick:T},[createVNode(unref(SoundOutlined)),f.value?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_8))],8,_hoisted_7),c.value?(openBlock(),createBlock(unref(FullscreenExitOutlined),{key:1,class:"button-text setting-buttons2",onClick:q})):(openBlock(),createBlock(unref(FullscreenOutlined),{key:0,class:"button-text setting-buttons2",onClick:q}))]),_hoisted_9,createBaseVNode("div",_hoisted_10,[createVNode(unref(RightOutlined),{id:"cursor"}),createVNode(TransitionGroup,{name:"start"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(k,(z,ee)=>(openBlock(),createElementBlock("span",{class:"start-button",id:z,key:z,selected:B.value===z,showed:_.value,index:ee,length:g.value[ee].length,onClick:ae=>F(z),onMouseenter:ae=>V(ae.target,k.length-ee-1)},toDisplayString(g.value[ee]),41,_hoisted_11))),128))]),_:1})])]),createBaseVNode("div",{id:"listen",onMousemove:x},null,32)])]))}}),start_vue_vue_type_style_index_0_scoped_e0c2986a_lang="",Start=_export_sfc(_sfc_main$2,[["__scopeId","data-v-e0c2986a"]]),_hoisted_1$1={id:"complete"},_hoisted_2={id:"point-number"},_sfc_main$1=defineComponent({__name:"completeAchievement",props:{complete:null},setup(e){const t=e,o=window.innerHeight,n=t.complete.split(","),s=n[0],a=parseInt(n[1]),r=list[s][a],l=r.point,f=getNowPoint()-l,c=ref(f),_=computed(()=>c.value/totalPoint);return onMounted(async()=>{await S(500);const u=new I,d=Date.now();u.add(()=>{const h=Date.now();h-d>1e3&&(c.value=f+l,u.destroy());const m=(h-d)/1e3;c.value=Math.round(f+l*m)}),await S(4600),showComplete.value=!1}),(u,d)=>{const h=__unplugin_components_0$3;return openBlock(),createBlock(Box,{id:"complete-box"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$1,[createBaseVNode("span",null,"\u5B8C\u6210\u6210\u5C31\xA0\xA0\xA0\xA0"+toDisplayString(unref(r).name),1),createVNode(h,{id:"progress",percent:unref(_)*100,strokeColor:{"0%":"#108ee9","100%":"#87d068"},strokeWidth:unref(o)/200,showInfo:!1},null,8,["percent","strokeWidth"]),createBaseVNode("span",_hoisted_2,"\u6210\u5C31\u70B9: "+toDisplayString(c.value)+" / "+toDisplayString(unref(totalPoint)),1)])]),_:1})}}}),completeAchievement_vue_vue_type_style_index_0_scoped_ea17775e_lang="",CompleteAchievement=_export_sfc(_sfc_main$1,[["__scopeId","data-v-ea17775e"]]),_hoisted_1={id:"non-ui"},_sfc_main=defineComponent({__name:"App2",setup(e){return(t,o)=>(openBlock(),createElementBlock("div",_hoisted_1,[unref(startOpened)?(openBlock(),createBlock(Start,{key:0})):createCommentVNode("",!0),unref(showStatusBar)?(openBlock(),createBlock(StatusBar,{key:1})):createCommentVNode("",!0),unref(showMarkedEnemy)&&unref(showStatusBar)?(openBlock(),createBlock(MarkedEnemy,{key:2})):createCommentVNode("",!0),unref(showStudiedSkill)&&unref(showStatusBar)&&unref(showStudied$1)?(openBlock(),createBlock(Studied,{key:3})):createCommentVNode("",!0),unref(showStatusBar)&&unref(useFixed$1)?(openBlock(),createBlock(Fixed,{key:4})):createCommentVNode("",!0),unref(chapterShowed)?(openBlock(),createBlock(Chapter,{key:5,chapter:unref(chapterContent)},null,8,["chapter"])):createCommentVNode("",!0),unref(showComplete)?(openBlock(),createBlock(CompleteAchievement,{key:6,complete:unref(completeAchi)},null,8,["complete"])):createCommentVNode("",!0)]))}}),App2_vue_vue_type_style_index_0_scoped_8fd1387d_lang="",App2=_export_sfc(_sfc_main,[["__scopeId","data-v-8fd1387d"]]),styles="",antd_dark="";let pop=[],time=0;function init$4(){return main.replayChecking||core.registerAnimationFrame("pop",!0,popValue),{addPop,pop}}function popValue(e){if(e-time<15)return;let t=core.getContextByName("pop");t||(t=core.createCanvas("pop",0,0,core._PX_,core._PY_,90)),core.clearMap(t);let o=0;pop.forEach(function(n){const s=6-n.frame*.2,a=1;n.py-=s,n.px+=a,n.frame++,n.frame>=60?core.setAlpha(t,3-n.frame/30):core.setAlpha(t,1),core.fillBoldText(t,n.value,n.px,n.py,"#f22","#000","24px normal"),n.frame>=90&&o++}),o>0&&pop.splice(0,o),time=e}function addPop(e,t,o){var n={px:e,py:t,value:o,frame:0};pop.push(n)}const ani=new R;ani.register("rect",0);const path1={MT16:[[23,23],[0,23]],MT15:[[63,4],[61,4],[61,5],[58,5],[58,8],[54,8],[54,11],[51,11],[51,8],[45,8],[45,4],[47,4],[47,6],[51,6],[51,5],[52,5],[52,3],[50,3],[50,5],[48,5],[48,3],[35,3],[35,5],[31,5],[31,7],[34,7],[34,9],[31,9],[31,11],[12,11],[12,8],[1,8],[1,7],[0,7]],MT14:[[127,7],[126,7],[126,8],[124,8],[124,7],[115.2,7],[115.2,9.2],[110.2,9.2],[110.2,11],[109.8,11],[109.8,8.8],[111.8,8.8],[111.8,7],[104,7],[104,3],[100,3],[100,4],[98,4],[98,3],[96,3],[96,6],[95,6],[95,7],[88,7],[88,6],[85,6],[85,8],[83,8],[83,9],[81,9],[81,11],[72,11],[72,5],[68,5],[68,8],[67,8],[67,10],[65,10],[65,11],[62,11],[62,9],[60,9],[60,11],[57,11],[57,9],[54,9]]},camera1=[["MT16",0,10,0,1600,C("sin","in")],["MT15",45,0,0,2324,C("sin","in")],["MT15",40,0,2324,1992,C("sin","out")],["MT15",41,0,5312,498,C("sin","in-out")],["MT15",37,0,5810,1660,C("sin","in")],["MT15",29,0,7470,830,C("sin","out")],["MT15",25,0,11454,996,C("sin","in")],["MT15",12,0,12450,996,j()],["MT15",0,0,13446,1470,C("sin","out")],["MT14",109,0,0,1328,C("sin","in")],["MT14",104,0,1328,332,C("sin","out")],["MT14",92,0,5478,2822,C("sin","in")],["MT14",84,0,8300,1992,j()],["MT14",74,0,10292,2988,j()],["MT14",65,0,13280,2988,j()],["MT14",58,0,16268,1992,j()],["MT14",47,0,18260,3320,j()],["MT14",36,0,21580,3320,j()],["MT14",0,0,24900,9960,j()]];function init1(){const e=["MT13","MT14","MT15"],t=[];e.forEach(o=>{core.status.maps[o].cannotMoveDirectly=!0,core.extractBlocks(o),core.status.maps[o].blocks.forEach(n=>{["animates","items"].includes(n.event.cls)&&!n.event.id.endsWith("Portal")&&t.push([n.x,n.y,o])})}),t.forEach(o=>{core.removeBlock(...o)})}function chaseShake(e){e.ani.mode(shake2(2/32,O(1,1,1,1,1,1,1,1,1,1,1,1)),!0).time(5e4).shake(1,0)}async function wolfMove(e){core.moveBlock(23,17,Array(6).fill("down"),80),await S(550),core.setBlock(508,23,23)}function judgeFail1(e){e.ani.ticker.add(()=>{core.status.hero.loc.x>core.bigmap.offsetX/32+17&&(e.end(),ani.time(750).apply("rect",0),core.lose("\u9003\u8DD1\u5931\u8D25"))})}function drawBack(e){e.on("MT15",0,()=>{ani.mode(C("sin","out")).time(1500).absolute().apply("rect",64);const t=core.createCanvas("chaseBack",0,0,480,480,120);t.fillStyle="#000";const o=()=>{t||ani.ticker.remove(o),core.clearMap(t),t.fillRect(0,0,480,ani.value.rect),t.fillRect(0,480,480,-ani.value.rect)};ani.ticker.add(o)})}function para1(e){e.on("MT15",830,()=>{for(let t=53;t<58;t++)for(let o=3;o<8;o++)core.setBlock(336,t,o);core.drawAnimate("explosion3",55,5),core.drawAnimate("stone",55,5)}),e.on("MT15",1080,()=>{core.setBlock(336,58,9),core.setBlock(336,59,9),core.drawAnimate("explosion1",58,9),core.drawAnimate("explosion1",59,9)}),e.on("MT15",1190,()=>{core.setBlock(336,53,8),core.setBlock(336,52,8),core.drawAnimate("explosion1",53,8),core.drawAnimate("explosion1",52,8)}),e.on("MT15",1580,()=>{core.setBlock(336,51,7),core.drawAnimate("explosion1",51,7)}),e.on("MT15",1830,()=>{core.setBlock(336,47,7),core.setBlock(336,49,9),core.drawAnimate("explosion1",49,9),core.drawAnimate("explosion1",47,7)})}function para2(e){e.onHeroLoc("MT15",()=>{core.setBlock(336,45,9),core.drawAnimate("explosion1",45,9)},45,8),e.onHeroLoc("MT15",()=>{core.setBlock(336,44,6),core.drawAnimate("explosion1",44,6)},45,6),e.onHeroLoc("MT15",()=>{core.setBlock(336,44,4),core.drawAnimate("explosion1",44,4),core.drawAnimate("explosion1",48,6),core.removeBlock(48,6)},45,4),e.onHeroLoc("MT15",()=>{core.setBlock(336,41,4),core.setBlock(336,32,6),core.drawAnimate("explosion1",41,4),core.drawAnimate("explosion1",32,6)},41,3),e.onHeroLoc("MT15",()=>{core.drawAnimate("explosion3",37,7),core.vibrate("vertical",1e3,25,10);for(let t=36;t<42;t++)for(let o=4;o<11;o++)core.setBlock(336,t,o)},35,3),e.onHeroLoc("MT15",()=>{core.vibrate("vertical",1e4,25,1),core.removeBlock(34,8),core.removeBlock(33,8),core.drawAnimate("explosion1",34,8),core.drawAnimate("explosion1",33,8)},31,5),e.onHeroLoc("MT15",()=>{core.setBlock(336,32,9),core.drawAnimate("explosion1",32,9)},33,7),e.onHeroLoc("MT15",()=>{core.removeBlock(32,9),core.drawAnimate("explosion1",32,9)},[33,34,34],9);for(let t=19;t<31;t++){const o=t;e.onHeroLoc("MT15",()=>{core.setBlock(336,o+1,11),core.drawAnimate("explosion1",o+1,11)},o,11)}}function para3(e){e.onHeroLoc("MT14",()=>{core.setBlock(336,126,6),core.setBlock(336,124,6),core.setBlock(336,124,9),core.setBlock(336,126,9),core.drawAnimate("explosion1",126,6),core.drawAnimate("explosion1",124,6),core.drawAnimate("explosion1",124,9),core.drawAnimate("explosion1",126,9)},126,7),e.onHeroLoc("MT14",()=>{core.setBlock(508,127,7),core.jumpBlock(127,7,112,7,500,!0),setTimeout(()=>{core.setBlock(509,112,7)},520),core.drawHeroAnimate("amazed"),core.setBlock(336,121,6),core.setBlock(336,122,6),core.setBlock(336,120,8),core.setBlock(336,121,8),core.setBlock(336,122,8),core.drawAnimate("explosion1",121,6),core.drawAnimate("explosion1",122,6),core.drawAnimate("explosion1",120,8),core.drawAnimate("explosion1",121,8),core.drawAnimate("explosion1",122,8)},123,7),e.onHeroLoc("MT14",()=>{core.setBlock(336,109,11),core.removeBlock(112,8),core.drawAnimate("explosion1",109,11),core.drawAnimate("explosion1",112,8),core.insertAction([{type:"moveHero",time:400,steps:["backward:1"]}]),e.onHeroLoc("MT14",()=>{core.jumpBlock(112,7,110,4,500,!0),core.drawHeroAnimate("amazed"),setTimeout(()=>{core.setBlock(506,110,4)},540)},112,8)},110,10),e.onHeroLoc("MT14",()=>{core.setBlock(336,117,6),core.setBlock(336,116,6),core.setBlock(336,115,6),core.setBlock(336,114,6),core.setBlock(336,117,8),core.setBlock(336,116,8),core.drawAnimate("explosion1",117,6),core.drawAnimate("explosion1",116,6),core.drawAnimate("explosion1",115,6),core.drawAnimate("explosion1",114,6),core.drawAnimate("explosion1",116,8),core.drawAnimate("explosion1",117,8)},118,7),e.onHeroLoc("MT14",()=>{core.setBlock(336,112,8),core.setBlock(336,113,7),core.drawAnimate("explosion1",112,8),core.drawAnimate("explosion1",113,7)},112,7),e.onHeroLoc("MT14",()=>{for(let t=111;t<=115;t++)core.setBlock(336,t,10),core.drawAnimate("explosion1",t,10);core.setBlock(336,112,8),core.drawAnimate("explosion1",112,8)},115,7),e.onHeroLoc("MT14",()=>{core.jumpBlock(97,4,120,-3,2e3);for(let t=109;t<=120;t++)for(let o=3;o<=11;o++)o!=7&&core.setBlock(336,t,o);core.drawAnimate("explosion2",119,7),core.removeBlock(105,7),core.drawAnimate("explosion1",105,7)},110,7),e.onHeroLoc("MT14",()=>{core.setBlock(336,95,3),core.setBlock(336,93,6),core.drawAnimate("explosion1",95,3),core.drawAnimate("explosion1",93,6)},97,3),e.onHeroLoc("MT14",()=>{core.setBlock(336,87,4),core.setBlock(336,88,5),core.drawAnimate("explosion1",87,4),core.drawAnimate("explosion1",88,5)},88,6),e.onHeroLoc("MT14",()=>{core.setBlock(336,84,6),core.setBlock(336,85,5),core.setBlock(336,86,8),core.drawAnimate("explosion1",84,6),core.drawAnimate("explosion1",85,5),core.drawAnimate("explosion1",86,8)},86,6),e.onHeroLoc("MT14",()=>{core.setBlock(336,81,8),core.setBlock(336,82,11),core.drawAnimate("explosion1",81,8),core.drawAnimate("explosion1",82,11)},81,9),e.onHeroLoc("MT14",()=>{core.setBlock(336,73,8),core.setBlock(336,72,4),core.drawAnimate("explosion1",73,8),core.drawAnimate("explosion1",72,4)},72,11),e.onHeroLoc("MT14",()=>{for(let t=74;t<86;t++)for(let o=3;o<12;o++)core.setBlock(336,t,o);core.drawAnimate("explosion2",79,7),core.vibrate("vertical",4e3,25,15)},71,7),e.onHeroLoc("MT14",()=>{core.setBlock(336,68,4),core.setBlock(336,67,6),core.drawAnimate("explosion1",68,4),core.drawAnimate("explosion1",67,6)},68,5),e.onHeroLoc("MT14",()=>{for(let t=65;t<=72;t++)for(let o=3;o<=9;o++)core.setBlock(336,t,o);core.setBlock(336,72,10),core.setBlock(336,72,11),core.drawAnimate("explosion3",69,5)},67,10),e.onHeroLoc("MT14",()=>{core.setBlock(336,63,9),core.setBlock(336,60,8),core.setBlock(336,56,11),core.drawAnimate("explosion1",63,9),core.drawAnimate("explosion1",60,8),core.drawAnimate("explosion1",56,11)},64,11),e.onHeroLoc("MT14",()=>{for(let t=58;t<=64;t++)for(let o=3;o<=11;o++)core.setBlock(336,t,o);core.drawAnimate("explosion2",61,7)},57,9);for(let t=21;t<49;t++)e.onHeroLoc("MT14",()=>{for(let o=3;o<=11;o++)core.setBlock(336,t+4,o),core.drawAnimate("explosion1",t+4,o)},t);e.onHeroLoc("MT14",async()=>{flags.finishChase1=!0,core.autoFixRouteBoss(),core.showStatusBar(),ani.time(750).apply("rect",0),e.end(),await S(750),ani.ticker.destroy(),core.deleteCanvas("chaseBack")},21)}function getChaseDataByIndex(e){if(e===1)return init1(),{camera:camera1,fns:[para1,para2,para3,chaseShake,wolfMove,drawBack,judgeFail1],path:path1};throw new ReferenceError("Deliver wrong chase index.")}function init$3(){return{startChase}}function shake2(e,t){let o=0;return n=>(o+=Math.PI/2,Math.sin(o)*e*t(n))}class Chase{constructor(t,o,n,s=!1){pe(this,"ani",new R);pe(this,"path");pe(this,"showPath",!1);pe(this,"endFn");this.path=t,flags.__lockViewport__=!0,flags.onChase=!0,flags.chaseTime={[core.status.floorId]:Date.now()},this.ani.absolute().time(0).move(core.bigmap.offsetX/32,core.bigmap.offsetY/32),o.forEach(l=>l(this));const a=[],r=core.createCanvas("chasePath",0,0,0,0,35);for(const[l,f,c,_,u,d,h]of n)a.includes(l)||(this.on(l,0,()=>{flags.__lockViewport__=!1,core.drawHero(),flags.__lockViewport__=!0,this.ani.time(0).move(core.bigmap.offsetX/32,core.bigmap.offsetY/32)},!0),a.push(l)),has(h)?this.on(l,_,()=>{this.ani.time(u).mode(d).moveAs(h)}):this.on(l,_,()=>{this.ani.time(u).mode(d).move(f,c)});if(this.ani.ticker.add(()=>{flags.floorChanging||(core.setViewport(this.ani.x*32,this.ani.y*32),core.relocateCanvas(r,-this.ani.x*32,-this.ani.y*32))}),s)for(const[l,f]of Object.entries(t))this.on(l,0,()=>{const c=core.status.maps[l];core.resizeCanvas(r,c.width*32,c.height*32),r.beginPath(),r.moveTo(f[0][0]*32+16,f[1][1]*32+24),r.lineJoin="round",r.lineWidth=4,r.strokeStyle="cyan",r.globalAlpha=.3,f.forEach((_,u,d)=>{if(u===0)return;const[h,m]=_;r.lineTo(h*32+16,m*32+24)}),r.stroke()})}on(t,o,n,s=!1){const a=()=>{var r,l,f;!((r=flags.chaseTime)!=null&&r[t])||Date.now()-((f=(l=flags.chaseTime)==null?void 0:l[t])!=null?f:0)>=o&&(n(this),this.ani.ticker.remove(a))};this.ani.ticker.add(a,s)}onHeroLoc(t,o,n,s,a=0){if(a===1){typeof n=="number"&&(n=[n]),typeof s=="number"&&(s=[s]),n.forEach(f=>{s.forEach(c=>{this.onHeroLoc(t,o,f,c)})});return}const r=()=>{if(core.status.floorId!==t)return!1;if(has(n)){if(typeof n=="number"){if(core.status.hero.loc.x!==n)return!1}else if(!n.includes(core.status.hero.loc.x))return!1}if(has(s)){if(typeof s=="number"){if(core.status.hero.loc.y!==s)return!1}else if(!s.includes(core.status.hero.loc.y))return!1}return!0},l=()=>{if(r()){o(this);try{this.ani.ticker.remove(l)}catch(f){}}};this.ani.ticker.add(l)}setPathShowStatus(t){this.showPath=t}onEnd(t){this.endFn=t}end(){this.ani.ticker.destroy(),delete flags.onChase,delete flags.chase,delete flags.chaseTime,delete flags.chaseHard,delete flags.chaseIndex,flags.__lockViewport__=!1,core.deleteCanvas("chasePath"),this.endFn&&this.endFn()}}async function startChase(e){const t=getChaseDataByIndex(e);flags.chaseIndex=e,flags.onChase=!0,await S(20);const o=new Chase(t.path,t.fns,t.camera,flags.chaseHard===0);flags.chase=o,o.onEnd(()=>{flags.chaseHard===1&&e===1&&completeAchievement("challenge",0)})}function init$2(){return{isWebGLSupported}}const isWebGLSupported=function(){return!!document.createElement("canvas").getContext("webgl")}();class Polygon{constructor(t){pe(this,"nodes");pe(this,"cache",{});if(t.length<3)throw new Error("Nodes number delivered is less than 3!");this.nodes=t.map(o=>[o[0]+32,o[1]+32])}static from(...t){return t.map(o=>new Polygon(o))}shadowArea(t,o,n){var d,h;const s=`${t},${o}`;if(this.cache[s])return this.cache[s];const a=[],r=((d=core._PX_)!=null?d:core.__PIXELS__)+64,l=((h=core._PY_)!=null?h:core.__PIXELS__)+64,f=l/r,c=(m,y)=>{const g=(y-o)/(m-t);if(g>f||g<-f)if(y<o){const k=t+o/g;return[2*t-k,0]}else return[t+(l-o)/g,l];else if(m<t){const k=o+g*t;return[0,2*o-k]}else{const k=o+g*(r-t);return[r,k]}},_=this.nodes.length;let u=c(...this.nodes[0]);for(let m=0;m<_;m++){const y=(m+1)%_,g=c(...this.nodes[y]),k=[this.nodes[m],u],B=[g,this.nodes[y]];let b;u[0]===0&&g[1]===0||u[1]===0&&g[0]===0?b=[...k,[0,0],...B]:u[0]===0&&g[1]===l||u[1]===l&&g[0]===0?b=[...k,[0,l],...B]:u[0]===r&&g[1]===0||u[1]===0&&g[0]===r?b=[...k,[r,0],...B]:u[0]===r&&g[1]===l||u[1]===l&&g[0]===r?b=[...k,[r,l],...B]:b=[...k,...B],a.push(b),u=g}return this.cache[s]=a,a}}function init$1(){return core.registerAnimationFrame("shadow",!0,()=>{!needRefresh||drawShadow()}),{initShadowCanvas,drawShadow,addLight,removeLight,setLight,setShadowNodes,setBackground,animateLight,transitionLight,moveLightAs,getAllLights}}let canvas,ctx,lights=[],needRefresh=!1,shadowNodes=[],background,blur=3;const temp1=document.createElement("canvas"),temp2=document.createElement("canvas"),temp3=document.createElement("canvas"),ct1=temp1.getContext("2d"),ct2=temp2.getContext("2d"),ct3=temp3.getContext("2d"),animationList={},transitionList={};function initShadowCanvas(){var n,s;const e=(n=core._PX_)!=null?n:core.__PIXELS__,t=(s=core._PY_)!=null?s:core.__PIXELS__;ctx=core.createCanvas("shadow",-32,-32,e+64,t+64,55),canvas=ctx.canvas;const o=core.domStyle.scale*devicePixelRatio;temp1.width=(e+64)*o,temp1.height=(t+64)*o,temp2.width=(e+64)*o,temp2.height=(t+64)*o,temp3.width=(e+64)*o,temp3.height=(t+64)*o,ct1.scale(o,o),ct2.scale(o,o),ct3.scale(o,o),canvas.style.filter=`blur(${blur}px)`}function addLight(e){lights.push(e),needRefresh=!0}function removeLight(e){const t=lights.findIndex(o=>o.id===e);if(t===-1)throw new ReferenceError("You are going to remove nonexistent light!");lights.splice(t,1),needRefresh=!0}function setLight(e,t){has(t.id)&&delete t.id;const o=lights.find(n=>n.id===e);if(!o)throw new ReferenceError("You are going to set nonexistent light!");for(const[n,s]of Object.entries(t))o[n]=s;needRefresh=!0}function setLightList(e){lights=e,needRefresh=!0}function removeAllLights(){lights=[],needRefresh=!0}function getLight(e){return lights.find(t=>t.id===e)}function getAllLights(){return lights}function setBackground(e){background=e,needRefresh=!0}function animateLight(e,t,o,n=1e3,s=j(),a=!1){var _,u;const r=getLight(e);if(!has(r))throw new ReferenceError("You are going to animate nonexistent light");typeof o!="number"&&(r[t]=o);const l=(_=animationList[e])!=null?_:animationList[e]=new R;typeof l.value[t]!="number"?l.register(t,r[t]):l.time(0).mode(j()).absolute().apply(t,r[t]),l.time(n).mode(s)[a?"relative":"absolute"]().apply(t,o);const f=Date.now(),c=()=>{Date.now()-f>n+50&&(l.ticker.remove(c),r._animating[t]=!1),needRefresh=!0,r[t]=l.value[t]};l.ticker.add(c),(u=r._animating)!=null||(r._animating={}),r._animating[t]=!0}function transitionLight(e,t,o=1e3,n=j()){var l,f;const s=lights.findIndex(c=>c.id===e);if(s===-1)throw new ReferenceError("You are going to transite nonexistent light");const a=lights[s];if(typeof a[t]!="number")return;(l=a._transition)!=null||(a._transition={}),a._transition[t]={time:o,mode:n};const r=(f=transitionList[e])!=null?f:transitionList[e]=new Y;if(r.value[t]=a[t],!a._isProxy){const c={set(_,u,d){var g;if(typeof u=="symbol")return!1;const h=Date.now();if(!a._transition[u]||((g=a._animating)==null?void 0:g[t])||typeof d!="number")return _[u]=d,!0;_[u]=a[u];const m=a._transition[u];r.mode(m.mode).time(m.time);const y=()=>{Date.now()-h>m.time+50&&r.ticker.remove(y),needRefresh=!0,_[u]=r.value[t]};return r.ticker.add(y),r.transition(u,d),!0}};lights[s]=new Proxy(a,c)}}function moveLightAs(e,t,o,n=j(),s=!0){var c,_;const a=getLight(e);if(!has(a))throw new ReferenceError("You are going to animate nonexistent light");const r=(c=animationList[e])!=null?c:animationList[e]=new R;r.mode(j()).time(0).move(a.x,a.y),r.time(t).mode(n)[s?"relative":"absolute"]().moveAs(o);const l=Date.now(),f=()=>{Date.now()-l>t+50&&(r.ticker.remove(f),a._animating.x=!1,a._animating.y=!1),needRefresh=!0,a.x=r.x,a.y=r.y};r.ticker.add(f),(_=a._animating)!=null||(a._animating={}),a._animating.x=!0,a._animating.y=!0}function setShadowNodes(e){e.length===0&&(shadowNodes=[],needRefresh=!0),e[0]instanceof Polygon?shadowNodes=e:shadowNodes=Polygon.from(...e),needRefresh=!0}function setBlur(e){blur=e,canvas.style.filter=`blur(${e}px)`}function drawShadow(){var n,s;const e=((n=core._PX_)!=null?n:core.__PIXELS__)+64,t=((s=core._PY_)!=null?s:core.__PIXELS__)+64;needRefresh=!1,ctx.clearRect(0,0,e,t),ct1.clearRect(0,0,e,t),ct2.clearRect(0,0,e,t),ct3.clearRect(0,0,e,t);const o=core.arrayToRGBA(background);ctx.globalCompositeOperation="source-over",ct3.globalCompositeOperation="source-over";for(let a=0;a<lights.length;a++){const{x:r,y:l,r:f,decay:c,color:_,noShelter:u}=lights[a];if(ct1.clearRect(0,0,e,t),ct2.clearRect(0,0,e,t),!u)for(const m of shadowNodes)m.shadowArea(r+32,l+32,f).forEach(g=>{ct1.beginPath(),ct1.moveTo(g[0][0],g[0][1]);for(let k=1;k<g.length;k++)ct1.lineTo(g[k][0],g[k][1]);ct1.closePath(),ct1.fillStyle="#000",ct1.globalCompositeOperation="source-over",ct1.fill()});ct2.globalCompositeOperation="source-over",ct2.drawImage(temp1,0,0,e,t),ct2.globalCompositeOperation="source-out";const d=ct2.createRadialGradient(r,l,c,r,l,f);d.addColorStop(0,core.arrayToRGBA(_)),d.addColorStop(1,"transparent"),ct2.fillStyle=d,ct2.beginPath(),ct2.arc(r,l,f,0,Math.PI*2),ct2.fill(),ctx.drawImage(temp2,0,0,e,t),ct1.globalCompositeOperation="source-out";const h=ct1.createRadialGradient(r,l,c,r,l,f);h.addColorStop(0,"#fff"),h.addColorStop(1,"#fff0"),ct1.beginPath(),ct1.arc(r,l,f,0,Math.PI*2),ct1.fillStyle=h,ct1.fill(),ct3.drawImage(temp1,0,0,e,t)}ct3.globalCompositeOperation="source-out",ct3.fillStyle=o,ct3.fillRect(0,0,e,t),ctx.globalCompositeOperation="destination-over",ctx.drawImage(temp3,0,0,e,t)}function init(){return{updateShadow,clearShadowCache,setCalShadow}}const shadowInfo={MT43:[{id:"mt42_1",x:280,y:220,decay:100,r:300,color:"#0000"}]},backgroundInfo={MT43:"#0008"},blurInfo={MT43:4},immersionInfo={MT43:8},shadowCache={};let calMapShadow=!0;function updateShadow(e=!1){var r;const t=core.status.floorId;if(!shadowInfo[t]||!backgroundInfo[t]){removeAllLights(),setShadowNodes([]),setBackground("#0000");return}const o=core.status.thisMap,n=o.width,s=o.height,a=[];if(calMapShadow)if(shadowCache[t]&&!e)setShadowNodes(shadowCache[t]);else{core.extractBlocks();const l=core.getMapBlocksObj();core.status.maps[t].blocks.forEach(f=>{var c;if(!!["terrains","autotile","tileset","animates"].includes(f.event.cls)&&f.event.noPass){const _=(c=immersionInfo[t])!=null?c:4,u=f.x,d=f.y;let h=u*32+_,m=d*32+_,y=h+32-_*2,g=m+32-_*2;const k=`${u-1},${d}`,B=`${u+1},${d}`,b=`${u},${d-1}`,H=`${u},${d+1}`;(u===0||l[k]&&l[k].event.noPass)&&(h-=_),(u+1===n||l[B]&&l[B].event.noPass)&&(y+=_),(d===0||l[b]&&l[b].event.noPass)&&(m-=_),(d+1===s||l[H]&&l[H].event.noPass)&&(g+=_),a.push(new Polygon([[h,m],[y,m],[y,g],[h,g]]));return}}),shadowCache[t]=a,setShadowNodes(a)}else setShadowNodes([]),setBlur(0);setLightList(shadowInfo[t]),setBackground(backgroundInfo[t]),setBlur((r=blurInfo[t])!=null?r:3)}function clearShadowCache(e){delete shadowCache[e]}function setCalShadow(e){calMapShadow=e,updateShadow()}function forward(){const e=[init$4(),init$7(),init$e(),init$f(),init$g(),init$5(),init$d(),init$c(),init$6(),init$b(),init$3(),init$a(),init$2(),init$1(),init(),init$8(),init$9()];(async function(){for(const t of e)for(const o in t){const n=t[o];o in core.plugin||(core.plugin[o]=n),n instanceof Function&&(o in core||o.startsWith("_")||(core[o]=n))}console.log("\u63D2\u4EF6\u8F6C\u53D1\u5B8C\u6210\uFF01")})(),Object.values(floors).forEach((t,o)=>{const n=core.floorIds.indexOf(t[0]),s=core.floorIds.indexOf(t[1]),a=core.floorIds.slice(n,s+1);floors[o+1]=a})}main.forward=forward;main.init("play");main.listen();createApp(App).mount("#root");createApp(App2).mount("#root2");export{__vite_legacy_guard};
