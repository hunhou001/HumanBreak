var ke=Object.defineProperty;var we=(e,t,o)=>t in e?ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var z=(e,t,o)=>(we(e,typeof t!="symbol"?t+"":t,o),o);import{l as lodash,R,S,C as Chart,r as registerables,a as C,j,O,Y,I,B}from"./common.9f75d2a4.js";import{m as message,r as ref,d as defineComponent,o as onMounted,a as onUpdated,b as createElementBlock,u as unref,e as onUnmounted,f as openBlock,g as createBaseVNode,t as toDisplayString,h as createVNode,F as Fragment,i as renderList,n as normalizeStyle,j as createTextVNode,_ as __unplugin_components_0,k as renderSlot,w as withCtx,l as createBlock,p as resolveDynamicComponent,q as pushScopeId,s as popScopeId,v as computed,x as watch,y as __unplugin_components_0$1,z as reactive,A as withModifiers,T as Transition,B as createCommentVNode,L as LeftOutlined,R as RightOutlined,C as __unplugin_components_1,S as SortAscendingOutlined,D as SortDescendingOutlined,E as SelectOption,G as __unplugin_components_0$2,H as DoubleLeftOutlined,I as DoubleRightOutlined,J as shallowReactive,K as markRaw,M as DragOutlined,N as createApp}from"./antdv.d3c1a017.js";function __vite_legacy_guard(){import("data:text/javascript,")}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function o(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerpolicy&&(n.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?n.credentials="include":a.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(a){if(a.ep)return;a.ep=!0;const n=o(a);fetch(a.href,n)}})();let pop=[],time=0;function init$e(){return main.replayChecking||core.registerAnimationFrame("pop",!0,popValue),{addPop,pop}}function popValue(e){if(e-time<15)return;let t=core.getContextByName("pop");t||(t=core.createCanvas("pop",0,0,core._PX_,core._PY_,90)),core.clearMap(t);let o=0;pop.forEach(function(s){const a=6-s.frame*.2,n=1;s.py-=a,s.px+=n,s.frame++,s.frame>=60?core.setAlpha(t,3-s.frame/30):core.setAlpha(t,1),core.fillBoldText(t,s.value,s.px,s.py,"#f22","#000","24px normal"),s.frame>=90&&o++}),o>0&&pop.splice(0,o),time=e}function addPop(e,t,o){var s={px:e,py:t,value:o,frame:0};pop.push(s)}const _default="",index$5="";var KeyCode=(e=>(e[e.DependsOnKbLayout=-1]="DependsOnKbLayout",e[e.Unknown=0]="Unknown",e[e.Backspace=1]="Backspace",e[e.Tab=2]="Tab",e[e.Enter=3]="Enter",e[e.Shift=4]="Shift",e[e.Ctrl=5]="Ctrl",e[e.Alt=6]="Alt",e[e.PauseBreak=7]="PauseBreak",e[e.CapsLock=8]="CapsLock",e[e.Escape=9]="Escape",e[e.Space=10]="Space",e[e.PageUp=11]="PageUp",e[e.PageDown=12]="PageDown",e[e.End=13]="End",e[e.Home=14]="Home",e[e.LeftArrow=15]="LeftArrow",e[e.UpArrow=16]="UpArrow",e[e.RightArrow=17]="RightArrow",e[e.DownArrow=18]="DownArrow",e[e.Insert=19]="Insert",e[e.Delete=20]="Delete",e[e.Digit0=21]="Digit0",e[e.Digit1=22]="Digit1",e[e.Digit2=23]="Digit2",e[e.Digit3=24]="Digit3",e[e.Digit4=25]="Digit4",e[e.Digit5=26]="Digit5",e[e.Digit6=27]="Digit6",e[e.Digit7=28]="Digit7",e[e.Digit8=29]="Digit8",e[e.Digit9=30]="Digit9",e[e.KeyA=31]="KeyA",e[e.KeyB=32]="KeyB",e[e.KeyC=33]="KeyC",e[e.KeyD=34]="KeyD",e[e.KeyE=35]="KeyE",e[e.KeyF=36]="KeyF",e[e.KeyG=37]="KeyG",e[e.KeyH=38]="KeyH",e[e.KeyI=39]="KeyI",e[e.KeyJ=40]="KeyJ",e[e.KeyK=41]="KeyK",e[e.KeyL=42]="KeyL",e[e.KeyM=43]="KeyM",e[e.KeyN=44]="KeyN",e[e.KeyO=45]="KeyO",e[e.KeyP=46]="KeyP",e[e.KeyQ=47]="KeyQ",e[e.KeyR=48]="KeyR",e[e.KeyS=49]="KeyS",e[e.KeyT=50]="KeyT",e[e.KeyU=51]="KeyU",e[e.KeyV=52]="KeyV",e[e.KeyW=53]="KeyW",e[e.KeyX=54]="KeyX",e[e.KeyY=55]="KeyY",e[e.KeyZ=56]="KeyZ",e[e.Meta=57]="Meta",e[e.ContextMenu=58]="ContextMenu",e[e.F1=59]="F1",e[e.F2=60]="F2",e[e.F3=61]="F3",e[e.F4=62]="F4",e[e.F5=63]="F5",e[e.F6=64]="F6",e[e.F7=65]="F7",e[e.F8=66]="F8",e[e.F9=67]="F9",e[e.F10=68]="F10",e[e.F11=69]="F11",e[e.F12=70]="F12",e[e.F13=71]="F13",e[e.F14=72]="F14",e[e.F15=73]="F15",e[e.F16=74]="F16",e[e.F17=75]="F17",e[e.F18=76]="F18",e[e.F19=77]="F19",e[e.NumLock=78]="NumLock",e[e.ScrollLock=79]="ScrollLock",e[e.Semicolon=80]="Semicolon",e[e.Equal=81]="Equal",e[e.Comma=82]="Comma",e[e.Minus=83]="Minus",e[e.Period=84]="Period",e[e.Slash=85]="Slash",e[e.Backquote=86]="Backquote",e[e.BracketLeft=87]="BracketLeft",e[e.Backslash=88]="Backslash",e[e.BracketRight=89]="BracketRight",e[e.Quote=90]="Quote",e[e.OEM_8=91]="OEM_8",e[e.IntlBackslash=92]="IntlBackslash",e[e.Numpad0=93]="Numpad0",e[e.Numpad1=94]="Numpad1",e[e.Numpad2=95]="Numpad2",e[e.Numpad3=96]="Numpad3",e[e.Numpad4=97]="Numpad4",e[e.Numpad5=98]="Numpad5",e[e.Numpad6=99]="Numpad6",e[e.Numpad7=100]="Numpad7",e[e.Numpad8=101]="Numpad8",e[e.Numpad9=102]="Numpad9",e[e.NumpadMultiply=103]="NumpadMultiply",e[e.NumpadAdd=104]="NumpadAdd",e[e.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",e[e.NumpadSubtract=106]="NumpadSubtract",e[e.NumpadDecimal=107]="NumpadDecimal",e[e.NumpadDivide=108]="NumpadDivide",e[e.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",e[e.ABNT_C1=110]="ABNT_C1",e[e.ABNT_C2=111]="ABNT_C2",e[e.AudioVolumeMute=112]="AudioVolumeMute",e[e.AudioVolumeUp=113]="AudioVolumeUp",e[e.AudioVolumeDown=114]="AudioVolumeDown",e[e.BrowserSearch=115]="BrowserSearch",e[e.BrowserHome=116]="BrowserHome",e[e.BrowserBack=117]="BrowserBack",e[e.BrowserForward=118]="BrowserForward",e[e.MediaTrackNext=119]="MediaTrackNext",e[e.MediaTrackPrevious=120]="MediaTrackPrevious",e[e.MediaStop=121]="MediaStop",e[e.MediaPlayPause=122]="MediaPlayPause",e[e.LaunchMediaPlayer=123]="LaunchMediaPlayer",e[e.LaunchMail=124]="LaunchMail",e[e.LaunchApp2=125]="LaunchApp2",e[e.Clear=126]="Clear",e[e.MAX_VALUE=127]="MAX_VALUE",e))(KeyCode||{});class KeyCodeStrMap{constructor(){z(this,"_keyCodeToStr");z(this,"_strToKeyCode");this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(t,o){this._keyCodeToStr[t]=o,this._strToKeyCode[o.toLowerCase()]=t}keyCodeToStr(t){return this._keyCodeToStr[t]}strToKeyCode(t){return this._strToKeyCode[t.toLowerCase()]||0}}const uiMap=new KeyCodeStrMap,userSettingsUSMap=new KeyCodeStrMap,userSettingsGeneralMap=new KeyCodeStrMap,EVENT_KEY_CODE_MAP=new Array(230),scanCodeStrToInt=Object.create(null),scanCodeLowerCaseStrToInt=Object.create(null);(function(){const e="",t=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",e,e],[0,1,1,"Hyper",0,e,0,e,e,e],[0,1,2,"Super",0,e,0,e,e,e],[0,1,3,"Fn",0,e,0,e,e,e],[0,1,4,"FnLock",0,e,0,e,e,e],[0,1,5,"Suspend",0,e,0,e,e,e],[0,1,6,"Resume",0,e,0,e,e,e],[0,1,7,"Turbo",0,e,0,e,e,e],[0,1,8,"Sleep",0,e,0,"VK_SLEEP",e,e],[0,1,9,"WakeUp",0,e,0,e,e,e],[31,0,10,"KeyA",31,"A",65,"VK_A",e,e],[32,0,11,"KeyB",32,"B",66,"VK_B",e,e],[33,0,12,"KeyC",33,"C",67,"VK_C",e,e],[34,0,13,"KeyD",34,"D",68,"VK_D",e,e],[35,0,14,"KeyE",35,"E",69,"VK_E",e,e],[36,0,15,"KeyF",36,"F",70,"VK_F",e,e],[37,0,16,"KeyG",37,"G",71,"VK_G",e,e],[38,0,17,"KeyH",38,"H",72,"VK_H",e,e],[39,0,18,"KeyI",39,"I",73,"VK_I",e,e],[40,0,19,"KeyJ",40,"J",74,"VK_J",e,e],[41,0,20,"KeyK",41,"K",75,"VK_K",e,e],[42,0,21,"KeyL",42,"L",76,"VK_L",e,e],[43,0,22,"KeyM",43,"M",77,"VK_M",e,e],[44,0,23,"KeyN",44,"N",78,"VK_N",e,e],[45,0,24,"KeyO",45,"O",79,"VK_O",e,e],[46,0,25,"KeyP",46,"P",80,"VK_P",e,e],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",e,e],[48,0,27,"KeyR",48,"R",82,"VK_R",e,e],[49,0,28,"KeyS",49,"S",83,"VK_S",e,e],[50,0,29,"KeyT",50,"T",84,"VK_T",e,e],[51,0,30,"KeyU",51,"U",85,"VK_U",e,e],[52,0,31,"KeyV",52,"V",86,"VK_V",e,e],[53,0,32,"KeyW",53,"W",87,"VK_W",e,e],[54,0,33,"KeyX",54,"X",88,"VK_X",e,e],[55,0,34,"KeyY",55,"Y",89,"VK_Y",e,e],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",e,e],[22,0,36,"Digit1",22,"1",49,"VK_1",e,e],[23,0,37,"Digit2",23,"2",50,"VK_2",e,e],[24,0,38,"Digit3",24,"3",51,"VK_3",e,e],[25,0,39,"Digit4",25,"4",52,"VK_4",e,e],[26,0,40,"Digit5",26,"5",53,"VK_5",e,e],[27,0,41,"Digit6",27,"6",54,"VK_6",e,e],[28,0,42,"Digit7",28,"7",55,"VK_7",e,e],[29,0,43,"Digit8",29,"8",56,"VK_8",e,e],[30,0,44,"Digit9",30,"9",57,"VK_9",e,e],[21,0,45,"Digit0",21,"0",48,"VK_0",e,e],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",e,e],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",e,e],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",e,e],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",e,e],[10,1,50,"Space",10,"Space",32,"VK_SPACE",e,e],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,e,0,e,e,e],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",e,e],[59,1,64,"F1",59,"F1",112,"VK_F1",e,e],[60,1,65,"F2",60,"F2",113,"VK_F2",e,e],[61,1,66,"F3",61,"F3",114,"VK_F3",e,e],[62,1,67,"F4",62,"F4",115,"VK_F4",e,e],[63,1,68,"F5",63,"F5",116,"VK_F5",e,e],[64,1,69,"F6",64,"F6",117,"VK_F6",e,e],[65,1,70,"F7",65,"F7",118,"VK_F7",e,e],[66,1,71,"F8",66,"F8",119,"VK_F8",e,e],[67,1,72,"F9",67,"F9",120,"VK_F9",e,e],[68,1,73,"F10",68,"F10",121,"VK_F10",e,e],[69,1,74,"F11",69,"F11",122,"VK_F11",e,e],[70,1,75,"F12",70,"F12",123,"VK_F12",e,e],[0,1,76,"PrintScreen",0,e,0,e,e,e],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",e,e],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",e,e],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",e,e],[14,1,80,"Home",14,"Home",36,"VK_HOME",e,e],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",e,e],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",e,e],[13,1,83,"End",13,"End",35,"VK_END",e,e],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",e,e],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",e],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",e],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",e],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",e],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",e,e],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",e,e],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",e,e],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",e,e],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",e,e],[3,1,94,"NumpadEnter",3,e,0,e,e,e],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",e,e],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",e,e],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",e,e],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",e,e],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",e,e],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",e,e],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",e,e],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",e,e],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",e,e],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",e,e],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",e,e],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",e,e],[58,1,107,"ContextMenu",58,"ContextMenu",93,e,e,e],[0,1,108,"Power",0,e,0,e,e,e],[0,1,109,"NumpadEqual",0,e,0,e,e,e],[71,1,110,"F13",71,"F13",124,"VK_F13",e,e],[72,1,111,"F14",72,"F14",125,"VK_F14",e,e],[73,1,112,"F15",73,"F15",126,"VK_F15",e,e],[74,1,113,"F16",74,"F16",127,"VK_F16",e,e],[75,1,114,"F17",75,"F17",128,"VK_F17",e,e],[76,1,115,"F18",76,"F18",129,"VK_F18",e,e],[77,1,116,"F19",77,"F19",130,"VK_F19",e,e],[0,1,117,"F20",0,e,0,"VK_F20",e,e],[0,1,118,"F21",0,e,0,"VK_F21",e,e],[0,1,119,"F22",0,e,0,"VK_F22",e,e],[0,1,120,"F23",0,e,0,"VK_F23",e,e],[0,1,121,"F24",0,e,0,"VK_F24",e,e],[0,1,122,"Open",0,e,0,e,e,e],[0,1,123,"Help",0,e,0,e,e,e],[0,1,124,"Select",0,e,0,e,e,e],[0,1,125,"Again",0,e,0,e,e,e],[0,1,126,"Undo",0,e,0,e,e,e],[0,1,127,"Cut",0,e,0,e,e,e],[0,1,128,"Copy",0,e,0,e,e,e],[0,1,129,"Paste",0,e,0,e,e,e],[0,1,130,"Find",0,e,0,e,e,e],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",e,e],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",e,e],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",e,e],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",e,e],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",e,e],[0,1,136,"KanaMode",0,e,0,e,e,e],[0,0,137,"IntlYen",0,e,0,e,e,e],[0,1,138,"Convert",0,e,0,e,e,e],[0,1,139,"NonConvert",0,e,0,e,e,e],[0,1,140,"Lang1",0,e,0,e,e,e],[0,1,141,"Lang2",0,e,0,e,e,e],[0,1,142,"Lang3",0,e,0,e,e,e],[0,1,143,"Lang4",0,e,0,e,e,e],[0,1,144,"Lang5",0,e,0,e,e,e],[0,1,145,"Abort",0,e,0,e,e,e],[0,1,146,"Props",0,e,0,e,e,e],[0,1,147,"NumpadParenLeft",0,e,0,e,e,e],[0,1,148,"NumpadParenRight",0,e,0,e,e,e],[0,1,149,"NumpadBackspace",0,e,0,e,e,e],[0,1,150,"NumpadMemoryStore",0,e,0,e,e,e],[0,1,151,"NumpadMemoryRecall",0,e,0,e,e,e],[0,1,152,"NumpadMemoryClear",0,e,0,e,e,e],[0,1,153,"NumpadMemoryAdd",0,e,0,e,e,e],[0,1,154,"NumpadMemorySubtract",0,e,0,e,e,e],[0,1,155,"NumpadClear",126,"Clear",12,"VK_CLEAR",e,e],[0,1,156,"NumpadClearEntry",0,e,0,e,e,e],[5,1,0,e,5,"Ctrl",17,"VK_CONTROL",e,e],[4,1,0,e,4,"Shift",16,"VK_SHIFT",e,e],[6,1,0,e,6,"Alt",18,"VK_MENU",e,e],[57,1,0,e,57,"Meta",0,"VK_COMMAND",e,e],[5,1,157,"ControlLeft",5,e,0,"VK_LCONTROL",e,e],[4,1,158,"ShiftLeft",4,e,0,"VK_LSHIFT",e,e],[6,1,159,"AltLeft",6,e,0,"VK_LMENU",e,e],[57,1,160,"MetaLeft",57,e,0,"VK_LWIN",e,e],[5,1,161,"ControlRight",5,e,0,"VK_RCONTROL",e,e],[4,1,162,"ShiftRight",4,e,0,"VK_RSHIFT",e,e],[6,1,163,"AltRight",6,e,0,"VK_RMENU",e,e],[57,1,164,"MetaRight",57,e,0,"VK_RWIN",e,e],[0,1,165,"BrightnessUp",0,e,0,e,e,e],[0,1,166,"BrightnessDown",0,e,0,e,e,e],[0,1,167,"MediaPlay",0,e,0,e,e,e],[0,1,168,"MediaRecord",0,e,0,e,e,e],[0,1,169,"MediaFastForward",0,e,0,e,e,e],[0,1,170,"MediaRewind",0,e,0,e,e,e],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",e,e],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",e,e],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",e,e],[0,1,174,"Eject",0,e,0,e,e,e],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",e,e],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",e,e],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",e,e],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",e,e],[0,1,179,"LaunchApp1",0,e,0,"VK_MEDIA_LAUNCH_APP1",e,e],[0,1,180,"SelectTask",0,e,0,e,e,e],[0,1,181,"LaunchScreenSaver",0,e,0,e,e,e],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",e,e],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",e,e],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",e,e],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",e,e],[0,1,186,"BrowserStop",0,e,0,"VK_BROWSER_STOP",e,e],[0,1,187,"BrowserRefresh",0,e,0,"VK_BROWSER_REFRESH",e,e],[0,1,188,"BrowserFavorites",0,e,0,"VK_BROWSER_FAVORITES",e,e],[0,1,189,"ZoomToggle",0,e,0,e,e,e],[0,1,190,"MailReply",0,e,0,e,e,e],[0,1,191,"MailForward",0,e,0,e,e,e],[0,1,192,"MailSend",0,e,0,e,e,e],[109,1,0,e,109,"KeyInComposition",229,e,e,e],[111,1,0,e,111,"ABNT_C2",194,"VK_ABNT_C2",e,e],[91,1,0,e,91,"OEM_8",223,"VK_OEM_8",e,e],[0,1,0,e,0,e,0,"VK_KANA",e,e],[0,1,0,e,0,e,0,"VK_HANGUL",e,e],[0,1,0,e,0,e,0,"VK_JUNJA",e,e],[0,1,0,e,0,e,0,"VK_FINAL",e,e],[0,1,0,e,0,e,0,"VK_HANJA",e,e],[0,1,0,e,0,e,0,"VK_KANJI",e,e],[0,1,0,e,0,e,0,"VK_CONVERT",e,e],[0,1,0,e,0,e,0,"VK_NONCONVERT",e,e],[0,1,0,e,0,e,0,"VK_ACCEPT",e,e],[0,1,0,e,0,e,0,"VK_MODECHANGE",e,e],[0,1,0,e,0,e,0,"VK_SELECT",e,e],[0,1,0,e,0,e,0,"VK_PRINT",e,e],[0,1,0,e,0,e,0,"VK_EXECUTE",e,e],[0,1,0,e,0,e,0,"VK_SNAPSHOT",e,e],[0,1,0,e,0,e,0,"VK_HELP",e,e],[0,1,0,e,0,e,0,"VK_APPS",e,e],[0,1,0,e,0,e,0,"VK_PROCESSKEY",e,e],[0,1,0,e,0,e,0,"VK_PACKET",e,e],[0,1,0,e,0,e,0,"VK_DBE_SBCSCHAR",e,e],[0,1,0,e,0,e,0,"VK_DBE_DBCSCHAR",e,e],[0,1,0,e,0,e,0,"VK_ATTN",e,e],[0,1,0,e,0,e,0,"VK_CRSEL",e,e],[0,1,0,e,0,e,0,"VK_EXSEL",e,e],[0,1,0,e,0,e,0,"VK_EREOF",e,e],[0,1,0,e,0,e,0,"VK_PLAY",e,e],[0,1,0,e,0,e,0,"VK_ZOOM",e,e],[0,1,0,e,0,e,0,"VK_NONAME",e,e],[0,1,0,e,0,e,0,"VK_PA1",e,e],[0,1,0,e,0,e,0,"VK_OEM_CLEAR",e,e]],o=[],s=[];for(const a of t){const[n,i,r,d,c,f,p,l,u,h]=a;if(s[r]||(s[r]=!0,scanCodeStrToInt[d]=r,scanCodeLowerCaseStrToInt[d.toLowerCase()]=r),!o[c]){if(o[c]=!0,!f)throw new Error(`String representation missing for key code ${c} around scan code ${d}`);uiMap.define(c,f),userSettingsUSMap.define(c,u||f),userSettingsGeneralMap.define(c,h||u||f)}p&&(EVENT_KEY_CODE_MAP[p]=c)}})();var KeyCodeUtils;(e=>{function t(r){return uiMap.keyCodeToStr(r)}e.toString=t;function o(r){return uiMap.strToKeyCode(r)}e.fromString=o;function s(r){return userSettingsUSMap.keyCodeToStr(r)}e.toUserSettingsUS=s;function a(r){return userSettingsGeneralMap.keyCodeToStr(r)}e.toUserSettingsGeneral=a;function n(r){return userSettingsUSMap.strToKeyCode(r)||userSettingsGeneralMap.strToKeyCode(r)}e.fromUserSettings=n;function i(r){if(r>=93&&r<=108)return null;switch(r){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return uiMap.keyCodeToStr(r)}e.toElectronAccelerator=i})(KeyCodeUtils||(KeyCodeUtils={}));function init$d(){return{has,getDamageColor,parseCss,tip:tip$1}}function has(e){return!lodash.exports.isNil(e)}function getDamageColor(e){return typeof e!="number"?"#f00":e===0?"#2f2":e<0?"#7f7":e<core.status.hero.hp/3?"#fff":e<core.status.hero.hp*2/3?"#ff4":e<core.status.hero.hp?"#f93":"#f22"}function setCanvasSize(e,t,o){e.width=t,e.height=o,e.style.width=`${t}px`,e.style.height=`${o}px`}function keycode(e){return EVENT_KEY_CODE_MAP[e]}function parseCss(e){const o=e.replace(/[\n\s\t]*/g,"").replace(/;*/g,";").split(";"),s={};for(const a of o){const[n,i]=a.split(":"),r=n.replace(/\-([a-z])/g,(d,c)=>c.toUpperCase());s[r]=i}return s}function type(str,time=1e3,timing=e=>e,avr=!1){const toShow=eval("`"+str+"`");if(typeof toShow!="string")throw new TypeError("Error str type in typing!");if(toShow.startsWith("!!html"))return ref(toShow);avr&&(time*=toShow.length);const ani=new R,content=ref(""),all=toShow.length,fn=e=>{if(!has(e))return;const t=ani.x;content.value=toShow.slice(0,Math.floor(t)),Math.floor(t)===all&&(ani.ticker.destroy(),content.value=toShow)};return ani.ticker.add(fn),ani.mode(timing).time(time).move(all,0),setTimeout(()=>ani.ticker.destroy(),time+100),content}function tip$1(e,t){message[e]({content:t,class:"antdv-message"})}function splitText(e){return e.map((t,o,s)=>/^\d+\./.test(t)?`${"&nbsp;".repeat(12)}${t}`:has(s[o-1])&&t!=="<br>"&&s[o-1]==="<br>"||o===0?`${"&nbsp;".repeat(8)}${t}`:t).join("")}function downloadCanvasImage(e,t){const o=e.toDataURL("image/png");download(o,t)}function download(e,t){const o=document.createElement("a");o.download=`${t}.png`,o.href=e,document.body.appendChild(o),o.click(),document.body.removeChild(o)}const animation=[];let animateTime=0;function init$c(){return core.registerAnimationFrame("animateController",!0,e=>{if(!(e-animateTime<=core.values.animateSpeed)){for(const t of animation)t(e);animateTime=core.animateFrame.animateTime}}),{addAnimate,removeAnimate}}function addAnimate(e){animation.push(e)}function removeAnimate(e){const t=animation.findIndex(o=>o===e);t!==-1&&animation.splice(t,1)}const _hoisted_1$p=["width","height","id"],_sfc_main$p=defineComponent({__name:"boxAnimate",props:{id:null,noborder:{type:Boolean},width:null,height:null},setup(e){const t=e,o=(Math.random()*1e8).toFixed(0);let s,a,n;function i(){var l,u;if(o==="none")return;has(n)&&removeAnimate(n);const r=core.getClsFromId(t.id),d=core.getAnimateFrames(r),c=(l=t.width)!=null?l:32,f=(u=t.height)!=null?u:32;t.noborder||(s.style.border="1.5px solid #ddd",s.style.backgroundColor="#222");const p=window.devicePixelRatio;if(s.style.width=`${c}px`,s.style.height=`${f}px`,s.width=p*c,s.height=p*f,a.scale(p,p),t.id!=="none")if(t.id==="hero"){const h=core.material.images.hero;a.drawImage(h,0,0,h.width/4,h.height/4,0,0,c,f)}else d===1?core.drawIcon(a,t.id,0,0,t.width,t.height):(n=()=>{core.clearMap(a);const h=core.status.globalAnimateStatus%d;core.drawIcon(a,t.id,0,0,c,f,h)},n(),addAnimate(n),onUnmounted(()=>{removeAnimate(n)}))}return onMounted(()=>{s=document.getElementById(`box-animate-${o}`),a=s.getContext("2d"),i()}),onUpdated(()=>{i()}),(r,d)=>{var c,f;return openBlock(),createElementBlock("canvas",{width:(c=e.width)!=null?c:32,height:(f=e.height)!=null?f:32,id:`box-animate-${unref(o)}`},null,8,_hoisted_1$p)}}});function init$b(){return{useDrag,useWheel,useUp,isMobile}}const dragFnMap=new Map,isMobile=matchMedia("(max-width: 600px)").matches;function useDrag(e,t,o,s,a=!1){let n=!1;const i=u=>{n=!0,o&&o(u.clientX,u.clientY,u)},r=u=>{n=!0,o&&o(u.touches[0].clientX,u.touches[0].clientY,u)};e instanceof Array?e.forEach(u=>{u.addEventListener("mousedown",i),u.addEventListener("touchstart",r)}):(e.addEventListener("mousedown",i),e.addEventListener("touchstart",r));const d=a?document:e,c=u=>{!n||t(u.clientX,u.clientY,u)},f=u=>{!n||t(u.touches[0].clientX,u.touches[0].clientY,u)},p=u=>{!n||(s&&s(u),n=!1)},l=u=>{!n||(s&&s(u),n=!1)};d instanceof Array?d.forEach(u=>{u.addEventListener("mouseup",p),u.addEventListener("touchend",l),u.addEventListener("mousemove",c),u.addEventListener("touchmove",f)}):(d.addEventListener("mouseup",p),d.addEventListener("touchend",l),d.addEventListener("mousemove",c),d.addEventListener("touchmove",f)),dragFnMap.set(t,[c,f,p,l])}function cancelGlobalDrag(e){const t=dragFnMap.get(e);dragFnMap.delete(e),t&&(document.removeEventListener("mousemove",t[0]),document.removeEventListener("touchmove",t[1]),document.removeEventListener("mouseup",t[0]),document.removeEventListener("touchend",t[1]))}function useWheel(e,t){e.addEventListener("wheel",o=>{t(o.deltaX,o.deltaY,o.deltaZ,o)})}function useUp(e,t){e.addEventListener("mouseup",o=>{t(o.clientX,o.clientY,o)}),e.addEventListener("touchend",o=>{t(o.touches[0].clientX,o.touches[0].clientY,o)})}const _hoisted_1$o=["selected"],_hoisted_2$l={class:"info"},_hoisted_3$l={class:"leftbar"},_hoisted_4$i={class:"name"},_hoisted_5$f={key:0,class:"special-text"},_hoisted_6$d={key:1,class:"special-text"},_hoisted_7$b={class:"rightbar"},_hoisted_8$a={class:"detail"},_hoisted_9$a={class:"detail-info"},_hoisted_10$8={style:{color:"lightgreen"}},_hoisted_11$8={class:"detail-info"},_hoisted_12$6={style:{color:"lightcoral"}},_hoisted_13$6={class:"detail-info"},_hoisted_14$6={style:{color:"lightblue"}},_hoisted_15$5={class:"detail-info"},_hoisted_16$5={style:{color:"lightyellow"}},_hoisted_17$4={class:"detail-info"},_hoisted_18$4={style:{color:"lawngreen"}},_hoisted_19$4={class:"detail-info"},_hoisted_20$4={class:"detail-info"},_hoisted_21$4={style:{color:"lightsalmon"}},_hoisted_22$3={class:"detail-info"},_hoisted_23$3={style:{color:"lightpink"}},_hoisted_24$3={style:{"font-family":"'Fira Code'"}},_hoisted_25$2={class:"detail-info"},_hoisted_26$2={style:{color:"cyan"}},_sfc_main$o=defineComponent({__name:"enemyOne",props:{enemy:null,selected:{type:Boolean}},emits:["select","hover"],setup(e,{emit:t}){const o=window.core,s=window.innerWidth*.032;function a(i){t("select")}function n(){t("hover")}return(i,r)=>{const d=__unplugin_components_0;return openBlock(),createElementBlock("div",{class:"enemy-container",onClick:a,onMouseenter:n,selected:e.selected},[createBaseVNode("div",_hoisted_2$l,[createBaseVNode("div",_hoisted_3$l,[createBaseVNode("span",_hoisted_4$i,toDisplayString(e.enemy.name),1),createVNode(_sfc_main$p,{id:e.enemy.id,width:unref(isMobile)?32:s,height:unref(isMobile)?32:s,style:{margin:"5%"}},null,8,["id","width","height"]),unref(has)(e.enemy.special)&&e.enemy.special.length>0?(openBlock(),createElementBlock("div",_hoisted_5$f,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.enemy.toShowSpecial,(c,f)=>(openBlock(),createElementBlock("span",{style:normalizeStyle({color:e.enemy.toShowColor[f]})},"\xA0"+toDisplayString(c)+"\xA0",5))),256))])):(openBlock(),createElementBlock("div",_hoisted_6$d,"\u65E0\u5C5E\u6027"))]),createVNode(d,{type:"vertical",dashed:"",style:{height:"100%",margin:"0 3% 0 1%","border-color":"#ddd4"}}),createBaseVNode("div",_hoisted_7$b,[createBaseVNode("div",_hoisted_8$a,[createBaseVNode("div",_hoisted_9$a,[createBaseVNode("span",_hoisted_10$8,"\u751F\u547D\xA0\xA0\xA0\xA0"+toDisplayString(unref(o).formatBigNumber(e.enemy.hp)),1)]),createBaseVNode("div",_hoisted_11$8,[createBaseVNode("span",_hoisted_12$6,"\u653B\u51FB\xA0\xA0\xA0\xA0"+toDisplayString(unref(o).formatBigNumber(e.enemy.atk)),1)]),createBaseVNode("div",_hoisted_13$6,[createBaseVNode("span",_hoisted_14$6,"\u9632\u5FA1\xA0\xA0\xA0\xA0"+toDisplayString(unref(o).formatBigNumber(e.enemy.def)),1)]),createBaseVNode("div",_hoisted_15$5,[createBaseVNode("span",_hoisted_16$5,"\u91D1\u5E01\xA0\xA0\xA0\xA0"+toDisplayString(unref(o).formatBigNumber(e.enemy.money)),1)]),createBaseVNode("div",_hoisted_17$4,[createBaseVNode("span",_hoisted_18$4,"\u7ECF\u9A8C\xA0\xA0\xA0\xA0"+toDisplayString(unref(o).formatBigNumber(e.enemy.exp)),1)]),createBaseVNode("div",_hoisted_19$4,[createBaseVNode("span",{style:normalizeStyle({color:e.enemy.damageColor})},"\u4F24\u5BB3\xA0\xA0\xA0\xA0"+toDisplayString(unref(o).formatBigNumber(e.enemy.damage)),5)]),createBaseVNode("div",_hoisted_20$4,[createBaseVNode("span",_hoisted_21$4,"\u4E34\u754C\xA0\xA0\xA0\xA0"+toDisplayString(unref(o).formatBigNumber(e.enemy.critical)),1)]),createBaseVNode("div",_hoisted_22$3,[createBaseVNode("span",_hoisted_23$3,[createTextVNode("\u51CF\u4F24\xA0\xA0\xA0\xA0"),createBaseVNode("span",{style:normalizeStyle({color:e.enemy.criticalDamage<0&&!unref(has)(e.enemy.damage)?"gold":"lightpink"})},[createBaseVNode("span",_hoisted_24$3,toDisplayString(e.enemy.criticalDamage<0&&!unref(has)(e.enemy.damage)?unref(isMobile)?"-":"=>":""),1),createTextVNode(toDisplayString(unref(o).formatBigNumber(e.enemy.criticalDamage<0?-e.enemy.criticalDamage:e.enemy.criticalDamage)),1)],4)])]),createBaseVNode("div",_hoisted_25$2,[createBaseVNode("span",_hoisted_26$2,toDisplayString(unref(o).formatBigNumber(unref(o).status.thisMap.ratio))+"\u9632\xA0\xA0\xA0\xA0"+toDisplayString(unref(o).formatBigNumber(e.enemy.defDamage)),1)])])])])],40,_hoisted_1$o)}}}),enemyOne_vue_vue_type_style_index_0_scoped_03a35715_lang="",_export_sfc=(e,t)=>{const o=e.__vccOpts||e;for(const[s,a]of t)o[s]=a;return o},EnemyOne=_export_sfc(_sfc_main$o,[["__scopeId","data-v-03a35715"]]),_hoisted_1$n=["id"],_hoisted_2$k={class:"main-div"},_hoisted_3$k=["id"],_hoisted_4$h=["id"],_sfc_main$n=defineComponent({__name:"scroll",props:{now:null,type:null,drag:{type:Boolean},width:null,update:{type:Boolean},noScroll:{type:Boolean}},emits:["update:now","update:drag","update:update"],setup(e,{emit:t}){var E;const o=e;let s,a=0,n=0;const i=(1e8*Math.random()).toFixed(0),r=window.devicePixelRatio,d=(E=o.width)!=null?E:20,c=o.type==="horizontal"?"left":"top",f=o.type==="horizontal"?"width":"height";let p,l,u=!1;const h=async()=>{await _(),m()};function m(){if(n===0||(n<p.canvas[f]/r?a=0:a>n-p.canvas[f]/r?a=n-p.canvas[f]/r:a<0&&(a=0),o.noScroll))return;const b=p.canvas.width,x=p.canvas.height;t("update:now",a);const T=Math.min(p.canvas[f]/n/r,1)*p.canvas[f],L=a/n*p.canvas[f];p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),o.type==="horizontal"?(p.moveTo(Math.max(L+5,5),x/2),p.lineTo(Math.min(L+T-5,p.canvas.width-5),x/2)):(p.moveTo(b/2,Math.max(L+5,5)),p.lineTo(b/2,Math.min(L+T-5,p.canvas.height-5))),p.lineCap="round",p.lineWidth=6,p.strokeStyle="#fff",p.stroke()}async function _(){await S(20);const b=p.canvas,x=getComputedStyle(b);b.style.width=`${d}px`,b.width=d*r,b.height=parseFloat(x.height)*r,o.noScroll&&(b.style.width="0px"),o.type==="horizontal"&&(s.style.flexDirection="column",b.style.height=`${d}px`,b.style.width="98%",b.style.margin="0 1% 0 1%",b.width=parseFloat(x.width)*r,b.height=d*r,o.noScroll&&(b.style.height="0px")),await new Promise(T=>{requestAnimationFrame(()=>{const L=getComputedStyle(l);n=parseFloat(L[f]),T("")})})}function y(){m(),l.style[c]=`${-a}px`}onUpdated(async()=>{var b;u||(a=(b=o.now)!=null?b:a,l.style.transition=`${c} 0.2s ease-out`,await _(),y())});let g,$;function F(b,x){t("update:drag",!0);const T=o.type==="horizontal"?b:x,L=T-g;g=T,p.canvas[f]<n*r&&(a+=L*n/p.canvas[f]*r),y()}function N(b,x){t("update:drag",!0);const T=o.type==="horizontal"?b:x,L=T-$;$=T,p.canvas[f]<n*r&&(a-=L),y()}return onMounted(async()=>{s=document.getElementById(`scroll-div-${i}`),l=document.getElementById(`content-${i}`);const x=document.getElementById(`scroll-${i}`);p=x.getContext("2d"),o.noScroll||useDrag(x,F,(T,L)=>{u=!0,g=o.type==="horizontal"?T:L,l.style.transition=""},()=>{setTimeout(()=>t("update:drag",!1)),u=!1},!0),useDrag(l,N,(T,L)=>{u=!0,$=o.type==="horizontal"?T:L,l.style.transition=""},()=>{setTimeout(()=>t("update:drag",!1)),u=!1},!0),useWheel(l,(T,L)=>{u=!0;const M=T!==0?T:L;Math.abs(M)>30?l.style.transition=`${c} 0.2s ease-out`:l.style.transition="",a+=M,y(),u=!1}),window.addEventListener("resize",h),await _(),m()}),onUnmounted(()=>{window.removeEventListener("resize",h),cancelGlobalDrag(F),cancelGlobalDrag(N)}),(b,x)=>(openBlock(),createElementBlock("div",{id:`scroll-div-${unref(i)}`,class:"scroll-main"},[createBaseVNode("div",_hoisted_2$k,[createBaseVNode("div",{id:`content-${unref(i)}`,class:"content"},[renderSlot(b.$slots,"default",{},void 0,!0)],8,_hoisted_3$k)]),createBaseVNode("canvas",{id:`scroll-${unref(i)}`,class:"scroll"},null,8,_hoisted_4$h)],8,_hoisted_1$n))}}),scroll_vue_vue_type_style_index_0_scoped_1626479d_lang="",Scroll=_export_sfc(_sfc_main$n,[["__scopeId","data-v-1626479d"]]);function getSpecialHint(e){const t=core.getSpecials().filter(a=>e.special.includes(a[0])).sort((a,n)=>a[0]-n[0]),o=t.map(a=>{const n=a[2];return n instanceof Function?n(e):n}),s=t.map(a=>{const n=a[1];return n instanceof Function?n(e):n});return createVNode("div",null,[t.map((a,n)=>createVNode("div",{class:"special"},[createVNode("span",{style:{color:core.arrayToRGBA(a[3])}},[createTextVNode("\xA0\xA0\xA0\xA0"),s[n],createTextVNode("\uFF1A")]),createVNode("span",{innerHTML:o[n]},null)]))])}function getDefDamage(e,t=0,o=0,s,a,n){var f;const i=core.status.thisMap.ratio,r=[];let d;const c=100-Math.floor(t/i);for(let p=0;p<=c;p++){const l=core.getDamageInfo(e.id,{def:core.getStatus("def")+i*p+t,atk:core.getStatus("atk")+o},s,a,n);if(r.length===0){d=l==null?void 0:l.damage,has(d)&&r.push([t+p*i,d]);continue}!has(l)||l.damage!==((f=r.at(-1))==null?void 0:f[1])&&(l.damage,r.push([i*p+t,l.damage]))}return r}function getCriticalDamage(e,t=0,o=0,s,a,n){var f;const i=core.status.thisMap.ratio,r=[];let d;const c=100-Math.floor(t/i);for(let p=0;p<=c;p++){const l=core.getDamageInfo(e.id,{atk:core.getStatus("atk")+i*p+t,def:core.getStatus("def")+o},s,a,n);if(r.length===0){d=l==null?void 0:l.damage,has(d)&&r.push([t+p*i,d]);continue}!has(l)||l.damage!==((f=r.at(-1))==null?void 0:f[1])&&(l.damage,r.push([i*p+t,l.damage]))}return r}const _withScopeId$a=e=>(pushScopeId("data-v-723dadcb"),e=e(),popScopeId(),e),_hoisted_1$m={id:"special-main"},_hoisted_2$j={id:"special"},_hoisted_3$j={id:"critical"},_hoisted_4$g=_withScopeId$a(()=>createBaseVNode("div",{style:{"font-size":"2.5vh",width:"100%","text-align":"center"}}," \u4E34\u754C\u8868 ",-1)),_hoisted_5$e={id:"critical-main"},_hoisted_6$c=_withScopeId$a(()=>createBaseVNode("div",{id:"critical-des"},[createBaseVNode("span",null,"\u52A0\u653B"),createBaseVNode("span",null,"\u51CF\u4F24")],-1)),_hoisted_7$a={class:"critical"},_hoisted_8$9={class:"critical-atk"},_hoisted_9$9={style:{"font-family":"'Fira Code'"}},_sfc_main$m=defineComponent({__name:"enemySpecial",props:{fromBook:{type:Boolean}},setup(e){const t=e,[o,s]=t.fromBook?[void 0,void 0]:flags.mouseLoc,a=has(o)?Math.round(o+core.bigmap.offsetX/32):void 0,n=has(s)?Math.round(s+core.bigmap.offsetY/32):void 0,i=core.plugin.bookDetailEnemy,r=getSpecialHint(i),d=core.nextCriticals(i,isMobile?4:8,a,n),c=core.formatBigNumber;return(f,p)=>{const l=Scroll,u=__unplugin_components_0;return openBlock(),createElementBlock("div",_hoisted_1$m,[createVNode(l,{id:"special-scroll"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_2$j,[(openBlock(),createBlock(resolveDynamicComponent(unref(r))))])]),_:1}),createVNode(u,{dashed:"",style:{margin:"2vh 0 2vh 0","border-color":"#ddd4"}}),createBaseVNode("div",_hoisted_3$j,[_hoisted_4$g,createBaseVNode("div",_hoisted_5$e,[_hoisted_6$c,(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(d),([h,m])=>(openBlock(),createElementBlock("div",_hoisted_7$a,[createBaseVNode("span",_hoisted_8$9,toDisplayString(unref(c)(h)),1),createBaseVNode("span",null,[createBaseVNode("span",_hoisted_9$9,toDisplayString(m<0?"=>":""),1),createTextVNode(toDisplayString(m<0?`${unref(c)(-m)}`:unref(c)(m)),1)])]))),256))])])])}}}),enemySpecial_vue_vue_type_style_index_0_scoped_723dadcb_lang="",EnemySpecial=_export_sfc(_sfc_main$m,[["__scopeId","data-v-723dadcb"]]),index$4="",index$3="";Chart.register(...registerables);const _withScopeId$9=e=>(pushScopeId("data-v-10edff82"),e=e(),popScopeId(),e),_hoisted_1$l={id:"critical-main"},_hoisted_2$i={id:"critical"},_hoisted_3$i=_withScopeId$9(()=>createBaseVNode("div",{class:"des"},"\u52A0\u653B\u4F24\u5BB3",-1)),_hoisted_4$f={class:"slider-div"},_hoisted_5$d={id:"def"},_hoisted_6$b=_withScopeId$9(()=>createBaseVNode("div",{class:"des"},"\u52A0\u9632\u4F24\u5BB3",-1)),_hoisted_7$9={class:"slider-div"},_hoisted_8$8={id:"now-damage"},_hoisted_9$8={style:{"font-family":"'Fira Code'"}},_sfc_main$l=defineComponent({__name:"enemyCritical",props:{fromBook:{type:Boolean}},setup(e){const t=e,o=ref(),s=ref(),a=core.plugin.bookDetailEnemy,n=Math.ceil,i=ref(t.fromBook?void 0:flags.mouseLoc[0]),r=ref(t.fromBook?void 0:flags.mouseLoc[1]);i.value=has(i.value)?Math.round(i.value+core.bigmap.offsetX/32):void 0,r.value=has(r.value)?Math.round(r.value+core.bigmap.offsetY/32):void 0;let d=getCriticalDamage(a,0,0,i.value,r.value),c=getDefDamage(a,0,0,i.value,r.value);const f=ref(d),p=ref(c),l=ref(0),u=ref(0),h=core.getDamageInfo(a.id,void 0,i.value,r.value),m=core.formatBigNumber,_=core.status.thisMap.ratio,y=computed(()=>{const N=core.getDamageInfo(a.id,{atk:core.getStatus("atk")+l.value*_,def:core.getStatus("def")+u.value*_},i.value,r.value);return has(N)?has(h)?[h.damage-N.damage,N.damage]:[-N.damage,N.damage]:["???","???"]});function g(N,E){Chart.defaults.color="#aaa";const b={type:"line",data:$(E),options:{elements:{point:{radius:5,hoverRadius:7},line:{borderJoinStyle:"round"}},scales:{y:{grid:{color:"#ddd3"}}},plugins:{legend:{display:!1}}}};return new Chart(N,b)}function $(N){return{datasets:[{data:N.map(E=>E[1]),label:"\u602A\u7269\u4F24\u5BB3"}],labels:N.map(E=>Math.round(E[0]/_))}}const F=lodash.exports.debounce((N,E)=>{f.value=getCriticalDamage(a,l.value*_,u.value*_,i.value,r.value),p.value=getDefDamage(a,u.value*_,l.value*_,i.value,r.value),f.value.length>d.length&&(d=f.value),p.value.length>c.length&&(c=p.value),N.data=$(f.value),E.data=$(p.value),N.update("resize"),E.update("resize")},200);return onMounted(()=>{const N=document.getElementById("critical-main"),E=getComputedStyle(N),b=parseFloat(E.width),x=window.innerHeight/5,T=o.value,L=s.value;setCanvasSize(T,b,x),setCanvasSize(L,b,x);const M=g(T,f.value),H=g(L,p.value);watch(l,W=>{F(M,H)}),watch(u,W=>{F(M,H)})}),(N,E)=>{var T,L,M,H,W,Q,ee,se;const b=__unplugin_components_0$1,x=__unplugin_components_0;return openBlock(),createElementBlock("div",_hoisted_1$l,[createBaseVNode("div",_hoisted_2$i,[_hoisted_3$i,createBaseVNode("canvas",{ref_key:"critical",ref:o,class:"chart"},null,512),createBaseVNode("div",_hoisted_4$f,[createBaseVNode("span",null,"\u52A0\u653B\u6B21\u6570\xA0\xA0\xA0\xA0"+toDisplayString(l.value),1),createVNode(b,{class:"slider",value:l.value,"onUpdate:value":E[0]||(E[0]=te=>l.value=te),max:unref(n)(((L=(T=unref(d).at(-1))==null?void 0:T[0])!=null?L:2)/unref(_))-1},null,8,["value","max"]),createBaseVNode("span",null,"\u6700\u5927\u503C\xA0\xA0\xA0\xA0"+toDisplayString(unref(n)(((H=(M=unref(d).at(-1))==null?void 0:M[0])!=null?H:2)/unref(_))-1),1)])]),createVNode(x,{dashed:"",style:{width:"100%","border-color":"#ddd4",margin:"1vh 0 1vh 0"}}),createBaseVNode("div",_hoisted_5$d,[_hoisted_6$b,createBaseVNode("canvas",{ref_key:"def",ref:s,class:"chart"},null,512),createBaseVNode("div",_hoisted_7$9,[createBaseVNode("span",null,"\u52A0\u9632\u6B21\u6570\xA0\xA0\xA0\xA0"+toDisplayString(u.value),1),createVNode(b,{class:"slider",value:u.value,"onUpdate:value":E[1]||(E[1]=te=>u.value=te),max:unref(n)(((Q=(W=unref(c).at(-1))==null?void 0:W[0])!=null?Q:2)/unref(_))-1},null,8,["value","max"]),createBaseVNode("span",null,"\u6700\u5927\u503C\xA0\xA0\xA0\xA0"+toDisplayString(unref(n)(((se=(ee=unref(c).at(-1))==null?void 0:ee[0])!=null?se:2)/unref(_))-1),1)])]),createBaseVNode("div",_hoisted_8$8,[createBaseVNode("div",null,[createBaseVNode("span",null,"\u5F53\u524D\u52A0\u653B"+toDisplayString(unref(isMobile)?"":"\xA0\xA0\xA0\xA0"),1),createBaseVNode("span",null,toDisplayString(unref(m)(l.value*unref(_))),1)]),createBaseVNode("div",null,[createBaseVNode("span",null,"\u5F53\u524D\u52A0\u9632"+toDisplayString(unref(isMobile)?"":"\xA0\xA0\xA0\xA0"),1),createBaseVNode("span",null,toDisplayString(unref(m)(u.value*unref(_))),1)]),createBaseVNode("div",null,[createBaseVNode("span",null,"\u5F53\u524D\u51CF\u4F24"+toDisplayString(unref(isMobile)?"":"\xA0\xA0\xA0\xA0"),1),createBaseVNode("span",null,[createBaseVNode("span",_hoisted_9$8,toDisplayString(unref(y)[0]<0&&!unref(has)(unref(a).damage)?"=>":""),1),createTextVNode(toDisplayString(unref(y)[0]<0&&!unref(has)(unref(a).damage)?unref(m)(-unref(y)[0]):unref(m)(unref(y)[0])),1)])]),createBaseVNode("div",null,[createBaseVNode("span",null,"\u5F53\u524D\u4F24\u5BB3"+toDisplayString(unref(isMobile)?"":"\xA0\xA0\xA0\xA0"),1),createBaseVNode("span",null,toDisplayString(unref(m)(unref(y)[1])),1)])])])}}}),enemyCritical_vue_vue_type_style_index_0_scoped_10edff82_lang="",EnemyCritical=_export_sfc(_sfc_main$l,[["__scopeId","data-v-10edff82"]]),showMarkedEnemy=ref(!1),markedEnemy=reactive([]),markInfo={},criticalReached={},enemyDamageInfo={};function markEnemy$1(e){var t,o;hasMarkedEnemy(e)||(markedEnemy.push(e),markInfo[e]={nextCritical:(o=(t=core.nextCriticals(e,1)[0])==null?void 0:t[0])!=null?o:0+core.status.hero.atk},criticalReached[e]={0:!0},enemyDamageInfo[e]={1:!1,2:!1,3:!1},getMarkInfo(e,!0),checkMarkedEnemy(!0))}function hasMarkedEnemy(e){return markedEnemy.includes(e)}function unmarkEnemy(e){const t=markedEnemy.indexOf(e);t!==-1&&(markedEnemy.splice(t,1),checkMarkedEnemy())}function getMarkedEnemy(){return markedEnemy}function getMarkInfo(e,t=!1){var a;const o=criticalReached[e],s=markInfo[e];if(core.status.hero.atk>=s.nextCritical){!o[s.nextCritical]&&!t&&tip$1("success",`\u8E29\u5230\u4E86${core.material.enemys[e].name}\u7684\u4E34\u754C\uFF01`),o[s.nextCritical]=!0;const n=(a=core.nextCriticals(e,1,void 0,void 0,"empty")[0])==null?void 0:a[0],i=(n!=null?n:0)+core.status.hero.atk;s.nextCritical=i}}function checkMarkedEnemy(e=!1){checkMarkedStatus.value=!checkMarkedStatus.value;const t=core.status.hero.hp;getMarkedEnemy().forEach(o=>{var r,d;getMarkInfo(o);const s=(d=(r=core.getDamageInfo(o,void 0,void 0,void 0,"empty"))==null?void 0:r.damage)!=null?d:-1;if(s===-1)return;const a=enemyDamageInfo[o],n=core.material.enemys[o].name;let i=0;s<=0?e||tip$1("success",`${n}\u5DF2\u7ECF\u96F6\u4F24\u4E86\uFF01`):s<t/3?(!a[3]&&!e&&tip$1("success",`${n}\u7684\u4F24\u5BB3\u5DF2\u964D\u81F3\u52C7\u58EB\u751F\u547D\u503C\u76841/3\uFF01`),i=7):s<t/3*2?(!a[2]&&!e&&tip$1("success",`${n}\u7684\u4F24\u5BB3\u5DF2\u964D\u81F3\u52C7\u58EB\u751F\u547D\u503C\u76842/3\uFF01`),i=6):s<t&&(!a[1]&&!e&&tip$1("success",`\u4F60\u5DF2\u7ECF\u80FD\u6253\u8FC7${n}\u4E86\uFF01`),i=4),a[1]=a[2]=a[3]=!1,i&4&&(a[1]=!0),i&2&&(a[2]=!0),i&1&&(a[3]=!0)})}const checkMarkedStatus=ref(!1);function init$a(){return core.registerAction("onmove","mark",(e,t)=>(core.isPlaying()&&(flags.mouseLoc=[e,t]),!1),150),{checkMarkedEnemy,checkStatus:checkMarkedStatus,markEnemy:markEnemy$1,hasMarkedEnemy,unmarkEnemy,showMarkedEnemy}}const _withScopeId$8=e=>(pushScopeId("data-v-90e08ea9"),e=e(),popScopeId(),e),_hoisted_1$k={id:"enemy-target"},_hoisted_2$h={id:"enemy-desc"},_hoisted_3$h=_withScopeId$8(()=>createBaseVNode("span",null,"\u602A\u7269\u63CF\u8FF0",-1)),_hoisted_4$e={id:"mark-target"},_hoisted_5$c=["onClick"],_sfc_main$k=defineComponent({__name:"enemyTarget",setup(e){const t=core.plugin.bookDetailEnemy,o=ref(hasMarkedEnemy(t.id));function s(){o.value&&unmarkEnemy(t.id),o.value||markEnemy$1(t.id),o.value=!o.value}return(a,n)=>{const i=__unplugin_components_0;return openBlock(),createElementBlock("div",_hoisted_1$k,[createBaseVNode("div",_hoisted_2$h,[_hoisted_3$h,createVNode(Scroll,{id:"enemy-desc-scroll"},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(unref(t).description),1)]),_:1})]),createVNode(i,{dashed:"",style:{"border-color":"#ddd4"}}),createBaseVNode("div",null,[createBaseVNode("div",_hoisted_4$e,[createBaseVNode("span",{id:"mark-info",style:normalizeStyle({color:o.value?"lightgreen":"lightcoral"})},toDisplayString(o.value?"\u5DF2\u6807\u8BB0\u8BE5\u602A\u7269":"\u672A\u6807\u8BB0\u8BE5\u602A\u7269"),5),createBaseVNode("span",{class:"button-text",onClick:withModifiers(s,["stop"])},toDisplayString(o.value?"\u53D6\u6D88\u6807\u8BB0\u8BE5\u602A\u7269":"\u6807\u8BB0\u8BE5\u602A\u7269\u4E3A\u76EE\u6807"),9,_hoisted_5$c)])])])}}}),enemyTarget_vue_vue_type_style_index_0_scoped_90e08ea9_lang="",EnemyTarget=_export_sfc(_sfc_main$k,[["__scopeId","data-v-90e08ea9"]]),_withScopeId$7=e=>(pushScopeId("data-v-c8f01fef"),e=e(),popScopeId(),e),_hoisted_1$j={id:"detail"},_hoisted_2$g={id:"detail-more"},_hoisted_3$g={key:0,id:"special-more",class:"detial-more"},_hoisted_4$d={key:1,id:"special-more",class:"detial-more"},_hoisted_5$b={key:2,id:"special-more",class:"detial-more"},_hoisted_6$a=_withScopeId$7(()=>createBaseVNode("span",null,null,-1)),_sfc_main$j=defineComponent({__name:"bookDetail",props:{fromBook:{type:Boolean},defaultPanel:null},emits:["close"],setup(e,{emit:t}){var f;const o=e,s=core.plugin.bookDetailEnemy,a=ref(core.plugin.bookDetailPos),n=ref((f=o.defaultPanel)!=null?f:"special");let i;function r(p,l){p.stopPropagation(),n.value=l}function d(){a.value=core.plugin.bookDetailPos,i.style.opacity="0",t("close")}function c(p){const l=keycode(p.keyCode);(l===KeyCode.Enter||l===KeyCode.Space||l===KeyCode.KeyC)&&d(),o.fromBook||(l===KeyCode.KeyX||l===KeyCode.Escape)&&d()}return onMounted(async()=>{a.value=0,i=document.getElementById("detail"),i.style.opacity="1";const p=getComputedStyle(i);let l=!1,u=[0,0];await S(600),useDrag(i,(h,m)=>{(h-u[0])**2+(m-u[1])**2>=100&&(l=!0)},(h,m)=>{u=[h,m],m>parseFloat(p.height)*4/5&&(l=!0)},()=>{l===!1&&n.value!=="critical"&&d(),l=!1}),document.addEventListener("keyup",c)}),onUnmounted(()=>{document.removeEventListener("keyup",c)}),(p,l)=>{const u=__unplugin_components_0;return openBlock(),createElementBlock("div",_hoisted_1$j,[createBaseVNode("div",{id:"info",style:normalizeStyle({top:`${a.value}px`})},[createVNode(EnemyOne,{enemy:unref(s)},null,8,["enemy"]),createVNode(u,{dashed:"",style:{margin:"2vh 0 2vh 0","border-color":"#ddd4",width:"100%"}})],4),createVNode(Transition,{name:"detail"},{default:withCtx(()=>[n.value==="special"?(openBlock(),createBlock(EnemySpecial,{key:0,"from-book":e.fromBook},null,8,["from-book"])):n.value==="critical"?(openBlock(),createBlock(EnemyCritical,{key:1,"from-book":e.fromBook},null,8,["from-book"])):n.value==="target"?(openBlock(),createBlock(EnemyTarget,{key:2})):createCommentVNode("",!0)]),_:1}),createBaseVNode("div",_hoisted_2$g,[createVNode(Transition,{name:"detail"},{default:withCtx(()=>[n.value==="special"?(openBlock(),createElementBlock("div",_hoisted_3$g,[createBaseVNode("span",{id:"enemy-target",class:"button-text more",onClick:l[0]||(l[0]=h=>r(h,"target"))},[createVNode(unref(LeftOutlined)),createTextVNode(" \u602A\u7269\u66F4\u591A\u4FE1\u606F")]),createBaseVNode("span",{id:"critical-more",class:"button-text more",onClick:l[1]||(l[1]=h=>r(h,"critical"))},[createTextVNode("\u8BE6\u7EC6\u4E34\u754C\u4FE1\u606F "),createVNode(unref(RightOutlined))])])):n.value==="critical"?(openBlock(),createElementBlock("div",_hoisted_4$d,[createBaseVNode("span",{id:"enemy-pos",class:"button-text more",onClick:l[2]||(l[2]=h=>r(h,"special"))},[createVNode(unref(LeftOutlined)),createTextVNode(" \u602A\u7269\u7279\u6B8A\u5C5E\u6027")])])):n.value==="target"?(openBlock(),createElementBlock("div",_hoisted_5$b,[_hoisted_6$a,createBaseVNode("span",{id:"enemy-pos",class:"button-text more",onClick:l[3]||(l[3]=h=>r(h,"special"))},[createTextVNode("\u602A\u7269\u7279\u6B8A\u5C5E\u6027 "),createVNode(unref(RightOutlined))])])):createCommentVNode("",!0)]),_:1})])])}}}),bookDetail_vue_vue_type_style_index_0_scoped_c8f01fef_lang="",BookDetail=_export_sfc(_sfc_main$j,[["__scopeId","data-v-c8f01fef"]]),_withScopeId$6=e=>(pushScopeId("data-v-fb4b88e2"),e=e(),popScopeId(),e),_hoisted_1$i={id:"book"},_hoisted_2$f={id:"tools"},_hoisted_3$f={key:0,id:"none"},_hoisted_4$c=_withScopeId$6(()=>createBaseVNode("div",null,"\u672C\u5C42\u65E0\u602A\u7269",-1)),_hoisted_5$a=[_hoisted_4$c],_hoisted_6$9={class:"enemy"},_sfc_main$i=defineComponent({__name:"book",setup(e){var m,_,y;const t=(y=core.floorIds[(_=(m=core.status.event)==null?void 0:m.ui)==null?void 0:_.index])!=null?y:core.status.floorId;t!==core.status.floorId&&core.status.checkBlock&&(core.status.checkBlock.cache={});const o=core.getCurrentEnemys(t),s=ref(0),a=ref(!1),n=ref(!1),i=ref(0);o.forEach(g=>{const $=g.specialText.length;g.toShowSpecial=lodash.exports.cloneDeep(g.specialText),g.toShowColor=lodash.exports.cloneDeep(g.specialColor),$>=3&&(g.toShowSpecial=g.specialText.slice(0,2).concat(["..."]),g.toShowColor=g.specialColor.slice(0,2).concat(["#fff"])),g.toShowColor=g.toShowColor.map(F=>typeof F=="string"?F:core.arrayToRGBA(F)),g.damageColor=getDamageColor(g.damage)});function r(g,$){if(a.value)return;const F=window.innerHeight,N=$*F*.2-s.value;core.plugin.bookDetailEnemy=g,core.plugin.bookDetailPos=N,n.value=!0,d()}async function d(){const g=document.getElementById("book");g.style.opacity="0",await S(600),g.style.display="none"}async function c(){f(),await S(600),n.value=!1}async function f(){const g=document.getElementById("book");g.style.display="flex",await S(50),g.style.opacity="1"}async function p(){noClosePanel.value=!0,core.plugin.bookOpened.value=!1,core.plugin.transition.value?await S(650):await S(100),!core.events.recoverEvents(core.status.event.interval)&&(has(core.status.event.ui)?(core.status.boxAnimateObjs=[],core.ui._drawViewMaps(core.status.event.ui)):core.ui.closePanel())}function l(){const g=window.innerHeight,$=i.value*g*.2-s.value;$<0&&(s.value+=$-20),$>g*.655&&(s.value+=$-g*.655+20)}function u(g){const $=keycode(g.keyCode);($===KeyCode.KeyX||$===KeyCode.Escape)&&p(),$===KeyCode.Enter&&!n.value&&r(o[i.value],i.value)}function h(g){const $=keycode(g.keyCode);n.value||($===KeyCode.DownArrow&&(i.value<o.length-1&&i.value++,l()),$===KeyCode.UpArrow&&(i.value>0&&i.value--,l()),($===KeyCode.LeftArrow||$===KeyCode.PageUp)&&(i.value<=4?i.value=0:i.value-=5,l()),($===KeyCode.RightArrow||$===KeyCode.PageDown)&&(i.value>=o.length-5?i.value=o.length-1:i.value+=5,l()))}return onMounted(async()=>{core.plugin.transition.value?await S(600):await S(50),document.addEventListener("keyup",u),document.addEventListener("keydown",h)}),onUnmounted(async()=>{document.removeEventListener("keyup",u),document.removeEventListener("keydown",h)}),(g,$)=>{const F=__unplugin_components_0;return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$i,[createBaseVNode("div",_hoisted_2$f,[createBaseVNode("span",{id:"back",class:"button-text tools",onClick:p},[createVNode(unref(LeftOutlined)),createTextVNode("\u8FD4\u56DE\u6E38\u620F")])]),unref(o).length===0?(openBlock(),createElementBlock("div",_hoisted_3$f,_hoisted_5$a)):(openBlock(),createBlock(Scroll,{key:1,style:{width:"100%",height:"94%","font-family":"normal"},now:s.value,"onUpdate:now":$[0]||($[0]=N=>s.value=N),drag:a.value,"onUpdate:drag":$[1]||($[1]=N=>a.value=N)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(o),(N,E)=>(openBlock(),createElementBlock("div",_hoisted_6$9,[(openBlock(),createBlock(EnemyOne,{selected:E===i.value,enemy:N,key:E,onSelect:b=>r(N,E),onHover:b=>i.value=E},null,8,["selected","enemy","onSelect","onHover"])),createVNode(F,{dashed:"",style:{width:"100%","border-color":"#ddd4"}})]))),256))]),_:1},8,["now","drag"]))]),n.value?(openBlock(),createBlock(BookDetail,{key:0,"from-book":!0,onClose:$[2]||($[2]=N=>c())})):createCommentVNode("",!0)],64)}}}),book_vue_vue_type_style_index_0_scoped_fb4b88e2_lang="",Book=_export_sfc(_sfc_main$i,[["__scopeId","data-v-fb4b88e2"]]),clsMap={tools:"\u6D88\u8017\u9053\u5177",constants:"\u6C38\u4E45\u9053\u5177",all:"\u5168\u90E8\u9053\u5177"};function getClsName(e){return clsMap[e]}function getItems(e){const t=core.status.hero.items,o=["book"];if(e==="all")return{tools:Object.entries(t.tools).filter(n=>!o.includes(n[0])),constants:Object.entries(t.constants).filter(n=>!o.includes(n[0]))};const s=t[e];return Object.entries(s)}const _withScopeId$5=e=>(pushScopeId("data-v-5e7b8682"),e=e(),popScopeId(),e),_hoisted_1$h={id:"toolbox"},_hoisted_2$e={id:"tools"},_hoisted_3$e={id:"toolbox-main"},_hoisted_4$b={class:"item-main"},_hoisted_5$9={class:"item-info"},_hoisted_6$8={key:0,class:"item-type"},_hoisted_7$8={key:1,id:"item-type-mobile"},_hoisted_8$7=["selected"],_hoisted_9$7=["selected"],_hoisted_10$7=["selected","onClick"],_hoisted_11$7={class:"item-icon"},_hoisted_12$5={class:"item-name"},_hoisted_13$5={id:"detail"},_hoisted_14$5={id:"info"},_hoisted_15$4={id:"basic-info"},_hoisted_16$4={style:{"border-bottom":"1px solid #ddd4"}},_hoisted_17$3=_withScopeId$5(()=>createBaseVNode("span",{style:{"margin-top":"2vh"}},"\u70B9\u51FB\u8BE5\u7269\u54C1\u4EE5\u4F7F\u7528",-1)),_hoisted_18$3={id:"desc"},_hoisted_19$3=_withScopeId$5(()=>createBaseVNode("span",null,"\u9053\u5177\u63CF\u8FF0",-1)),_hoisted_20$3={key:0},_hoisted_21$3=["innerHTML"],_sfc_main$h=defineComponent({__name:"toolbox",setup(e){var h,m;const t=ref("tools"),o=getItems("all"),s=computed(()=>isMobile?[t.value]:["tools","constants"]),a=core.material.items,n=ref((m=(h=o[s.value[0]][0])==null?void 0:h[0])!=null?m:"none"),i=ref(0);watch(i,_=>{d(o[t.value][_][0],!0)}),watch(t,_=>{if(!has(o[_][i.value])){n.value="none";return}d(o[_][i.value][0],!0)});const r=computed(()=>{const _=n.value;return _==="none"?ref("\u6CA1\u6709\u9009\u62E9\u9053\u5177"):type(a[_].text,25,C("sin","out"),!0)});async function d(_,y=!1){n.value===_&&!y&&f(_),i.value=o[t.value].findIndex(g=>g[0]===_),n.value=_}function c(){core.plugin.toolOpened.value=!1}async function f(_){if(_!=="none")if(core.canUseItem(_)){const y=core.plugin.transition.value;core.plugin.transition.value=!1,c(),await S(50),core.useItem(_),core.plugin.transition.value=y}else message.warn({content:"\u5F53\u524D\u65E0\u6CD5\u4F7F\u7528\u8BE5\u9053\u5177\uFF01",class:"antdv-message"})}async function p(){const _=core.plugin.transition.value;core.plugin.transition.value=!1,c(),await S(50),core.plugin.equipOpened.value=!0,core.plugin.transition.value=_}function l(_){const y=keycode(_.keyCode);(y===KeyCode.Escape||y===KeyCode.KeyX||y===KeyCode.KeyT)&&c(),(y===KeyCode.Enter||y===KeyCode.KeyC)&&f(n.value)}function u(_){const y=keycode(_.keyCode),g=o[t.value].length;if(y===KeyCode.DownArrow&&i.value<g-1&&i.value++,y===KeyCode.UpArrow&&i.value>0&&i.value--,y===KeyCode.RightArrow){const $=o.constants.length;t.value==="tools"&&(i.value>=$&&(i.value=$-1),t.value="constants")}if(y===KeyCode.LeftArrow){const $=o.tools.length;t.value==="constants"&&(i.value>=$&&(i.value=$-1),t.value="tools")}}return onMounted(async()=>{core.plugin.transition.value?await S(600):await S(50),document.addEventListener("keyup",l),document.addEventListener("keydown",u)}),onUnmounted(()=>{document.removeEventListener("keyup",l),document.removeEventListener("keydown",u)}),(_,y)=>{var $;const g=__unplugin_components_0;return openBlock(),createElementBlock("div",_hoisted_1$h,[createBaseVNode("div",_hoisted_2$e,[createBaseVNode("span",{class:"button-text tools",onClick:c},[createVNode(unref(LeftOutlined)),createTextVNode(" \u8FD4\u56DE\u6E38\u620F")]),createBaseVNode("span",{class:"button-text tools",onClick:p},[createTextVNode("\u88C5\u5907\u680F "),createVNode(unref(RightOutlined))])]),createBaseVNode("div",_hoisted_3$e,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(s),F=>(openBlock(),createElementBlock("div",_hoisted_4$b,[createBaseVNode("div",_hoisted_5$9,[unref(isMobile)?(openBlock(),createElementBlock("div",_hoisted_7$8,[createBaseVNode("span",{class:"button-text",onClick:y[0]||(y[0]=N=>t.value="tools"),selected:t.value==="tools"},"\u6D88\u8017\u9053\u5177",8,_hoisted_8$7),createVNode(g,{dashed:"",style:{"border-color":"#ddd4",height:"100%"},type:"vertical"}),createBaseVNode("span",{class:"button-text",onClick:y[1]||(y[1]=N=>t.value="constants"),selected:t.value==="constants"},"\u6C38\u4E45\u9053\u5177",8,_hoisted_9$7)])):(openBlock(),createElementBlock("div",_hoisted_6$8,toDisplayString(unref(getClsName)(F)),1)),createVNode(g,{dashed:"",style:{margin:"1vh 0 1vh 0","border-color":"#ddd4"}}),createVNode(Scroll,{class:"item-list"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(o)[F],([N,E])=>(openBlock(),createElementBlock("div",{class:"item selectable",selected:n.value===N,onClick:b=>{t.value=F,d(N)}},[createBaseVNode("div",_hoisted_11$7,[createVNode(_sfc_main$p,{id:N,width:32,height:32,noborder:!0},null,8,["id"]),createBaseVNode("span",_hoisted_12$5,toDisplayString(unref(a)[N].name),1)]),createBaseVNode("span",null,"\xD7\xA0"+toDisplayString(E),1)],8,_hoisted_10$7))),256))]),_:2},1024)]),createVNode(g,{dashed:"",type:unref(isMobile)?"horizontal":"vertical",class:"divider",style:{"border-color":"#ddd4",margin:"1%"}},null,8,["type"])]))),256)),createBaseVNode("div",_hoisted_13$5,[createBaseVNode("div",_hoisted_14$5,[createVNode(_sfc_main$p,{id:n.value,width:32,height:32},null,8,["id"]),createBaseVNode("div",_hoisted_15$4,[createBaseVNode("span",_hoisted_16$4,toDisplayString(n.value==="none"?"\u6CA1\u6709\u9053\u5177":unref(a)[n.value].name),1),createBaseVNode("span",null,toDisplayString(n.value==="none"?"\u6C38\u4E45\u9053\u5177":($=unref(getClsName)(unref(a)[n.value].cls))!=null?$:"\u6C38\u4E45\u9053\u5177"),1)])]),_hoisted_17$3,createVNode(g,{dashed:"",style:{"border-color":"#ddd4"}}),createBaseVNode("div",_hoisted_18$3,[_hoisted_19$3,createVNode(Scroll,{id:"desc-text"},{default:withCtx(()=>[unref(r).value.startsWith("!!html")?(openBlock(),createElementBlock("div",{key:1,innerHTML:unref(r).value.slice(6)},null,8,_hoisted_21$3)):(openBlock(),createElementBlock("div",_hoisted_20$3,toDisplayString(unref(r).value),1))]),_:1})])])])])}}}),toolbox_vue_vue_type_style_index_0_scoped_5e7b8682_lang="",Toolbox=_export_sfc(_sfc_main$h,[["__scopeId","data-v-5e7b8682"]]),index$2="",index$1="";function getEquips(){return Object.entries(core.status.hero.items.equips)}function getAddStatus(e){const t=Object.assign({},e.value,e.percentage),o=Object.keys(t);return createVNode("div",{class:"equip-add-detail"},[o.map(s=>{var n,i;const a=Math.floor(((n=e.value[s])!=null?n:0)*core.getBuff(s)+core.status.hero[s]*((i=e.percentage[s])!=null?i:0)/100);return createVNode("span",{style:"display: flex"},[createVNode("span",{style:"flex-basis: 50%"},[core.getStatusLabel(s)]),createTextVNode("\xA0\xA0\xA0\xA0"),createVNode("span",{style:{color:a>0?"lightgreen":"lightsalmon"}},[a>0?`+${a}`:a])])})])}function getNowStatus(e,t=!1){return createVNode("div",{id:"hero-status"},[["hp","lv","atk","def","mdef","mana","hpmax","money"].map(s=>{var i,r,d;let a;s==="lv"?a=(i=core.getLvName())!=null?i:"":a=(r=core.getRealStatus(s))==null?void 0:r.toString();let n=0;if(has(e)){n+=Math.floor(((d=e.value[s])!=null?d:0)*core.getBuff(s));const c=Math.floor(e.percentage[s]*core.getStatus(s)/100);n+=isNaN(c)?0:c}return t&&(n=-n),createVNode("div",{class:"hero-status-one"},[createVNode("span",{class:"hero-status-label"},[core.getStatusLabel(s)]),createVNode("div",{class:"hero-status-value"},[createVNode("span",{style:"margin-right: 20%"},[a]),n!==0&&createVNode("span",{style:{color:n>0?"lightgreen":"lightsalmon"}},[n>0?"+"+n:"-"+-n])])])})])}const _hoisted_1$g={id:"equipbox"},_hoisted_2$d={id:"tools"},_hoisted_3$d={id:"equipbox-main"},_hoisted_4$a={id:"equip-list"},_hoisted_5$8={id:"filter"},_hoisted_6$7={key:0},_hoisted_7$7={key:1},_hoisted_8$6=["selected","onMousedown","onTouchstart","onClick"],_hoisted_9$6={class:"equip-icon"},_hoisted_10$6={class:"equip-name"},_hoisted_11$6={id:"equip-status"},_hoisted_12$4={id:"equip-status-main"},_hoisted_13$4={id:"equip-now"},_hoisted_14$4={id:"equip-now-div"},_hoisted_15$3=["draged","access","selected","onMouseenter","onClick"],_hoisted_16$3={key:0,id:"equip-hero"},_hoisted_17$2={id:"hero-icon"},_hoisted_18$2={id:"hero-status"},_hoisted_19$2={id:"equip-desc"},_hoisted_20$2={id:"equip-icon"},_hoisted_21$2={id:"equip-type"},_hoisted_22$2={id:"equip-add"},_hoisted_23$2={id:"equip-desc-text"},_hoisted_24$2={key:0},_hoisted_25$1=["innerHTML"],_hoisted_26$1={id:"icon-drag"},_sfc_main$g=defineComponent({__name:"equipbox",setup(e){const t=ref(getEquips()),o=ref("all"),s=core.material.items,a=ref(0),n=ref(!1),i=core.status.globalAttribute.equipName,r=ref(core.status.hero.equipment),d=ref(!1),c=ref(!1),f=ref(-1),p=ref("down"),l=ref("none"),u=ref("value"),h=["none","atk","def","hpmax","mana"],m=core.getStatusLabel;watch(p,P=>{a.value=F.value.length-a.value-1}),watch(l,P=>{a.value=0}),watch(u,P=>{a.value=0});const _=computed(()=>{const P=F.value[a.value],D={name:"\u6CA1\u6709\u9009\u62E9\u88C5\u5907",cls:"equip",text:"\u6CA1\u6709\u9009\u62E9\u88C5\u5907",equip:{type:"\u65E0",value:{},percentage:{},animate:""}};if(n.value){const q=r.value[a.value],G=core.material.items[q];return has(G)?G:D}return has(P)?s[P[0]]:D}),y=computed(()=>getAddStatus(_.value.equip,n.value)),g=computed(()=>_.value.text.startsWith("!!html")?ref(_.value.text):type(_.value.text,25,C("sin","out"),!0)),$=computed(()=>getNowStatus(_.value.equip,n.value)),F=computed(()=>{const P=p.value,D=l.value,q=u.value,G=t.value.filter(Z=>{const oe=s[Z[0]].equip,X=oe.type;return D!=="none"&&!has(oe[q][D])?!1:o.value==="all"?!0:typeof X=="string"?X===o.value:core.status.globalAttribute.equipName[X]===o.value});return D==="none"?G:P==="down"?G.sort((Z,oe)=>{const X=s[Z[0]].equip,ne=s[oe[0]].equip;return X[q][D]-ne[q][D]}):G.sort((Z,oe)=>{const X=s[Z[0]].equip;return s[oe[0]].equip[q][D]-X[q][D]})});function N(){p.value==="down"?p.value="up":p.value="down"}function E(){core.plugin.equipOpened.value=!1}function b(P){var D;if(P===a.value&&d.value){const q=(D=F.value[a.value])==null?void 0:D[0];if(!core.canEquip(q)){tip$1("warn","\u65E0\u6CD5\u88C5\u5907\uFF01");return}core.loadEquip(q),M(),d.value=!1}d.value=!0}function x(P,D=!1){P!==a.value&&!D&&(d.value=!1),D&&(d.value=!1),D&&n.value===D&&a.value===P&&(core.unloadEquip(P),M()),n.value=D,a.value=P}function T(P){var q,G;if(P<0)return!1;const D=(q=_.value.equip)==null?void 0:q.type;return!core.canEquip((G=F.value[a.value])==null?void 0:G[0])||!has(D)?!1:typeof D=="number"?P===D:i[P]===D}function L(){var G;const P=f.value;if(P<0)return;if(!T(P)){tip$1("warn","\u65E0\u6CD5\u88C5\u5907\uFF01");return}const D=r.value[P],q=(G=F.value[a.value])==null?void 0:G[0];core.items._realLoadEquip(P,q,D),M()}function M(){r.value=core.status.hero.equipment,t.value=getEquips()}function H(){const P=Array.from(document.querySelectorAll(".equip"));useDrag(P,ee,(D,q)=>{W=D,Q=q},()=>{c.value&&(c.value=!1,L())},!0)}let[W,Q]=[0,0];function ee(P,D,q){if((P-W)**2+(D-Q)**2>10**2&&!c.value&&(c.value=!0),c.value){const G=document.getElementById("icon-drag");G.style.left=`${P-24}px`,G.style.top=`${D-24}px`}}function se(P,D){P.stopPropagation(),f.value=D}function te(P){P.stopPropagation(),f.value=-1}async function ae(){const P=core.plugin.transition.value;core.plugin.transition.value=!1,E(),await S(50),core.plugin.toolOpened.value=!0,core.plugin.transition.value=P}function re(P){const D=keycode(P.keyCode);(D===KeyCode.KeyQ||D===KeyCode.KeyX||D===KeyCode.Escape)&&E()}return watch(F,P=>{H()}),onMounted(async()=>{H(),core.plugin.transition.value?await S(600):await S(50),document.addEventListener("keyup",re)}),onUnmounted(()=>{cancelGlobalDrag(ee),document.removeEventListener("keyup",re)}),(P,D)=>{var oe,X,ne,pe,he,le;const q=SelectOption,G=__unplugin_components_1,Z=__unplugin_components_0;return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$g,[createBaseVNode("div",_hoisted_2$d,[createBaseVNode("span",{class:"button-text tools",onClick:E},[createVNode(unref(LeftOutlined)),createTextVNode(" \u8FD4\u56DE\u6E38\u620F")]),createBaseVNode("span",{class:"button-text tools",onClick:ae},[createTextVNode("\u9053\u5177\u680F "),createVNode(unref(RightOutlined))])]),createBaseVNode("div",_hoisted_3$d,[createBaseVNode("div",_hoisted_4$a,[createBaseVNode("div",_hoisted_5$8,[createVNode(G,{value:l.value,"onUpdate:value":D[0]||(D[0]=J=>l.value=J),class:"select"},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(h,J=>createVNode(q,{value:J},{default:withCtx(()=>[createTextVNode(toDisplayString(J==="none"?"\u6240\u6709":unref(m)(J)),1)]),_:2},1032,["value"])),64))]),_:1},8,["value"]),createVNode(Z,{type:"vertical",class:"divider"}),createVNode(G,{value:u.value,"onUpdate:value":D[1]||(D[1]=J=>u.value=J),class:"select"},{default:withCtx(()=>[createVNode(q,{value:"value"},{default:withCtx(()=>[createTextVNode("\u6570\u503C")]),_:1}),createVNode(q,{value:"percentage"},{default:withCtx(()=>[createTextVNode("\u767E\u5206\u6BD4")]),_:1})]),_:1},8,["value"]),createVNode(Z,{type:"vertical",class:"divider"}),createBaseVNode("span",{onClick:D[2]||(D[2]=J=>N()),class:"button-text",id:"sort-type"},[p.value==="down"?(openBlock(),createElementBlock("span",_hoisted_6$7,[createVNode(unref(SortAscendingOutlined))])):(openBlock(),createElementBlock("span",_hoisted_7$7,[createVNode(unref(SortDescendingOutlined))]))])]),createVNode(Z,{dashed:"",style:{"border-color":"#ddd4",margin:"1vh 0 1vh 0"}}),createVNode(Scroll,{id:"equip-scroll"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(F),([J,ce],de)=>(openBlock(),createElementBlock("div",{class:"equip selectable",selected:a.value===de&&!n.value,onMousedown:fe=>x(de),onTouchstart:fe=>x(de),onClick:fe=>b(de)},[createBaseVNode("div",_hoisted_9$6,[createVNode(_sfc_main$p,{id:J!=null?J:"none",width:32,height:32,noborder:!0},null,8,["id"]),createBaseVNode("span",_hoisted_10$6,toDisplayString(unref(s)[J].name),1)]),createBaseVNode("span",null,"\xD7\xA0"+toDisplayString(ce),1)],40,_hoisted_8$6))),256))]),_:1})]),createBaseVNode("div",_hoisted_11$6,[createVNode(Z,{class:"divider",type:unref(isMobile)?"horizontal":"vertical",dashed:"",style:{"border-color":"#ddd4"}},null,8,["type"]),createBaseVNode("div",_hoisted_12$4,[createBaseVNode("div",_hoisted_13$4,[createVNode(Scroll,{style:normalizeStyle({height:unref(isMobile)?"10vh":"30vh"})},{default:withCtx(()=>[createBaseVNode("div",_hoisted_14$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(i),(J,ce)=>{var de;return openBlock(),createElementBlock("div",{class:"equip-now-one draginable selectable",draged:c.value,access:T(ce),selected:n.value&&a.value===ce,onMouseenter:fe=>se(fe,ce),onMouseleave:te,onClick:fe=>x(ce,!0)},[createVNode(_sfc_main$p,{id:(de=r.value[ce])!=null?de:"none"},null,8,["id"]),createBaseVNode("span",null,toDisplayString(J),1)],40,_hoisted_15$3)}),256))])]),_:1},8,["style"])]),createVNode(Z,{dashed:"",style:{"border-color":"#ddd4",margin:"1vh 0 1vh 0"}}),unref(isMobile)?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_16$3,[createBaseVNode("div",_hoisted_17$2,[createVNode(_sfc_main$p,{id:"hero",width:48,height:64,noborder:""})]),createBaseVNode("div",_hoisted_18$2,[(openBlock(),createBlock(resolveDynamicComponent(unref($))))])]))]),unref(isMobile)?createCommentVNode("",!0):(openBlock(),createBlock(Z,{key:0,class:"divider",type:"vertical",dashed:"",style:{"border-color":"#ddd4"}}))]),createBaseVNode("div",_hoisted_19$2,[createBaseVNode("div",_hoisted_20$2,[createVNode(_sfc_main$p,{id:n.value?(oe=r.value[a.value])!=null?oe:"none":(ne=(X=unref(F)[a.value])==null?void 0:X[0])!=null?ne:"none"},null,8,["id"]),createBaseVNode("span",null,toDisplayString(unref(_).name),1)]),createBaseVNode("div",_hoisted_21$2,[createBaseVNode("span",null,"\u88C5\u5907\u5B54\uFF1A"+toDisplayString((pe=unref(_).equip)==null?void 0:pe.type),1)]),createVNode(Z,{dashed:"",style:{"border-color":"#ddd4",margin:"1vh 0 1vh 0"}}),createBaseVNode("div",_hoisted_22$2,[createBaseVNode("span",{style:normalizeStyle({"font-size":unref(isMobile)?"3.8vw":"3vh"}),id:"title"},"\u589E\u51CF\u5C5E\u6027",4),createVNode(Scroll,{style:{width:"100%",height:"100%"}},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(y))))]),_:1})]),createVNode(Z,{dashed:"",style:{"border-color":"#ddd4",margin:"1vh 0 1vh 0"}}),createBaseVNode("div",_hoisted_23$2,[createBaseVNode("span",{style:normalizeStyle({"font-size":unref(isMobile)?"3.8vw":"3vh"}),id:"title"},"\u88C5\u5907\u4ECB\u7ECD",4),createVNode(Scroll,{id:"desc-text",style:{height:"100%",width:"100%"}},{default:withCtx(()=>[unref(g).value.startsWith("!!html")?(openBlock(),createElementBlock("div",{key:1,innerHTML:unref(g).value.slice(6)},null,8,_hoisted_25$1)):(openBlock(),createElementBlock("div",_hoisted_24$2,toDisplayString(unref(g).value),1))]),_:1})])])])]),createBaseVNode("div",_hoisted_26$1,[c.value?(openBlock(),createBlock(_sfc_main$p,{key:0,class:"drag-icon",id:(le=(he=unref(F)[a.value])==null?void 0:he[0])!=null?le:"none",width:48,height:48,noborder:""},null,8,["id"])):createCommentVNode("",!0)])],64)}}}),equipbox_vue_vue_type_style_index_0_scoped_4fac9519_lang="",Equipbox=_export_sfc(_sfc_main$g,[["__scopeId","data-v-4fac9519"]]),transition$2=ref(!1),itemDetail$1=ref(!0),autoSkill$1=ref(!0),autoScale$1=ref(!0),showHalo$1=ref(!0),showStudied$1=ref(!0),useFixed$1=ref(!0),autoLocate$1=ref(!0),antiAliasing$1=ref(!0);watch(transition$2,e=>{core.plugin.transition.value=e,core.setLocalStorage("transition",e)});watch(itemDetail$1,e=>{flags.itemDetail=e,core.updateStatusBar()});watch(autoSkill$1,e=>{flags.autoSkill=e,core.updateStatusBar(),core.status.route.push(`set:autoSkill:${e}`)});watch(autoScale$1,e=>{core.setLocalStorage("autoScale",e)});watch(showStudied$1,e=>{core.setLocalStorage("showStudied",e)});watch(showHalo$1,e=>{core.setLocalStorage("showHalo",e)});watch(useFixed$1,e=>{core.setLocalStorage("useFixed",e)});watch(autoSkill$1,e=>{flags.autoLocate=e,core.updateStatusBar(),core.status.route.push(`set:autoLocate:${e}`)});watch(antiAliasing$1,e=>{core.setLocalStorage("antiAliasing",e);for(const t of core.dom.gameCanvas)core.domStyle.hdCanvas.includes(t.id)||(e?t.classList.remove("no-anti-aliasing"):t.classList.add("no-anti-aliasing"))});function reset(){const e=core.getLocalStorage("transition",!1);transition$2.value=e,core.plugin.transition.value=transition$2.value,autoScale$1.value=core.getLocalStorage("autoScale",!0),showStudied$1.value=core.getLocalStorage("showStudied",!0),showHalo$1.value=core.getLocalStorage("showHalo",!0),antiAliasing$1.value=core.getLocalStorage("antiAliasing",!1)}function resetFlag(){var e,t,o;(e=flags.autoSkill)!=null||(flags.autoSkill=!0),(t=flags.itemDetail)!=null||(flags.itemDetail=!0),(o=flags.autoLocate)!=null||(flags.autoLocate=!0),itemDetail$1.value=!!flags.itemDetail,autoSkill$1.value=!!flags.autoSkill,autoLocate$1.value=!!flags.autoLocate}function init$9(){return{resetSettings:reset,resetFlagSettings:resetFlag}}const transition$1={text:"\u754C\u9762\u52A8\u753B",desc:["\u662F\u5426\u5C55\u793A\u5F53\u4E00\u4E2Aui\u754C\u9762\uFF0C\u5982\u602A\u7269\u624B\u518C\u7B49\u7684\u6253\u5F00\u4E0E\u5173\u95ED\u65F6\u7684\u52A8\u753B\u3002\u5F53\u6B64\u9879\u5F00\u542F\u65F6\uFF0C","\u6240\u6709\u754C\u9762\u88AB\u6253\u5F00\u6216\u5173\u95ED\u65F6\u90FD\u4F1A\u5C55\u793A\u52A8\u753B\uFF0C\u5426\u5219\u4F1A\u76F4\u63A5\u5C55\u793A\u51FA\u6765"]},itemDetail={text:"\u5B9D\u77F3\u8840\u74F6\u663E\u4F24",desc:["\u662F\u5426\u5728\u5730\u56FE\u4E0A\u663E\u793A\u5B9D\u77F3\u8840\u74F6\u88C5\u5907\u7B49\u589E\u52A0\u7684\u5C5E\u6027\u503C"]},autoSkill={text:"\u81EA\u52A8\u5207\u6362\u6280\u80FD",desc:["\u5F00\u542F\u540E\uFF0C\u6253\u602A\u7269\u7684\u65F6\u5019\u4F1A\u81EA\u52A8\u9009\u62E9\u4F24\u5BB3\u6700\u4F4E\u7684\u6280\u80FD\u3002\u540C\u65F6\u663E\u4F24\u4E5F\u4F1A\u663E\u793A\u6B64\u72B6\u6001\u4E0B\u7684\u4F24\u5BB3\uFF0C","\u4E34\u754C\u4E5F\u4F1A\u8003\u8651\u6280\u80FD\u5728\u5185"]},autoScale={text:"\u81EA\u52A8\u653E\u7F29",desc:["\u5F00\u542F\u540E\uFF0C\u6BCF\u6B21\u8FDB\u5165\u6E38\u620F\u65F6\u4F1A\u81EA\u52A8\u7F29\u653E\u6E38\u620F\u753B\u9762\u81F3\u5408\u9002\u503C\u3002\u8BE5\u9879\u53EA\u5BF9\u7535\u8111\u7AEF\u6709\u6548\u3002","<br>","<br>","\u7F29\u653E\u539F\u5219\u5982\u4E0B\uFF1A","<br>","1. \u9996\u5148\u5C1D\u8BD5\u7F29\u653E\u81F3\u6700\u5927\u7F29\u653E\u6BD4\u4F8B","<br>","2. \u5982\u679C\u7F29\u653E\u540E\u6E38\u620F\u753B\u9762\u9AD8\u5EA6\u9AD8\u4E8E\u9875\u9762\u9AD8\u5EA6\u768495%\uFF0C\u90A3\u4E48\u7F29\u5C0F\u4E00\u4E2A\u7F29\u653E\u6BD4\u4F8B\uFF0C\u5426\u5219\u4FDD\u6301\u6700\u5927\u6BD4\u4F8B"]},showHalo={text:"\u5C55\u793A\u8303\u56F4\u5149\u73AF",desc:["\u5F00\u542F\u540E\uFF0C\u4F1A\u5728\u5730\u56FE\u4E0A\u663E\u793A\u8303\u56F4\u5149\u73AF\u3002"]},useFixed={text:"\u79FB\u52A8\u9F20\u6807\u663E\u793A\u602A\u7269\u4FE1\u606F",desc:["\u5F00\u542F\u540E\uFF0C\u5F53\u9F20\u6807\u79FB\u52A8\u5230\u602A\u7269\u4E0A\u65F6\uFF0C\u4F1A\u4EE5\u76D2\u5B50\u7684\u5F62\u5F0F\u5C55\u793A\u8BE5\u70B9\u7684\u602A\u7269\u4FE1\u606F\u3002\u624B\u673A\u7AEF\u6B64\u529F\u80FD\u65E0\u6548\u3002","<br>","<br>","\u6CE8\uFF1A\u5F53\u9F20\u6807\u79FB\u52A8\u5230\u602A\u7269\u4E0A\u65F6\uFF0C\u7ECF\u8FC7200\u6BEB\u79D2\u624D\u4F1A\u663E\u793A\u4FE1\u606F\uFF0C\u9632\u6B62\u8BEF\u64CD\u4F5C\u3002"]},autoLocate={text:"\u81EA\u52A8\u52C7\u58EB\u5B9A\u4F4D",desc:["\u6B64\u9879\u4F1A\u5728\u8FDB\u5165\u7B2C\u4E8C\u7AE0\u540E\u4F1A\u8D77\u4F5C\u7528\u3002\u5F00\u542F\u540E\uFF0C\u5F53\u52C7\u58EB\u5904\u4E8E\u4E0D\u540C\u4F4D\u7F6E\u6253\u540C\u4E00\u4E2A\u602A\u7269\u4F24\u5BB3\u4E0D\u540C\u65F6\uFF0C\u5728\u5730\u56FE\u4E0A\u4F7F\u7528\u7EFF\u8272\u7BAD\u5934\u6807\u51FA\u4F24\u5BB3\u6700\u4F4E\u7684\u4F4D\u7F6E\uFF0C","\u5176\u4F59\u65B9\u5411\uFF0C\u4F24\u5BB3\u8D8A\u9AD8\uFF0C\u7BAD\u5934\u989C\u8272\u8D8A\u7EA2\uFF0C\u540C\u65F6\u5728\u81EA\u52A8\u5BFB\u8DEF\u4E2D\u9009\u62E9\u53EF\u4EE5\u5230\u8FBE\u7684\u4F24\u5BB3\u6700\u4F4E\u7684\u4F4D\u7F6E\u3002","<br>","<br>","\u6CE8\uFF1A\u5982\u679C\u51FA\u73B0\u660E\u663E\u5361\u987F\u73B0\u8C61\u53EF\u4EE5\u8003\u8651\u5173\u95ED\u672C\u8BBE\u7F6E\u6216\u81EA\u52A8\u5207\u6362\u6280\u80FD\u8BBE\u7F6E\u3002"]},antiAliasing={text:"\u6297\u952F\u9F7F",desc:["\u662F\u5426\u5F00\u542F\u6297\u952F\u9F7F\u3002\u5F00\u542F\u540E\uFF0C\u753B\u9762\u4F1A\u53D8\u5F97\u4E0D\u90A3\u4E48\u9510\u5229\uFF0C\u89C2\u611F\u66F4\u52A0\u8212\u9002\uFF1B\u5173\u95ED\u540E\uFF0C\u53EF\u4EE5\u66F4\u597D\u5730\u5C55\u73B0\u51FA\u50CF\u7D20\u611F\uFF0C\u540C\u65F6\u90E8\u5206\u50CF\u7D20\u9519\u8BEF\u4E5F\u4E0D\u4F1A\u51FA\u73B0\u3002"]},showStudied={text:"\u5C55\u793A\u5DF2\u5B66\u4E60\u6280\u80FD",desc:["\u5F00\u542F\u540E\uFF0C\u4F1A\u5728\u753B\u9762\u5185\u4EE5\u7C7B\u4F3C\u72B6\u6001\u680F\u7684\u76D2\u5B50\u7684\u5F62\u5F0F\u663E\u793A\u5F53\u524D\u5DF2\u5B66\u4E60\u7684\u602A\u7269\u6280\u80FD\u3002"]},settingInfo={transition:transition$1,itemDetail,autoSkill,autoScale,showHalo,useFixed,autoLocate,antiAliasing,showStudied},_hoisted_1$f={class:"colomn"},_hoisted_2$c={class:"tools"},_hoisted_3$c=["id"],_sfc_main$f=defineComponent({__name:"colomn",props:{width:null,height:null,left:null,right:null},emits:["close"],setup(e,{emit:t}){const o=e,s=(1e8*Math.random()).toFixed(0);let a,n,i;function r(){a=document.getElementById(`column-${s}`),n=document.getElementById(`column-left-${s}`),i=document.getElementById(`column-right-${s}`),has(o.width)&&!isMobile&&(a.style.width=`${o.width}%`),has(o.height)&&(a.style.height=`${o.height}%`),has(o.left)&&(n.style.flexBasis=`${o.left}%`),has(o.right)&&(i.style.flexBasis=`${o.right}%`)}function d(c){const f=keycode(c.keyCode);(f===KeyCode.Escape||f===KeyCode.KeyX)&&t("close")}return onMounted(async()=>{r(),await S(50),core.plugin.transition.value&&await S(600),document.addEventListener("keyup",d)}),onUpdated(r),onUnmounted(()=>{document.removeEventListener("keyup",d)}),(c,f)=>{const p=__unplugin_components_0;return openBlock(),createElementBlock("div",_hoisted_1$f,[createBaseVNode("div",_hoisted_2$c,[createBaseVNode("span",{class:"button-text",onClick:f[0]||(f[0]=l=>t("close"))},[createVNode(unref(LeftOutlined)),createTextVNode(" \u8FD4\u56DE\u6E38\u620F")])]),createBaseVNode("div",{class:"column-main",id:`column-${unref(s)}`},[createVNode(Scroll,{class:"column-left",id:`column-left-${unref(s)}`},{default:withCtx(()=>[renderSlot(c.$slots,"left",{},void 0,!0)]),_:3},8,["id"]),createVNode(p,{class:"divider",dashed:"",style:{"border-color":"#ddd4"},type:unref(isMobile)?"horizontal":"vertical"},null,8,["type"]),createVNode(Scroll,{class:"column-right",id:`column-right-${unref(s)}`},{default:withCtx(()=>[renderSlot(c.$slots,"right",{},void 0,!0)]),_:3},8,["id"])],8,_hoisted_3$c)])}}}),colomn_vue_vue_type_style_index_0_scoped_682173f1_lang="",Column=_export_sfc(_sfc_main$f,[["__scopeId","data-v-682173f1"]]),_hoisted_1$e={id:"setting-list"},_hoisted_2$b=["selected"],_hoisted_3$b=["selected"],_hoisted_4$9=["selected"],_hoisted_5$7=["selected"],_hoisted_6$6=["selected"],_hoisted_7$6=["selected"],_hoisted_8$5=["selected"],_hoisted_9$5=["selected"],_hoisted_10$5=["selected"],_hoisted_11$5=["innerHTML"],_sfc_main$e=defineComponent({__name:"settings",setup(e){const t=window.core,o=ref("transition"),s=computed(()=>splitText(settingInfo[o.value].desc)),a={transition:transition$2,itemDetail:itemDetail$1,autoSkill:autoSkill$1,autoScale:autoScale$1,showHalo:showHalo$1,showStudied:showStudied$1,useFixed:useFixed$1,autoLocate:autoLocate$1,antiAliasing:antiAliasing$1};function n(){t.plugin.settingsOpened.value=!1}function i(r){if(o.value!==r){o.value=r;return}a[r].value=!a[r].value}return(r,d)=>(openBlock(),createBlock(Column,{width:60,height:60,onClose:n},{left:withCtx(()=>[createBaseVNode("div",_hoisted_1$e,[createBaseVNode("span",{class:"selectable",selected:o.value==="transition",onClick:d[0]||(d[0]=c=>i("transition"))},"\u754C\u9762\u52A8\u753B:\xA0\xA0\xA0"+toDisplayString(unref(transition$2)?"ON":"OFF"),9,_hoisted_2$b),createBaseVNode("span",{class:"selectable",selected:o.value==="itemDetail",onClick:d[1]||(d[1]=c=>i("itemDetail"))},"\u5B9D\u77F3\u8840\u74F6\u663E\u4F24:\xA0\xA0\xA0"+toDisplayString(unref(itemDetail$1)?"ON":"OFF"),9,_hoisted_3$b),createBaseVNode("span",{class:"selectable",selected:o.value==="autoSkill",onClick:d[2]||(d[2]=c=>i("autoSkill"))},"\u81EA\u52A8\u5207\u6362\u6280\u80FD:\xA0\xA0\xA0"+toDisplayString(unref(autoSkill$1)?"ON":"OFF"),9,_hoisted_4$9),createBaseVNode("span",{class:"selectable",selected:o.value==="autoScale",onClick:d[3]||(d[3]=c=>i("autoScale"))},"\u81EA\u52A8\u653E\u7F29:\xA0\xA0\xA0"+toDisplayString(unref(autoScale$1)?"ON":"OFF"),9,_hoisted_5$7),createBaseVNode("span",{class:"selectable",selected:o.value==="showHalo",onClick:d[4]||(d[4]=c=>i("showHalo"))},"\u5C55\u793A\u8303\u56F4\u5149\u73AF:\xA0\xA0\xA0"+toDisplayString(unref(showHalo$1)?"ON":"OFF"),9,_hoisted_6$6),createBaseVNode("span",{class:"selectable",selected:o.value==="useFixed",onClick:d[5]||(d[5]=c=>i("useFixed"))},"\u79FB\u52A8\u9F20\u6807\u663E\u793A\u602A\u7269\u4FE1\u606F:\xA0\xA0\xA0"+toDisplayString(unref(useFixed$1)?"ON":"OFF"),9,_hoisted_7$6),createBaseVNode("span",{class:"selectable",selected:o.value==="autoLocate",onClick:d[6]||(d[6]=c=>i("autoLocate"))},"\u52C7\u58EB\u81EA\u52A8\u5B9A\u4F4D:\xA0\xA0\xA0"+toDisplayString(unref(autoLocate$1)?"ON":"OFF"),9,_hoisted_8$5),createBaseVNode("span",{class:"selectable",selected:o.value==="antiAliasing",onClick:d[7]||(d[7]=c=>i("antiAliasing"))},"\u6297\u952F\u9F7F:\xA0\xA0\xA0"+toDisplayString(unref(antiAliasing$1)?"ON":"OFF"),9,_hoisted_9$5),unref(t).getSkillLevel(11)>0?(openBlock(),createElementBlock("span",{key:0,class:"selectable",selected:o.value==="showStudied",onClick:d[8]||(d[8]=c=>i("showStudied"))},"\u5C55\u793A\u5DF2\u5B66\u4E60\u6280\u80FD:\xA0\xA0\xA0"+toDisplayString(unref(showStudied$1)?"ON":"OFF"),9,_hoisted_10$5)):createCommentVNode("",!0)])]),right:withCtx(()=>[createBaseVNode("span",{innerHTML:unref(s)},null,8,_hoisted_11$5)]),_:1}))}}),settings_vue_vue_type_style_index_0_scoped_98d9836e_lang="",Settings=_export_sfc(_sfc_main$e,[["__scopeId","data-v-98d9836e"]]),tip={text:"\u6CE8\u610F\u4E8B\u9879",condition:"true",desc:["\u8FD9\u91CC\u663E\u793A\u672C\u5854\u4E2D\u9700\u8981\u6CE8\u610F\u7684\u4E8B\u9879\u3002","<br>","<br>",'1. <span style="color: yellow; font-weight: 700">',"\u672C\u767E\u79D1\u5168\u4E66\u5B57\u6570\u5F88\u591A\uFF0C\u53EF\u4EE5\u9009\u62E9\u6027\u5730\u9605\u8BFB\u3002</span>\u4E0D\u8FC7\u672C\u6761\u76EE\u6700\u597D\u53EF\u4EE5\u5168\u90E8\u9605\u8BFB\u4E00\u904D\u3002","<br>","<br>",'2. \u672C\u767E\u79D1\u5168\u4E66\u7684\u5185\u5BB9\u4F1A<span style="color: gold">\u968F\u7740\u6E38\u620F\u7684\u63A8\u8FDB\u800C\u589E\u52A0\u65B0\u5185\u5BB9</span>\uFF0C',"\u540C\u65F6\u6BCF\u6B21\u589E\u52A0\u65B0\u5185\u5BB9\u65F6\u90FD\u4F1A\u6709\u63D0\u793A\u3002","<br>","<br>","3. \u80CC\u5305\u4E2D\u7684\u7CFB\u7EDF\u8BBE\u7F6E\u540C\u6837\u975E\u5E38\u91CD\u8981\uFF0C\u6709\u4E9B\u95EE\u9898\u53EF\u4EE5\u5728\u90A3\u91CC\u627E\u5230\u539F\u56E0\u3002\u4F8B\u5982\u5F53\u4F60\u83B7\u5F97\u6280\u80FD\u65F6\u53EF\u80FD\u4F1A\u53D1\u73B0\u5F00\u542F\u4E0D\u4E86\u6280\u80FD\uFF0C","\u5C31\u662F\u56E0\u4E3A\u4F60\u6253\u5F00\u4E86\u81EA\u52A8\u5207\u6362\u6280\u80FD\u7684\u529F\u80FD\uFF0C\u5728\u7CFB\u7EDF\u8BBE\u7F6E\u91CC\u9762\u6709\u8BF4\u3002","<br>","<br>",'4. \u672C\u5854\u4E2D<span style="color: gold">\u51E0\u4E4E\u6240\u6709 ui </span>\u90FD\u53EF\u4EE5\u7EB5\u5411\u6EDA\u52A8\uFF0C\u5982\u679C\u53D1\u73B0\u663E\u793A\u4E0D\u5168\uFF0C',"\u53EF\u4EE5\u5C1D\u8BD5\u4E0A\u4E0B\u62D6\u52A8\uFF0C\u5C31\u50CF\u6D4F\u89C8\u7F51\u9875\u4E00\u6837\u3002\u7535\u8111\u7AEF\u8FD8\u53EF\u4EE5\u4F7F\u7528\u6EDA\u8F6E\u4E0A\u4E0B\u6EDA\u52A8\u3002","\u5927\u90E8\u5206\u53EF\u4EE5\u7EB5\u5411\u6EDA\u52A8\u7684 ui \u90FD\u4F1A\u5728\u53F3\u65B9\u6709\u4E00\u4E2A\u6EDA\u52A8\u6761\uFF0C\u4E5F\u53EF\u4EE5\u62D6\u52A8\u5B83\u8FDB\u884C\u6EDA\u52A8\uFF0C\u4F8B\u5982\u672C\u767E\u79D1\u5168\u4E66\u7684\u6761\u76EE\u5217\u8868\u548C","\u6761\u76EE\u8BF4\u660E\u90FD\u662F\u53EF\u4EE5\u901A\u8FC7\u4E0A\u8FF0\u65B9\u5F0F\u6EDA\u52A8\u7684\u3002","<br>","<br>","5. \u672C\u5854\u4E3B\u8981\u9762\u5411\u7535\u8111\u7AEF\u8BBE\u8BA1\uFF0C",'<span style="color: gold">\u5EFA\u8BAE\u4F7F\u7528\u7535\u8111\u6E38\u73A9\u4EE5\u83B7\u5F97\u66F4\u597D\u7684\u6E38\u620F\u4F53\u9A8C\uFF0C\u540C\u65F6\u4F7F\u7528\u7EA616:9\u7684\u6BD4\u4F8B\u6E38\u73A9\u66F4\u52A0\u5408\u9002',"</span>\u3002\u4F46\u662F\u624B\u673A\u4F9D\u7136\u53EF\u4EE5\u6E38\u73A9\u672C\u5854\uFF0C","\u4F46\u90E8\u5206\u64CD\u4F5C\u53EF\u80FD\u4E0D\u662F\u5F88\u65B9\u4FBF\uFF0Cui \u4E5F\u53EF\u80FD\u4E0D\u662F\u5F88\u7F8E\u89C2\uFF0C\u4E0D\u8FC7\u4F9D\u7136\u53EF\u4EE5\u5B8C\u6574\u4F53\u9A8C\u672C\u6E38\u620F\u3002","<br>","<br>",'6. \u5BF9\u4E8E\u624B\u673A\u7AEF\uFF0C\u53EF\u4EE5\u70B9\u51FB<span style="color: gold">\u53F3\u4E0B\u89D2\u7684\u96BE\u5EA6\u6587\u5B57</span>\u6765\u5207\u6362\u5DE5\u5177\u680F\u81F3\u6570\u5B57\u952E\u3002',"\u8FD9\u6837\uFF0C\u4F60\u53EF\u4EE5\u66F4\u52A0\u65B9\u4FBF\u5730\u8FDB\u884C\u4F7F\u7528\u6280\u80FD\u7B49\u64CD\u4F5C\u3002","<br>","<br>","6. \u672C\u5854\u4E2D\u51E0\u4E4E\u6240\u6709 ui \u5728\u6253\u5F00\u65F6\u90FD\u4F1A\u6709\u4E00\u4E2A0.6s\u7684\u52A8\u753B\uFF0C\u5982\u679C\u4E0D\u60F3\u8981\uFF0C\u53EF\u4EE5\u5728\u5F00\u5934\u6361\u7684\u7CFB\u7EDF\u8BBE\u7F6E\u91CC\u9762\u5173\u95ED\uFF08\u9ED8\u8BA4\u5173\u95ED\uFF09\u3002","\u540C\u65F6\uFF0C\u51E0\u4E4E\u6240\u6709 ui \u7684\u9000\u51FA\u6309\u94AE\u90FD\u5728\u5DE6\u4E0A\u89D2\u3002","<br>","<br>",'7. \u5730\u56FE\u4E0A\u663E\u793A\u7684\u602A\u7269\u4E34\u754C\u6709\u53EF\u80FD\u4E0D\u51C6\uFF0C\u5F53\u5176\u4E0E\u6298\u7EBF\u56FE\u6709\u5DEE\u5F02\u65F6\uFF0C<span style="color: gold">\u8BF7\u4EE5\u6298\u7EBF\u56FE\u4E3A\u51C6</span>\u3002']},about={text:"\u5173\u4E8E\u6E38\u620F",condition:"true",desc:["\u4F7F\u7528\u6837\u677F\uFF1AVite \u9B54\u5854\u6837\u677F","<br>","\u6837\u677F\u7248\u672C\uFF1AV2.10.0","<br>",'\u6E38\u620F\u5F00\u6E90\u5730\u5740\uFF1A<a href="https://github.com/unanmed/HumanBreak" target="_blank">',"https://github.com/unanmed/HumanBreak</a>","<br>","\u6E38\u620F\u4F5C\u8005\uFF1A\u53E4\u7960","<br>",'\u672C\u5854\u9075\u5FAAMIT\u5F00\u6E90\u534F\u8BAE\u3002<a href="LICENSE" target="_blank">\u67E5\u770B\u5F00\u6E90\u534F\u8BAE</a>',"<br>","BGM\u6765\u6E90\uFF1A\u7F51\u6613\u4E91\u97F3\u4E50\u7B49","<br>","\u7D20\u6750\u6765\u6E90\uFF1A\u5927\u7D20\u6750\u5E93\u3001\u7231\u7ED9\u7F51\u3001\u7F51\u7AD9\u7D20\u6750\u5E93\u7B49","<br>","\u7279\u522B\u9E23\u8C22\uFF1A\u65E0\u540D\u7532\u70F7\u83CC\uFF08\u63D0\u4F9B\u90E8\u5206\u7279\u6B8A\u5C5E\u6027\u4E0E\u673A\u5236\u60F3\u6CD5\uFF09","<br>","\u6D4B\u8BD5\uFF1A"]},tutorial={text:"\u65B0\u624B\u6559\u7A0B",condition:"true",desc:["\u672C\u6761\u76EE\u662F\u9B54\u5854\u6E38\u620F\u7684\u65B0\u624B\u6559\u7A0B\uFF0C\u5982\u679C\u5BF9\u9B54\u5854\u6709\u4E00\u5B9A\u7684\u4E86\u89E3\uFF0C\u53EF\u4EE5\u76F4\u63A5\u5FFD\u7565\u3002","<br>","<br>",'\u9B54\u5854\u662F\u4E00\u79CD\u56FA\u5B9A\u6570\u503Crpg\u6E38\u620F\uFF0C\u5728\u6253\u602A\u7684\u65F6\u5019\uFF0C\u9075\u5FAA<span style="color: gold">\u6211\u6253\u4F60\u4E00\u4E0B\uFF0C\u4F60\u6253\u6211\u4E00\u4E0B</span>',"\u7684\u539F\u5219\uFF0C\u9020\u6210\u7684\u4F24\u5BB3\u662F\u5DF1\u65B9\u653B\u51FB\u51CF\u53BB\u5BF9\u65B9\u9632\u5FA1\uFF0C\u6700\u540E\u602A\u7269\u7684\u4F24\u5BB3\u4FBF\u662F\u4F60\u5728\u6218\u6597\u4E2D\u5931\u53BB\u7684\u751F\u547D\u503C\u3002\u5F53\u7136\uFF0C\u4E3A\u4E86\u6E38\u620F\u4F53\u9A8C\uFF0C","\u6218\u6597\u8FC7\u7A0B\u4F1A\u88AB\u7701\u7565\u3002","<br>","<br>","\u5B9D\u77F3\u53EF\u4EE5\u589E\u52A0\u4F60\u7684\u5C5E\u6027\uFF0C\u5728\u5927\u90E8\u5206\u9B54\u5854\u4E2D\uFF0C\u7EA2\u5B9D\u77F3\u589E\u52A0\u653B\u51FB\uFF0C\u84DD\u5B9D\u77F3\u589E\u52A0\u9632\u5FA1\uFF0C\u672C\u5854\u4E5F\u4E0D\u4F8B\u5916\u3002\u8840\u74F6\u53EF\u4EE5\u589E\u52A0\u4F60\u7684\u751F\u547D\u503C\u3002",'\u4E00\u822C\u60C5\u51B5\u4E0B\uFF0C\u62FE\u53D6\u5B9D\u7269\u7684\u4F18\u5148\u7EA7\u662F<span style="color: gold">\u7EA2\u5B9D\u77F3 &gt; \u84DD\u5B9D\u77F3 &gt; \u8840\u74F6</span>\uFF0C',"\u4F46\u90E8\u5206\u60C5\u51B5\u53EF\u80FD\u4E0D\u662F\u8FD9\u6837\uFF0C\u8FD9\u9700\u8981\u4F60\u81EA\u5DF1\u7684\u6E38\u73A9\u7ECF\u9A8C\u7B49\u3002","<br>","<br>","\u672C\u5854\u8FD8\u62E5\u6709\u5347\u7EA7\u673A\u5236\uFF0C\u5347\u7EA7\u65F6\u80FD\u591F\u7ED9\u4F60\u589E\u52A0\u5927\u91CF\u7684\u5C5E\u6027\uFF0C\u56E0\u6B64\uFF0C\u4E00\u822C\u60C5\u51B5\u4E0B\u5F53\u4F60\u63A5\u8FD1\u5347\u7EA7\u65F6\uFF0C\u9700\u8981\u5C3D\u5FEB\u6253\u602A\u5347\u7EA7\u3002","<br>","<br>","\u7136\u540E\u662F\u95E8\u3002\u5728\u9B54\u5854\u4E2D\uFF0C\u5F88\u591A\u95E8\u90FD\u4E0D\u662F\u5FC5\u5F00\u7684\u95E8\uFF0C\u5B83\u4EEC\u7684\u4F5C\u7528\u4E00\u822C\u662F\u53EF\u4EE5\u8EB2\u5F00\u602A\u7269\u62FF\u5B9D\u77F3\uFF0C\u6216\u8005\u95E8\u91CC\u9762\u6709\u8840\u74F6\u7B49\u3002","\u5F53\u4F60\u8840\u91CF\u8DB3\u591F\u65F6\uFF0C\u8FD9\u4E9B\u95E8\u53EF\u4EE5\u4E0D\u7528\u5F00\uFF0C\u4E0D\u7136\u53EF\u80FD\u4F1A\u6709\u5FC5\u5F00\u7684\u95E8\u65E0\u6CD5\u5F00\u542F\u5BFC\u81F4\u5361\u5173\u3002\u5BF9\u4E8E\u94A5\u5319\uFF0C\u6BCF\u79CD\u989C\u8272\u7684\u94A5\u5319\u5F00\u5BF9\u5E94\u989C\u8272\u7684\u95E8\uFF0C",'\u4EF7\u503C\u662F<span style="color: gold">\u7EA2 &gt; \u84DD &gt; \u9EC4</span>\u3002',"<br>","<br>","\u4E3A\u4E86\u66F4\u52A0\u65B9\u4FBF\uFF0C\u672C\u5854\u589E\u52A0\u4E86\u5B9D\u77F3\u8840\u74F6\u663E\u793A\u6570\u636E\u7684\u529F\u80FD\uFF0C\u8FD9\u6837\u4F60\u53EF\u4EE5\u6E05\u6670\u5730\u77E5\u9053\u6BCF\u4E2A\u5B9D\u77F3\u589E\u52A0\u4E86\u591A\u5C11\u5C5E\u6027\u3002","<br>","<br>","\u4E0B\u9762\u662F\u52C7\u58EB\u57FA\u7840\u5C5E\u6027\u7684\u8BF4\u660E:","<br>",'<span style="color: lightgreen">1. \u751F\u547D\u503C</span>\uFF1A',"\u52C7\u58EB\u7684\u8840\u91CF\uFF0C\u5F53\u5B83\u5F52\u96F6\u65F6\uFF0C\u6E38\u620F\u7ED3\u675F","<br>",'<span style="color: lightcoral">2. \u653B\u51FB</span>\uFF1A',"\u52C7\u58EB\u7684\u653B\u51FB\uFF0C\u653B\u51FB\u8D8A\u9AD8\uFF0C\u6BCF\u56DE\u5408\u5BF9\u602A\u7269\u9020\u6210\u7684\u4F24\u5BB3\u8D8A\u9AD8","<br>",'<span style="color: lightblue">3. \u9632\u5FA1</span>\uFF1A',"\u52C7\u58EB\u7684\u9632\u5FA1\uFF0C\u9632\u5FA1\u8D8A\u9AD8\uFF0C\u602A\u7269\u6BCF\u56DE\u5408\u5BF9\u4F60\u9020\u6210\u7684\u4F24\u5BB3\u8D8A\u4F4E","<br>",'<span style="color: green">4. \u7ECF\u9A8C</span>\uFF1A',"\u52C7\u58EB\u7684\u7ECF\u9A8C\uFF0C\u5230\u8FBE\u4E00\u5B9A\u503C\u540E\u4F1A\u5347\u7EA7\u3002\u672C\u5854\u5728\u72B6\u6001\u680F\u4E2D\u663E\u793A\u4E3A\u8DDD\u79BB\u5347\u7EA7\u5269\u4F59\u7684\u7ECF\u9A8C","<br>",'<span style="color: gold">5. \u91D1\u5E01</span>\uFF1A',"\u52C7\u58EB\u7684\u91D1\u5E01\uFF0C\u53EF\u4EE5\u7528\u4E8E\u8D2D\u4E70\u7269\u54C1\u3002\u672C\u5854\u4E2D\u5728\u8FDB\u5165\u7B2C\u4E8C\u7AE0\u540E\u4F1A\u6709\u7528","<br>",'<span style="color: lightgreen">6. \u62A4\u76FE</span>\uFF1A',"\u52C7\u58EB\u7684\u62A4\u76FE\uFF0C\u7528\u5904\u662F\u80FD\u591F\u5728\u6218\u540E\u51CF\u5C11\u540C\u7B49\u6570\u503C\u7684\u4F24\u5BB3\uFF0C\u5728\u672C\u5854\u4E2D\u53EF\u4EE5\u4F7F\u4F24\u5BB3\u53D8\u4E3A\u8D1F\u503C\u3002\u672C\u5854\u4E2D\uFF0C\u5728\u70B9\u5F00\u65E0\u4E0A\u4E4B\u76FE\u6280\u80FD\u540E\uFF0C","\u667A\u6167\u4F1A\u5145\u5F53\u62A4\u76FE\u3002\u66F4\u591A\u4FE1\u606F\u53EF\u4EE5\u67E5\u770B\u201C\u52C7\u58EB\u5C5E\u6027\u201D\u6761\u76EE\u3002"]},noun={text:"\u540D\u8BCD\u89E3\u91CA",condition:"true",desc:["\u672C\u6761\u76EE\u4F1A\u89E3\u91CA\u8BF8\u5982\u4E34\u754C\u7B49\u9B54\u5854\u672F\u8BED\uFF0C\u5BF9\u9B54\u5854\u6709\u4E00\u5B9A\u4E86\u89E3\u7684\u53EF\u4EE5\u76F4\u63A5\u5FFD\u7565\u3002","<br>","<br>",'<span style="color: lightcoral">1. \u4E34\u754C</span>\uFF1A',"\u5728\u9B54\u5854\u4E2D\uFF0C\u4E34\u754C\u662F\u4E00\u4E2A\u975E\u5E38\u91CD\u8981\u7684\u4E1C\u897F\u3002\u9996\u5148\uFF0C\u6211\u4EEC\u5F88\u5BB9\u6613\u53EF\u4EE5\u5F97\u5230\uFF0C\u5403\u653B\u51FB\u65F6\u53EA\u6709\u5F53\u51CF\u5C11\u4E86\u6218\u6597\u56DE\u5408\u6570\u65F6\u602A\u7269\u7684\u4F24\u5BB3\u4F1A\u51CF\u5C11\uFF0C",'\u90A3\u4E48\uFF0C\u5403\u653B\u51FB\u65F6\u602A\u7269\u7684\u51CF\u4F24\u662F\u4E0D\u8FDE\u7EED\u7684\u3002\u800C<span style="color: gold">\u8DDD\u79BB\u4E0B\u4E00\u6B21\u51CF\u5C11\u602A\u7269\u7684\u4F24\u5BB3\u9700\u8981\u52A0\u7684\u653B\u51FB\u7684\u91CF</span>',"\u4FBF\u662F\u4E34\u754C\u3002\u5F53\u6211\u4EEC\u5403\u4E00\u4E2A\u653B\u51FB\u6070\u597D\u4F7F\u602A\u7269\u4F24\u5BB3\u51CF\u5C11\u65F6\uFF0C\u79F0\u4E3A\u201C\u8E29\u4E34\u754C\u201D\u3002\u4E00\u822C\u60C5\u51B5\u4E0B\uFF0C\u8E29\u4E34\u754C\u7684\u51CF\u4F24\u8981\u6BD4\u5403\u9632\u5FA1\u8981\u9AD8\uFF0C","\u56E0\u6B64\uFF0C\u5F53\u80FD\u8E29\u5230\u4E34\u754C\u65F6\uFF0C\u6211\u4EEC\u5E94\u5F53\u5148\u8E29\u4E34\u754C\uFF0C\u518D\u5403\u9632\u5FA1\u3002","<br>","<br>",'<span style="color: lightblue">2. \u52A0\u9632</span>\uFF1A',"\u52A0\u9632\u6307\u7684\u662F\u52A0\u9632\u5BF9\u602A\u7269\u7684\u51CF\u4F24\u3002\u5728\u672C\u5854\u4E2D\uFF0C\u4F1A\u4EE5\u201Cn\u9632\u201D\u7684\u5F62\u5F0F\u663E\u793A\u5728\u602A\u7269\u624B\u518C\u6216\u5176\u4ED6\u5730\u65B9\u3002\u5728\u672C\u5854\u4E2D\uFF0C\u4E00\u822C\u4F60\u4E0D\u9700\u8981\u523B\u610F\u8BA1\u7B97",'\u4E34\u754C\u4E0E\u52A0\u9632\u51CF\u4F24\uFF0C\u4F60\u53EF\u4EE5\u5728\u602A\u7269\u624B\u518C\u4E2D<span style="color: gold">\u67E5\u770B\u51CF\u4F24\u6298\u7EBF\u56FE</span>\uFF0C',"\u66F4\u591A\u4FE1\u606F\u8BF7\u67E5\u770B\u201C\u602A\u7269\u624B\u518C\u201D\u6761\u76EE\u3002","<br>","<br>",'<span style="color: gold">3. \u54B8\u9C7C</span>\uFF1A',"\u4E00\u822C\u6765\u8BB2\uFF0C\u5F00\u4E0D\u5FC5\u5F00\u7684\u95E8\uFF0C\u6216\u8005\u4F7F\u7528\u4E0D\u5FC5\u4F7F\u7528\u7684\u9053\u5177\u88AB\u79F0\u4E3A\u54B8\u9C7C\uFF0C\u6216\u8005\u662F\u54B8\u95E8\uFF0C\u54B8\u9053\u5177\u3002\u4E00\u822C\u60C5\u51B5\u4E0B\uFF0C\u8BF4\u201C\u54B8\u201D\u4FBF\u662F\u6307\u54B8\u9C7C\u3002","\u4E00\u822C\u60C5\u51B5\u4E0B\uFF0C\u95E8\u540E\u9762\u6709\u5B9D\u77F3\u4E14\u65E0\u6CD5\u901A\u8FC7\u5176\u4ED6\u65B9\u5F0F\u8FDB\u5165\u7684\u90FD\u662F\u5FC5\u5F00\u95E8\uFF0C\u800C\u53EA\u6709\u8840\u74F6\u7684\u90FD\u662F\u54B8\u9C7C\u95E8\u3002"]},shortcut={text:"\u5FEB\u6377\u952E",condition:"true",desc:["\u8FD9\u91CC\u5305\u542B\u672C\u5854\u4E2D\u6240\u6709\u7684\u5FEB\u6377\u952E\u3002\u5BF9\u4E8E\u624B\u673A\u7AEF\uFF0C\u53EF\u4EE5\u70B9\u51FB\u5DE5\u5177\u680F\u7684\u96BE\u5EA6\u7684\u4F4D\u7F6E\u5207\u6362\u5DE5\u5177\u680F\u81F3\u6570\u5B57\u952E\u3002","\u4E0B\u9762\u4F1A\u5206\u4E3A\u6837\u677F\u5FEB\u6377\u952E\u548C\u672C\u5854\u5FEB\u6377\u952E\u4E24\u7C7B\u5206\u522B\u8BF4\u660E\u3002\u53EF\u4EE5ctrl+F\u8FDB\u884C\u641C\u7D22\u5FEB\u6377\u952E\u7684\u529F\u80FD\u3002","<br>","<br>","\u4E0B\u9762\u662F\u6837\u677F\u4E2D\u7684\u6240\u6709\u5FEB\u6377\u952E\uFF1A","<br>",'<span style="color: gold">X</span>\uFF1A\u6253\u5F00\u602A\u7269\u624B\u518C',"<br>",'<span style="color: gold">S</span>\uFF1A\u6253\u5F00\u5B58\u6863\u754C\u9762',"<br>",'<span style="color: gold">D</span>\uFF1A\u6253\u5F00\u8BFB\u6863\u754C\u9762',"<br>",'<span style="color: gold">A\u62165</span>\uFF1A\u8BFB\u53D6\u81EA\u52A8\u5B58\u6863',"<br>",'<span style="color: gold">W\u62166</span>\uFF1A\u64A4\u9500\u8BFB\u53D6\u7684\u81EA\u52A8\u5B58\u6863',"<br>",'<span style="color: gold">Q</span>\uFF1A\u6253\u5F00\u88C5\u5907\u680F',"<br>",'<span style="color: gold">T</span>\uFF1A\u6253\u5F00\u9053\u5177\u680F',"<br>",'<span style="color: gold">G</span>\uFF1A\u6253\u5F00\u697C\u5C42\u4F20\u9001\u5668',"<br>",'<span style="color: gold">Z\u6216\u5355\u51FB\u52C7\u58EB</span>\uFF1A\u52C7\u58EB\u8F6C\u5411',"<br>",'<span style="color: gold">\u7A7A\u683C\u6216\u53CC\u51FB\u52C7\u58EB\u62167</span>\uFF1A\u8F7B\u6309\uFF08\u62FE\u53D6\u52C7\u58EB\u5468\u56F4\u7684\u5B9D\u7269\u4F46\u4E0D\u79FB\u52A8\u52C7\u58EB\uFF09',"<br>",'<span style="color: gold">Esc</span>\uFF1A\u6253\u5F00\u6E38\u620F\u83DC\u5355',"<br>",'<span style="color: gold">R</span>\uFF1A\u6253\u5F00\u5F55\u50CF\u56DE\u653E\u83DC\u5355',"<br>",'<span style="color: gold">N</span>\uFF1A\u8BE2\u95EE\u662F\u5426\u8FD4\u56DE\u6E38\u620F\u4E3B\u83DC\u5355',"<br>",'<span style="color: gold">V</span>\uFF1A\u6253\u5F00\u5FEB\u6377\u5546\u5E97',"<br>",'<span style="color: gold">B</span>\uFF1A\u6253\u5F00\u6570\u636E\u7EDF\u8BA1\u754C\u9762',"<br>",'<span style="color: gold">Alt + \u6570\u5B57\u952E</span>\uFF1A\u5FEB\u901F\u6362\u88C5',"<br>",'<span style="color: gold">PgUp\u6216PgDn</span>\uFF1A\u6D4F\u89C8\u5730\u56FE',"<br>",'<span style="color: gold">P</span>\uFF1A\u6253\u5F00\u8BC4\u8BBA\u533A',"<br>","<br>","\u4E0B\u9762\u662F\u672C\u5854\u4E2D\u65B0\u589E\u7684\u5FEB\u6377\u952E\uFF08\u4E0D\u5305\u62EC\u6280\u80FD\uFF0C\u6280\u80FD\u5FEB\u6377\u952E\u8BF7\u5728\u67E5\u770B\u6280\u80FD\u754C\u9762\u4E2D\u67E5\u770B\uFF09\uFF1A","<br>",'<span style="color: gold">M</span>\uFF1A\u5FEB\u901F\u6807\u8BB0\u602A\u7269',"<br>",'<span style="color: gold">J</span>\uFF1A\u6253\u5F00\u6280\u80FD\u6811',"<br>",'<span style="color: gold">H</span>\uFF1A\u6253\u5F00\u767E\u79D1\u5168\u4E66',"<br>",'<span style="color: gold">E</span>\uFF1A\u67E5\u770B\u9F20\u6807\u4F4D\u7F6E\u602A\u7269\u7684\u7279\u6B8A\u5C5E\u6027\u4FE1\u606F',"<br>",'<span style="color: gold">C</span>\uFF1A\u67E5\u770B\u9F20\u6807\u4F4D\u7F6E\u602A\u7269\u7684\u8BE6\u7EC6\u4E34\u754C\u4FE1\u606F']},extraAttr={text:"\u52C7\u58EB\u5C5E\u6027",condition:"true",desc:["\u8FD9\u91CC\u53EA\u5BF9\u672C\u5854\u4E2D\u65B0\u589E\u7684\u52C7\u58EB\u5C5E\u6027\u8FDB\u884C\u8BF4\u660E\u3002","<br>","<br>",'<span style="color: lightblue">1. \u667A\u6167</span>\uFF1A',"\u667A\u6167\u662F\u8BE5\u5854\u7684\u6838\u5FC3\u5C5E\u6027\u4E4B\u4E00\u3002\u667A\u6167\u53EF\u7528\u4E8E\u667A\u6167\u52A0\u70B9\uFF0C\u8BE5\u529F\u80FD\u4F1A\u5728\u8FDB\u5165\u7B2C\u4E00\u7AE0\u540E\u5F00\u542F\u3002\u4F7F\u7528\u667A\u6167\u53EF\u4EE5\u70B9\u6280\u80FD\u6811\u3002","\u9664\u6B64\u4E4B\u5916\uFF0C\u667A\u6167\u4E5F\u6709\u5176\u5B83\u529F\u80FD\u3002\u4F8B\u5982\u70B9\u5F00\u65E0\u4E0A\u4E4B\u76FE\u6280\u80FD\u540E\u667A\u6167\u8FD8\u53EF\u4EE5\u5145\u5F53\u62A4\u76FE\uFF0C\u7B2C\u4E8C\u7AE0\u70B9\u5F00\u5B66\u4E60\u6280\u80FD\u540E\u53EF\u4EE5\u4F7F\u7528\u667A\u6167\u5B66\u4E60\u602A\u7269\u6280\u80FD\u7B49\u3002","<br>","<br>",'<span style="color: lightgreen">2. \u751F\u547D\u56DE\u590D</span>\uFF1A',"\u751F\u547D\u56DE\u590D\u6307\u7684\u662F\u52C7\u58EB\u6BCF\u56DE\u5408\u56DE\u590D\u7684\u751F\u547D\u503C\u3002\u5F53\u4E0E\u602A\u7269\u6218\u6597\u65F6\uFF0C\u52C7\u58EB\u6BCF\u56DE\u5408\u90FD\u4F1A\u56DE\u590D\u5BF9\u5E94\u91CF\u7684\u751F\u547D\u503C\u3002\u56E0\u6B64\uFF0C\u5F53\u5403\u653B\u51FB\u65F6\uFF0C","\u4E0E\u602A\u7269\u6218\u6597\u7684\u56DE\u5408\u6570\u53EF\u80FD\u4F1A\u51CF\u5C11\uFF0C\u5BFC\u81F4\u751F\u547D\u56DE\u590D\u7684\u603B\u56DE\u590D\u91CF\u51CF\u5C11\u3002\u4E0D\u8FC7\u5927\u90E8\u5206\u60C5\u51B5\u4E0B\u4E0D\u9700\u8981\u5728\u610F\u8FD9\u4E00\u70B9\uFF0C","\u51CF\u5C11\u4E00\u56DE\u5408\u5E76\u4E0D\u4F1A\u5BF9\u5438\u7684\u8840\u9020\u6210\u5F88\u5927\u7684\u5F71\u54CD\uFF0C\u9664\u4E86\u4E00\u4E9B\u7279\u6B8A\u60C5\u51B5\u3002","\u8BE5\u9879\u4F1A\u663E\u793A\u5728\u72B6\u6001\u680F\u7684\u751F\u547D\u503C\u53F3\u65B9\u504F\u4E0B\u7684\u4F4D\u7F6E\u3002","<br>","<br>",'<span style="color: lightcoral">3. \u989D\u5916\u653B\u51FB</span>\uFF1A',"\u989D\u5916\u653B\u51FB\u6307\u7684\u662F\u52C7\u58EB\u6BCF\u56DE\u5408\u7684\u989D\u5916\u9020\u6210\u7684\u4F24\u5BB3\u3002\u4E00\u822C\u60C5\u51B5\u4E0B\uFF0C\u5F53\u52C7\u58EB\u7834\u4E86\u602A\u7269\u7684\u9632\u5FA1\u65F6\uFF0C\u8BE5\u9879\u4FBF\u4F1A\u8D77\u4F5C\u7528\u3002","\u989D\u5916\u653B\u51FB\u76F8\u5F53\u4E8E\u9B54\u653B\uFF0C\u65E0\u6CD5\u901A\u8FC7\u4E00\u822C\u65B9\u5F0F\u51CF\u514D\u3002\u5F53\u52C7\u58EB\u653B\u51FB\u602A\u7269\u65F6\uFF0C\u6BCF\u56DE\u5408\u90FD\u4F1A\u9644\u52A0\u5BF9\u5E94\u91CF\u7684\u4F24\u5BB3\uFF0C\u5BF9\u575A\u56FA\u602A\u540C\u6837\u6709\u6548\u3002","\u989D\u5916\u653B\u51FB\u4F1A\u663E\u793A\u5728\u72B6\u6001\u680F\u7684\u653B\u51FB\u53F3\u65B9\u504F\u4E0B\u7684\u4F4D\u7F6E\u3002"]},statusBar={text:"\u72B6\u6001\u680F",condition:"true",desc:["\u5728\u672C\u5854\u4E2D\uFF0C\u72B6\u6001\u680F\u4E0E\u6E38\u620F\u753B\u9762\u662F\u5206\u5F00\u7684\u3002\u4F60\u53EF\u4EE5\u81EA\u7531\u62D6\u52A8\u72B6\u6001\u680F\uFF0C\u4E5F\u53EF\u4EE5\u4FEE\u6539\u5176\u5927\u5C0F\u3002","\u5177\u4F53\u65B9\u6CD5\u5982\u4E0B\uFF1A\u70B9\u51FB\u4E00\u4E0B\u72B6\u6001\u680F\u4E4B\u540E\uFF0C\u5DE6\u4E0A\u89D2\u7684\u62D6\u62FD\u56FE\u6807\u4F1A\u653E\u5927\uFF0C\u6B64\u65F6\u4F60\u53EF\u4EE5\u6309\u4F4F\u5B83\u62D6\u52A8\u72B6\u6001\u680F\u3002","\u4F60\u53EF\u4EE5\u76F4\u63A5\u5C06\u9F20\u6807\u653E\u5230\u72B6\u6001\u680F\u7684\u8FB9\u6846\u4E0A\uFF0C\u7136\u540E\u76F4\u63A5\u62D6\u52A8\u4EE5\u6539\u53D8\u72B6\u6001\u680F\u7684\u5927\u5C0F\u3002\u624B\u673A\u7AEF\u53EF\u4EE5\u5148\u70B9\u51FB\u4E00\u4E0B\u72B6\u6001\u680F\u4F7F\u8FB9\u6846","\u53D8\u5BBD\uFF0C\u7136\u540E\u62D6\u52A8\u3002\u7535\u8111\u7AEF\u70B9\u51FB\u72B6\u6001\u680F\u4E5F\u53EF\u4EE5\u4F7F\u8FB9\u6846\u53D8\u5BBD\u3002\u5982\u679C\u4F60\u60F3\u6298\u53E0\u72B6\u6001\u680F\uFF0C\u5B8C\u5168\u53EF\u4EE5\u62D6\u52A8\u72B6\u6001\u680F\u7684\u4E0B\u8FB9\u6846\uFF0C","\u7136\u540E\u76F4\u63A5\u62D6\u52A8\u81F3\u4E0A\u65B9\uFF0C\u8FD9\u65F6\u72B6\u6001\u680F\u4FBF\u4F1A\u53D8\u6210\u4E00\u6761\u7EBF\uFF0C\u76F8\u5F53\u4E8E\u6298\u53E0\u4E86\u72B6\u6001\u680F","<br>","<br>","\u72B6\u6001\u680F\u53EF\u4EE5\u7EB5\u5411\u6EDA\u52A8\uFF0C\u5982\u679C\u4F60\u53D1\u73B0\u72B6\u6001\u680F\u663E\u793A\u4E0D\u5168\uFF0C\u53EF\u4EE5\u5C1D\u8BD5\u62C9\u5927\u72B6\u6001\u680F\uFF0C\u6216\u8005\u7EB5\u5411\u62D6\u52A8\u72B6\u6001\u680F\uFF0C\u5C31\u50CF\u7F51\u9875\u4E0A\u4E0B\u6EDA\u52A8\u4E00\u6837\u3002","\u7535\u8111\u7AEF\u8FD8\u53EF\u4EE5\u4F7F\u7528\u6EDA\u8F6E\u4E0A\u4E0B\u6EDA\u52A8\u3002","<br>","<br>","\u5982\u679C\u4F60\u89C9\u5F97\u72B6\u6001\u680F\u6709\u4E9B\u788D\u4E8B\uFF0C\u4F60\u5B8C\u5168\u53EF\u4EE5\u5C06\u5176\u7F29\u5C0F\uFF0C\u6216\u8005\u628A\u5B83\u653E\u5230\u4E0D\u788D\u4E8B\u7684\u5730\u65B9\u3002","<br>","<br>","\u72B6\u6001\u680F\u4E0A\u9762\u53EF\u80FD\u4F1A\u6709\u6309\u94AE\uFF0C\u4F60\u53EF\u4EE5\u76F4\u63A5\u70B9\u51FB\u3002","<br>","<br>","\u5BF9\u72B6\u6001\u680F\u5E03\u5C40\u7684\u8BF4\u660E\u3002","<br>","\u672C\u5854\u7684\u72B6\u6001\u680F\u7684\u5E03\u5C40\u8F83\u4E3A\u7075\u6D3B\u3002\u5B83\u662F\u6A2A\u5411\u7684\u5E03\u5C40\uFF0C\u5728\u72B6\u6001\u680F\u8F83\u5BBD\u65F6\u53EF\u4EE5\u770B\u5230\uFF0C\u5C5E\u6027\u4F1A\u6A2A\u5411\u4F9D\u6B21\u663E\u793A\u3002\u6309\u7167\u663E\u793A\u987A\u5E8F\uFF0C","\u72B6\u6001\u680F\u663E\u793A\u9879\u4F9D\u6B21\u4E3A\uFF1A","<br>","<br>","1. \u697C\u5C42\u540D\uFF0C\u70B9\u51FB\u540E\u8FDB\u5165\u6D4F\u89C8\u5730\u56FE\u754C\u9762","<br>","2. \u52C7\u58EB\u7B49\u7EA7","<br>","3. \u5F53\u524D\u5F00\u542F\u7684\u6280\u80FD","<br>","4. \u5F53\u524D\u52C7\u58EB\u751F\u547D\u503C\uFF0C\u53F3\u65B9\u504F\u4E0B\u4E3A\u6BCF\u56DE\u5408\u56DE\u590D\u7684\u751F\u547D\u503C\uFF0C\u5F53\u70B9\u5F00\u6CBB\u6108\u4E4B\u6CC9\u6280\u80FD\u65F6\uFF0C\u53F3\u65B9\u504F\u4E0A\u4F1A\u663E\u793A\u8DDD\u79BB\u589E\u52A0\u751F\u547D\u56DE\u590D\u5269\u4F59\u8840\u74F6\u6570","<br>","5. \u5F53\u524D\u52C7\u58EB\u7684\u653B\u51FB\uFF0C\u53F3\u65B9\u504F\u4E0B\u4E3A\u52C7\u58EB\u7684\u989D\u5916\u653B\u51FB","<br>","6. \u5F53\u524D\u52C7\u58EB\u7684\u9632\u5FA1","<br>","7. \u5F53\u524D\u52C7\u58EB\u7684\u667A\u6167\uFF0C\u53EF\u4EE5\u7528\u4E8E\u667A\u6167\u52A0\u70B9\u7B49","<br>","8. \u5F53\u524D\u52C7\u58EB\u7684\u91D1\u5E01","<br>","9. \u5F53\u524D\u52C7\u58EB\u8DDD\u79BB\u5347\u7EA7\u5269\u4F59\u7ECF\u9A8C\u6570","<br>","10. \u4E09\u8272\u94A5\u5319","<br>","11. \u6253\u5F00\u6280\u80FD\u6811\uFF08\u8FDB\u5165\u7B2C\u4E00\u7AE0\u540E\u5F00\u542F\uFF09","<br>","12. \u67E5\u770B\u52C7\u58EB\u7684\u6280\u80FD\uFF08\u8FDB\u5165\u7B2C\u4E00\u7AE0\u540E\u5F00\u542F\uFF09"]},markEnemy={text:"\u6807\u8BB0\u602A\u7269",condition:"true",desc:["\u6807\u8BB0\u602A\u7269\u53EF\u4EE5\u4F7F\u4F60\u80FD\u591F\u66F4\u52A0\u65B9\u4FBF\u5730\u4E86\u89E3\u4E00\u4E2A\u602A\u7269\u7684\u60C5\u51B5\u3002","<br>","\u4F60\u53EF\u4EE5\u901A\u8FC7\u4EE5\u4E0B\u4E24\u79CD\u65B9\u5F0F\u6807\u8BB0\u602A\u7269\uFF1A","<br>","1. \u6253\u5F00\u602A\u7269\u624B\u518C\uFF0C\u9009\u4E2D\u602A\u7269\uFF0C\u8FDB\u5165\u602A\u7269\u66F4\u591A\u4FE1\u606F\u680F\uFF0C\u70B9\u51FB\u6807\u8BB0\u602A\u7269\u3002","<br>",'2. \u5C06\u9F20\u6807\u79FB\u52A8\u5230\u4F60\u60F3\u8981\u6807\u8BB0\u7684\u602A\u7269\u4E0A\u9762\uFF0C<span style="color: gold">',"\u6309\u4E0BM\u952E</span>\uFF0C\u5373\u53EF\u6807\u8BB0\u602A\u7269\uFF0C\u6CE8\u610F\u6D4F\u89C8\u5730\u56FE\u4E2D\u4E0D\u80FD\u7528\u8BE5\u65B9\u5F0F\u6807\u8BB0\u3002","\u624B\u673A\u7AEF\u6682\u65F6\u6CA1\u6709\u5FEB\u901F\u6807\u8BB0\u602A\u7269\u7684\u65B9\u5F0F\u3002","<br>","<br>","\u5F53\u4E00\u4E2A\u602A\u7269\u88AB\u6807\u8BB0\u540E\uFF0C\u602A\u7269\u4F1A\u6709\u4EE5\u4E0B\u884C\u4E3A\uFF1A","<br>","1. \u5F53\u52C7\u58EB\u6070\u597D\u80FD\u6253\u8D25\u602A\u7269\u65F6\uFF0C\u4F1A\u8FDB\u884C\u63D0\u793A","<br>","2. \u5F53\u602A\u7269\u7684\u4F24\u5BB3\u6070\u597D\u4F4E\u4E8E\u52C7\u58EB\u751F\u547D\u503C\u76842/3\u62161/3\u65F6\uFF0C\u4F1A\u8FDB\u884C\u63D0\u793A","<br>","3. \u5F53\u52C7\u58EB\u6070\u597D\u8E29\u5230\u602A\u7269\u7684\u4E34\u754C\u65F6\uFF0C\u4F1A\u8FDB\u884C\u63D0\u793A","<br>","4. \u5F53\u602A\u7269\u96F6\u4F24\u65F6\uFF0C\u4F1A\u8FDB\u884C\u63D0\u793A","<br>","5. \u88AB\u6807\u8BB0\u7684\u602A\u7269\u4F1A\u51FA\u73B0\u7C7B\u4F3C\u4E8E\u72B6\u6001\u680F\u7684\u76D2\u5B50\uFF0C\u53EF\u4EE5\u968F\u610F\u62D6\u52A8\u548C\u6539\u53D8\u5927\u5C0F\u3002\u4F60\u4E5F\u53EF\u4EE5\u9009\u62E9\u5173\u95ED\u8FD9\u4E2A\u76D2\u5B50\uFF0C","\u88AB\u5173\u95ED\u540E\u53EF\u4EE5\u901A\u8FC7\u91CD\u65B0\u6807\u8BB0\u6765\u6253\u5F00\u3002\u8FD9\u4E2A\u76D2\u5B50\u4F1A\u663E\u793A\u6807\u8BB0\u7684\u602A\u7269\u7684\u4E34\u754C\u4E0E\u4F24\u5BB3\u4FE1\u606F\u7B49\uFF0C\u4E0E\u72B6\u6001\u680F\u4E00\u6837\uFF0C\u53EF\u4EE5\u7EB5\u5411\u6EDA\u52A8\u3002","<br>","<br>","\u8FD9\u4E2A\u529F\u80FD\u53EF\u4EE5\u7528\u4E8E\u6807\u8BB0boss\u6216\u8005\u8F83\u5F3A\u7684\u6321\u8DEF\u602A\uFF0C\u5F53\u8FD9\u4E9B\u602A\u80FD\u591F\u653B\u51FB\u65F6\u4F60\u53EF\u4EE5\u76F4\u63A5\u6536\u5230\u4FE1\u606F\uFF0C\u4E0D\u9700\u8981\u518D\u65F6\u523B\u8D39\u5FC3\u6CE8\u610F\u602A\u7269\u7684\u4F24\u5BB3\u3002","<br>","<br>","\u6CE8\u610F\uFF0C\u6807\u8BB0\u7684\u602A\u7269\u662F\u4E0D\u8BA1\u5165\u5B58\u6863\u7684\uFF0C\u540C\u65F6\u6807\u8BB0\u7684\u602A\u7269\u53EA\u5728\u672C\u6B21\u6E38\u620F\u4E2D\u6709\u6548\uFF0C\u5237\u65B0\u9875\u9762\u540E\u4FBF\u4F1A\u6D88\u5931\u3002"]},book={text:"\u602A\u7269\u624B\u518C",condition:"true",desc:["\u672C\u5854\u7684\u602A\u7269\u624B\u518C\u529F\u80FD\u5F88\u591A\uFF0C\u4E0B\u9762\u4E00\u4E00\u4ECB\u7ECD\u3002","<br>","<br>","\u9996\u5148\uFF0C\u4F60\u53EF\u4EE5\u6309X\u6253\u5F00\u602A\u7269\u624B\u518C\u3002\u9664\u6B64\u4E4B\u5916\uFF0C\u5C06\u9F20\u6807\u79FB\u52A8\u5230\u602A\u7269\u4E0A\u4E5F\u53EF\u4EE5\u5B9A\u70B9\u67E5\u770B\u602A\u7269\u7684\u7C97\u7565\u4FE1\u606F\u3002",'\u5C06\u9F20\u6807\u79FB\u52A8\u5230\u4E00\u4E2A\u602A\u7269\u4E0A\uFF0C\u6309\u4E0B<span style="color: gold">','E\u952E</span>\uFF0C\u53EF\u4EE5\u67E5\u770B\u8BE5\u602A\u7269\u7684\u7279\u6B8A\u5C5E\u6027\u4FE1\u606F\u3002\u6309\u4E0B<span style="color: gold">',"C\u952E</span>\uFF0C\u53EF\u4EE5\u67E5\u770B\u8BE5\u602A\u7269\u7684\u8BE6\u7EC6\u4E34\u754C\u4FE1\u606F\u3002","<br>","<br>","\u602A\u7269\u624B\u518C\u6253\u5F00\u7684\u65F6\u5019\u6709\u4E00\u4E2A0.6\u79D2\u7684\u52A8\u753B\uFF0C\u5982\u679C\u4E0D\u60F3\u8981\u53EF\u4EE5\u5728\u5F00\u5934\u6361\u7684\u7CFB\u7EDF\u8BBE\u7F6E\u91CC\u9762\u5173\u95ED\uFF08\u9ED8\u8BA4\u5173\u95ED\uFF09\u3002","<br>","<br>","\u6253\u5F00\u602A\u7269\u624B\u518C\u540E\uFF0C\u602A\u7269\u624B\u518C\u7684\u5E03\u5C40\u4E0E\u6837\u677F\u81EA\u5E26\u7684\u7C7B\u4F3C\u3002\u4E0E\u6837\u677F\u4E0D\u540C\u7684\u662F\uFF0C\u8FD9\u91CC\u7684\u602A\u7269\u624B\u518C\u4E0D\u518D\u662F\u7FFB\u9875\u5F0F\u7ED3\u6784\u3002","\u8FD9\u91CC\u7684\u602A\u7269\u624B\u518C\u662F\u6EDA\u52A8\u5F0F\u7ED3\u6784\uFF0C\u4F60\u53EF\u4EE5\u50CF\u6D4F\u89C8\u7F51\u9875\u4E00\u6837\uFF0C\u7528\u624B\u6307\u6216\u9F20\u6807\u4E0A\u4E0B\u6EDA\u52A8\u6216\u8005\u62D6\u52A8\u53F3\u8FB9\u7684\u6EDA\u52A8\u6761\uFF0C\u7535\u8111\u7AEF\u8FD8\u53EF\u4EE5\u4F7F\u7528\u6EDA\u8F6E\u3002","\u5BF9\u4E8E\u7535\u8111\u7AEF\uFF0C\u8FD8\u53EF\u4EE5\u4F7F\u7528\u952E\u76D8\u64CD\u4F5C\u3002\u4E0A\u548C\u4E0B\u53EF\u4EE5\u4E0A\u4E0B\u9009\u62E9\u602A\u7269\uFF0C\u5DE6\u548C\u53F3\u53EF\u4EE5\u5411\u4E0A\u6216\u5411\u4E0B\u79FB\u52A85\u4E2A\u602A\u7269\u3002\u8FD9\u4E9B\u64CD\u4F5C\u4E0E\u6837\u677F\u90FD\u7C7B\u4F3C\u3002","<br>","<br>","\u70B9\u51FB\u4E00\u4E2A\u602A\u7269\u6216\u8005\u6309\u4E0B\u56DE\u8F66\u7A7A\u683C\u540E\uFF0C\u5C06\u8FDB\u5165\u602A\u7269\u8BE6\u7EC6\u4FE1\u606F\u754C\u9762\u3002\u8FD9\u4E2A\u754C\u9762\u5206\u4E3A\u591A\u4E2A\u680F\uFF0C\u5206\u522B\u662F\u7279\u6B8A\u5C5E\u6027\u680F\uFF0C\u8BE6\u7EC6\u4E34\u754C\u680F\uFF0C\u66F4\u591A\u4FE1\u606F\u680F\u3002","\u8FDB\u5165\u602A\u7269\u8BE6\u7EC6\u4FE1\u606F\u540E\u9ED8\u8BA4\u5728\u7279\u6B8A\u5C5E\u6027\u680F\uFF0C\u8BE5\u680F\u53EF\u4EE5\u67E5\u770B\u602A\u7269\u7684\u7279\u6B8A\u5C5E\u6027\u3002","\u6CE8\u610F\u7279\u6B8A\u5C5E\u6027\u4F9D\u7136\u53EF\u4EE5\u7EB5\u5411\u6EDA\u52A8\u3002\u5728\u7279\u6B8A\u5C5E\u6027\u4E0B\u65B9\uFF0C","\u662F\u602A\u7269\u7684\u4E34\u754C\u8868\uFF0C\u53EF\u4EE5\u7C97\u7565\u5730\u67E5\u770B\u602A\u7269\u7684\u4E34\u754C\u4FE1\u606F\u3002\u5728\u4E0B\u65B9\uFF0C\u4F60\u53EF\u4EE5\u70B9\u51FB\u8BE6\u7EC6\u4E34\u754C\u4FE1\u606F\u8FDB\u5165\u8BE6\u7EC6\u4E34\u754C\u680F\u3002","<br>","<br>","\u5728\u8BE6\u7EC6\u4E34\u754C\u680F\u4E2D\uFF0C\u602A\u7269\u7684\u4F24\u5BB3\u4F1A\u4EE5\u53EF\u89C6\u5316\u6298\u7EBF\u56FE\u7684\u65B9\u5F0F\u663E\u793A\u51FA\u6765\uFF0C\u4ECE\u800C\u4F60\u53EF\u4EE5\u66F4\u4E3A\u6E05\u6670\u5730\u770B\u51FA\u602A\u7269\u51CF\u4F24\u8D8B\u52BF\u3002","\u9664\u4E86\u67E5\u770B\u602A\u7269\u4F24\u5BB3\u66F2\u7EBF\uFF0C\u4F60\u8FD8\u53EF\u4EE5\u89C4\u5212\u5B9D\u77F3\u3002\u6BCF\u4E2A\u6298\u7EBF\u56FE\u4E0B\u65B9\u90FD\u6709\u4E00\u4E2A\u6ED1\u52A8\u6761\uFF0C\u4F60\u53EF\u4EE5\u62D6\u52A8\u6765\u6A21\u62DF\u5403\u5B9D\u77F3\u3002","\u6CE8\u610F\uFF0C\u62D6\u52A8\u65F6\uFF0C\u6ED1\u52A8\u6761\u5DE6\u8FB9\u4F1A\u663E\u793A\u5F53\u524D\u7684\u52A0\u653B\u6216\u52A0\u9632\u6B21\u6570\uFF0C\u8FD9\u4E2A\u6570\u503C\u6307\u7684\u662F\u5728\u52C7\u58EB\u6240\u5728\u5730\u56FE\u4E2D\u9700\u8981\u5403\u7684\u6700\u5F31\u7684\u5B9D\u77F3\u6570\u91CF\u3002","\u4F8B\u5982\uFF0C\u5F53\u524D\u52C7\u58EB\u6240\u5728\u5730\u56FE\u4E2D\u6700\u5F31\u7684\u5B9D\u77F3\u52A02\u70B9\u653B\u51FB\uFF0C\u52A0\u653B\u6B21\u6570\u4E3A3\uFF0C\u90A3\u4E48\u52C7\u58EB\u7684\u653B\u51FB\u589E\u52A0\u91CF\u5C31\u4E3A6\u3002","\u52C7\u58EB\u589E\u52A0\u7684\u653B\u51FB\u6570\u503C\u4E5F\u4F1A\u5728\u4E0B\u65B9\u663E\u793A\u3002\u5F53\u52A0\u653B\u6B21\u6570\u548C\u52A0\u9632\u6B21\u6570\u6539\u53D8\u65F6\uFF0C\u6298\u7EBF\u56FE\u4E5F\u4F1A\u53D8\u5316\u3002",'\u5F53\u524D\u72B6\u6001\u4E0B\u602A\u7269\u7684\u4F24\u5BB3\u4EE5\u53CA\u51CF\u4F24\u603B\u91CF\u4E5F\u4F1A\u5728\u4E0B\u65B9\u663E\u793A\u3002<span style="color: gold">',"\u6CE8\u610F\u5728\u6B64\u680F\u4E2D\u65E0\u6CD5\u901A\u8FC7\u70B9\u51FB\u5C4F\u5E55\u56DE\u5230\u602A\u7269\u624B\u518C\u754C\u9762\uFF0C\u66F4\u591A\u4FE1\u606F\u8BF7\u67E5\u770B\u6700\u540E\u4E00\u6BB5</span>\u3002","<br>","<br>","\u5728\u7279\u6B8A\u5C5E\u6027\u680F\uFF0C\u70B9\u51FB\u4E0B\u65B9\u7684\u602A\u7269\u66F4\u591A\u4FE1\u606F\u53EF\u4EE5\u8FDB\u5165\u66F4\u591A\u4FE1\u606F\u680F\u3002\u6B64\u680F\u4E2D\uFF0C\u4F60\u53EF\u4EE5\u67E5\u770B\u602A\u7269\u63CF\u8FF0\u3002\u4F46\u8FD9\u4E0D\u662F\u8FD9\u4E00\u680F\u7684\u6838\u5FC3\u529F\u80FD\u3002","\u8FD9\u4E00\u680F\u7684\u6838\u5FC3\u529F\u80FD\u662F\u6807\u8BB0\u602A\u7269\u3002\u88AB\u6807\u8BB0\u7684\u602A\u7269\u4F1A\u6709\u4E00\u4E9B\u975E\u5E38\u65B9\u4FBF\u7684\u884C\u4E3A\uFF0C\u8FD9\u4E9B\u884C\u4E3A\u53EF\u4EE5\u5728\u201C\u6807\u8BB0\u602A\u7269\u201D\u6761\u76EE\u4E2D\u67E5\u770B\u3002","<br>","<br>","\u6CE8\u610F\uFF0C\u5728\u602A\u7269\u8BE6\u7EC6\u4FE1\u606F\u4E2D\uFF0C\u9664\u8BE6\u7EC6\u4E34\u754C\u680F\u5916\u5747\u53EF\u4EE5\u901A\u8FC7\u70B9\u51FB\u5C4F\u5E55\u8FD4\u56DE\u5230\u602A\u7269\u624B\u518C\u754C\u9762\u3002",'\u5982\u679C\u4F60\u662F\u7535\u8111\u7AEF\uFF0C\u5728\u4EFB\u610F\u680F\u76EE\u4E2D<span style="color: gold">\u6309\u4E0BX\u952E</span>\u4F1A\u9000\u51FA\u602A\u7269\u624B\u518C\uFF0C\u8FD4\u56DE\u6E38\u620F\uFF0C','<span style="color: gold">\u6309\u4E0B\u56DE\u8F66\uFF08Enter\uFF09\u952E</span>\u4F1A\u56DE\u5230\u602A\u7269\u624B\u518C\u754C\u9762\u3002']},fly={text:"\u697C\u5C42\u4F20\u9001\u5668",condition:"true",desc:["\u697C\u4F20\u754C\u9762\u6253\u5F00\u65F6\u4F1A\u6709\u4E00\u4E2A0.6\u79D2\u7684\u52A8\u753B\uFF0C\u5982\u679C\u4E0D\u60F3\u8981\u53EF\u4EE5\u5728\u5F00\u5934\u6361\u7684\u7CFB\u7EDF\u8BBE\u7F6E\u91CC\u9762\u5173\u95ED\u3002\uFF08\u9ED8\u8BA4\u5173\u95ED\uFF09","<br>","<br>",'\u672C\u5854\u7684\u697C\u5C42\u4F20\u9001\u5668\u662F\u4E00\u4E2A\u96C6<span style="color: gold">\u5206\u533A\u3001\u5C0F\u5730\u56FE\u3001\u697C\u5C42\u4F20\u9001\u3001\u6D4F\u89C8\u5730\u56FE</span>\u4E8E\u4E00\u4F53\u7684\u591A\u529F\u80FD\u697C\u4F20\u3002','<a href="maps/index.html" target="_blank">\u4F60\u4E5F\u53EF\u4EE5\u70B9\u51FB\u8FD9\u91CC</a>\u67E5\u770B\u6240\u6709\u533A\u57DF\u7684\u7F29\u7565\u56FE\u3002',"\u4E0B\u9762\u662F\u697C\u4F20\u7684\u5177\u4F53\u8BF4\u660E\uFF1A","<br>","<br>","\u9996\u5148\uFF0C\u5BF9\u4E8E\u7535\u8111\u7AEF\uFF0C\u6700\u5DE6\u4FA7\u663E\u793A\u533A\u57DF\u4FE1\u606F\uFF0C\u624B\u673A\u7AEF\u5219\u5728\u4E0A\u65B9\u7684\u5DE6\u4FA7\u3002","<br>","<br>","\u7136\u540E\uFF0C\u533A\u57DF\u7684\u53F3\u4FA7\u662F\u5C0F\u5730\u56FE\u680F\uFF0C\u8FD9\u4E00\u680F\u4F1A\u663E\u793A\u697C\u5C42\u7684\u5E73\u9762\u7ED3\u6784\u3002\u4F60\u53EF\u4EE5\u62D6\u52A8\uFF0C\u4E5F\u53EF\u4EE5\u4F7F\u7528\u6EDA\u8F6E\u6216\u8005\u53CC\u6307\u653E\u7F29\uFF0C\u5F53\u653E\u7F29\u5230\u4E00\u5B9A\u5927\u5C0F\u65F6\uFF0C","\u4F1A\u663E\u793A\u5730\u56FE\u7684\u7F29\u7565\u56FE\u3002\u76F4\u63A5\u70B9\u51FB\u5730\u56FE\u4E5F\u53EF\u4EE5\u9009\u4E2D\u5730\u56FE\uFF0C\u518D\u6B21\u70B9\u51FB\u4F1A\u4F20\u9001\u81F3\u76EE\u6807\u5730\u56FE\u3002","<br>","<br>","\u5BF9\u4E8E\u7535\u8111\u7AEF\uFF0C\u6700\u53F3\u4FA7\u662F\u5F53\u524D\u9009\u4E2D\u7684\u5730\u56FE\u7684\u7F29\u7565\u56FE\uFF0C\u624B\u673A\u5219\u5728\u4E0B\u65B9\uFF0C\u70B9\u51FB\u7F29\u7565\u56FE\u4E5F\u53EF\u4EE5\u4F20\u9001\u3002\u7F29\u7565\u56FE\u7684\u4E0B\u65B9\u662F\u5F53\u524D\u9009\u4E2D\u7684\u5730\u56FE\u540D\uFF0C","\u5DE6\u53F3\u5404\u6709\u4E24\u4E2A\u6309\u94AE\uFF0C\u8868\u793A\u540E\u900010\u5C42\u3001\u540E\u90001\u5C42\u3001\u524D\u8FDB1\u5C42\u3001\u524D\u8FDB10\u5C42\uFF0C\u4E0E\u6837\u677F\u7684\u697C\u4F20\u7684\u6309\u94AE\u529F\u80FD\u7C7B\u4F3C\uFF0C\u5BF9\u4E8E\u5C0F\u5730\u56FE\u65E0\u6CD5\u663E\u793A\u7684\u5355\u5C42\uFF0C","\u53EF\u4EE5\u4F7F\u7528\u8BE5\u529F\u80FD\u5230\u8FBE\u3002","<br>","<br>","\u6700\u4E0B\u65B9\u662F\u8BBE\u7F6E\u6309\u94AE\uFF0C\u53EF\u4EE5\u5207\u6362\u65E0\u8FB9\u6846\u6A21\u5F0F\uFF0C\u7535\u8111\u7AEF\u8FD8\u53EF\u4EE5\u5207\u6362\u4F20\u7EDF\u6309\u952E\u6A21\u5F0F\uFF0C\u4F20\u7EDF\u6309\u952E\u6A21\u5F0F\u4E0B\u6309\u952E\u9075\u5FAA\u6837\u677F\u7684\u697C\u4F20\u6309\u952E\u65B9\u5F0F\u3002",'\u5BF9\u4E8E\u975E\u4F20\u7EDF\u6A21\u5F0F\uFF0C<span style="color: gold">\u4E0A\u4E0B\u5DE6\u53F3</span>\u53EF\u4EE5\u79FB\u52A8\u5730\u56FE\uFF0C','<span style="color: gold">PageUp\u548CPageDown</span>\u53EF\u4EE5\u524D\u8FDB1\u5C42\u6216\u540E\u90001\u5C42\u3002']},tools={text:"\u9053\u5177\u680F\u4E0E\u88C5\u5907\u680F",condition:"true",desc:["\u9053\u5177\u680F\u4E0E\u88C5\u5907\u680F\u6253\u5F00\u65F6\u4F1A\u6709\u4E00\u4E2A0.6\u79D2\u7684\u52A8\u753B\uFF0C\u5982\u679C\u4E0D\u60F3\u8981\u53EF\u4EE5\u5728\u5F00\u5934\u6361\u7684\u7CFB\u7EDF\u8BBE\u7F6E\u91CC\u9762\u5173\u95ED\u3002\uFF08\u9ED8\u8BA4\u5173\u95ED\uFF09","<br>","<br>","\u672C\u5854\u7684\u9053\u5177\u680F\u6CA1\u6709\u7279\u522B\u4E4B\u5904\uFF0C\u8FD9\u91CC\u4E0D\u9700\u8981\u8BF4\u660E\u3002\u4E3B\u8981\u662F\u88C5\u5907\u680F\u3002","<br>","<br>","\u672C\u5854\u7684\u88C5\u5907\u680F\u624B\u673A\u548C\u7535\u8111\u7AEF\u4E0D\u540C\uFF0C\u7535\u8111\u7AEF\u6BD4\u624B\u673A\u7AEF\u591A\u4E86\u4E00\u4E2A\u52C7\u58EB\u5C5E\u6027\u7684\u663E\u793A\u3002\u5728\u88C5\u5907\u680F\u7684\u88C5\u5907\u5217\u8868\u680F\uFF0C","\u4E0A\u65B9\u6709\u4E24\u4E2A\u9009\u62E9\u6846\u4E0E\u4E00\u4E2A\u6392\u5E8F\u65B9\u5F0F\u7684\u9009\u9879\u3002\u8FD9\u4E09\u4E2A\u53EF\u4EE5\u7B5B\u9009\u4F60\u62E5\u6709\u7684\u88C5\u5907\u5E76\u8FDB\u884C\u6392\u5E8F\uFF0C\u4ECE\u800C\u8BA9\u4F60\u80FD\u591F\u66F4\u6E05\u695A\u5730\u77E5\u9053\u54EA\u4E2A\u88C5\u5907\u66F4\u5F3A\u3002","\u7B2C\u4E00\u4E2A\u9009\u62E9\u6846\u53EF\u4EE5\u7B5B\u9009\u88C5\u5907\u589E\u52A0\u7684\u5C5E\u6027\uFF0C\u5982\u679C\u88C5\u5907\u4E0D\u589E\u52A0\u9009\u62E9\u7684\u5C5E\u6027\uFF0C\u90A3\u4E48\u4F1A\u4E0D\u663E\u793A\u3002\u7B2C\u4E8C\u4E2A\u9009\u62E9\u6846\u53EF\u4EE5\u7B5B\u9009\u589E\u52A0\u7684\u5C5E\u6027\u7684\u65B9\u5F0F\uFF0C","\u6709\u6570\u503C\u589E\u52A0\u548C\u767E\u5206\u6BD4\u589E\u52A0\u4E24\u79CD\u3002\u5728\u8FD9\u4E2A\u9009\u62E9\u6846\u53F3\u8FB9\u6709\u4E00\u4E2A\u56FE\u6807\uFF0C\u8FD9\u4E2A\u56FE\u6807\u53EF\u4EE5\u6539\u53D8\u6B66\u5668\u7684\u6392\u5E8F\u65B9\u5F0F\uFF0C\u6709\u5347\u5E8F\u548C\u964D\u5E8F\u4E24\u79CD\uFF0C\u9ED8\u8BA4\u4E3A\u5347\u5E8F\u3002","\u4F8B\u5982\uFF0C\u4F60\u62E5\u6709\u4E24\u4E2A\u88C5\u5907\uFF0C\u5206\u522B\u589E\u52A010\u653B\u51FB\u548C20\u653B\u51FB\uFF0C\u4E09\u8005\u4F60\u5206\u522B\u9009\u62E9\u4E86\u653B\u51FB\uFF0C\u6570\u503C\uFF0C\u5347\u5E8F\uFF0C\u90A3\u4E48\u589E\u52A010\u653B\u51FB\u7684\u88C5\u5907\u4F1A\u6392\u5728\u4E0A\u9762\uFF0C","\u800C\u589E\u52A020\u653B\u51FB\u7684\u88C5\u5907\u4F1A\u6392\u5728\u4E0B\u9762\u3002","<br>","<br>","\u5BF9\u4E8E\u7535\u8111\u7AEF\uFF0C\u5982\u679C\u4F60\u60F3\u88C5\u88C5\u5907\uFF0C\u53EF\u4EE5\u76F4\u63A5\u62D6\u52A8\u88C5\u5907\u81F3\u88C5\u5907\u5B54\uFF0C\u4E5F\u53EF\u4EE5\u9009\u4E2D\u88C5\u5907\u540E\u518D\u6B21\u70B9\u51FB\u3002\u624B\u673A\u7AEF\u6682\u65F6\u65E0\u6CD5\u62D6\u52A8\u88C5\u5907\u3002\u5F53\u9009\u4E2D\u4E00\u4E2A\u88C5\u5907\u540E\uFF0C","\u7535\u8111\u7AEF\u548C\u624B\u673A\u7AEF\u5747\u4F1A\u663E\u793A\u88C5\u5907\u589E\u52A0\u6216\u51CF\u5C11\u7684\u5C5E\u6027\uFF0C\u6CE8\u610F\u6709\u7684\u88C5\u5907\u53EF\u80FD\u4E0D\u589E\u52A0\u5C5E\u6027\u4F46\u662F\u6709\u7279\u6B8A\u529F\u80FD\u3002\u5BF9\u4E8E\u7535\u8111\u7AEF\uFF0C","\u8FD8\u4F1A\u76F4\u63A5\u5728\u52C7\u58EB\u5C5E\u6027\u680F\u663E\u793A\u589E\u52A0\u6216\u51CF\u5C11\u7684\u5C5E\u6027\u3002"]},skillTree={text:"\u6280\u80FD\u6811",condition:"flags.chapter > 0",desc:['\u6253\u5F00\u6280\u80FD\u6811\u53EF\u4EE5\u70B9\u51FB\u72B6\u6001\u680F\u7684<span style="color: gold">',"\u6280\u80FD\u6811\u6309\u94AE</span>\uFF08\u5982\u679C\u53D1\u73B0\u6CA1\u6709\u663E\u793A\u53EF\u4EE5\u5C1D\u8BD5\u4E0A\u4E0B\u6EDA\u52A8\u72B6\u6001\u680F\uFF09\uFF0C\u8FD8\u53EF\u4EE5\u6309",'<span style="color: gold">\u5FEB\u6377\u952EJ</span>\u6253\u5F00\u3002',"<br>","<br>","\u6280\u80FD\u6811\u662F\u672C\u5854\u7684\u4E3B\u8981\u73A9\u6CD5\u4E4B\u4E00\u3002\u5B83\u53EF\u4EE5\u8BA9\u4F60\u4F7F\u7528\u667A\u6167\u6765\u5B66\u4E60\u6280\u80FD\uFF0C\u589E\u52A0\u5C5E\u6027\u7B49\u3002\u667A\u6167\u5728\u72B6\u6001\u680F\u663E\u793A\u5728\u9632\u5FA1\u7684\u4E0B\u4E00\u9879\uFF0C","\u7EFF\u5B9D\u77F3\u53EF\u4EE5\u589E\u52A0\u52C7\u58EB\u7684\u667A\u6167\u3002","<br>","<br>","\u6253\u5F00\u6280\u80FD\u6811\u9875\u9762\u540E\uFF0C\u4F60\u53EF\u4EE5\u5728\u4E0A\u65B9\u770B\u5230\u6280\u80FD\u7684\u540D\u79F0\u4E0E\u63CF\u8FF0\uFF0C\u4E0B\u65B9\u4F1A\u663E\u793A\u6280\u80FD\u6811\uFF0C\u4EE5\u53CA\u5347\u7EA7\u8981\u6C42\u7B49\u3002\u70B9\u51FB\u4E00\u4E2A\u6280\u80FD\u53EF\u4EE5\u9009\u4E2D\u6280\u80FD\uFF0C","\u518D\u6B21\u70B9\u51FB\u53EF\u4EE5\u5347\u7EA7\u6280\u80FD\u3002\u6CE8\u610F\uFF0C\u524D\u7F6E\u6280\u80FD\u680F\u53EF\u4EE5\u4E0A\u4E0B\u6EDA\u52A8\uFF0C\u56E0\u6B64\u5982\u679C\u53D1\u73B0\u663E\u793A\u4E0D\u5168\uFF0C\u53EF\u4EE5\u5C1D\u8BD5\u4E0A\u4E0B\u6EDA\u52A8\u524D\u7F6E\u6280\u80FD\u680F","<br>","<br>","\u6CE8\u610F\uFF0C\u6280\u80FD\u5728\u70B9\u5F00\u4E4B\u540E\u662F\u65E0\u6CD5\u53D6\u6D88\u7684\uFF0C\u56E0\u6B64\uFF0C\u52A0\u70B9\u65F6\u8BF7\u614E\u91CD\u52A0\u70B9\u3002\u6CE8\u610F\uFF0C\u90E8\u5206\u6280\u80FD\u662F\u5FC5\u70B9\u6280\u80FD\uFF0C\u8FD9\u4E9B\u6280\u80FD\u4F1A\u5728\u6280\u80FD\u8BF4\u660E\u4E2D\u660E\u786E\u6307\u51FA\uFF0C","\u8FD9\u4E9B\u6280\u80FD\u4E00\u822C\u9700\u8981\u5C3D\u65E9\u70B9\u51FA\u3002"]},study={text:"\u5B66\u4E60",condition:"core.getSkillLevel(11) > 0",desc:["\u672C\u6761\u76EE\u4F1A\u8BE6\u7EC6\u8BF4\u660E\u5B66\u4E60\u7684\u673A\u5236\u4E0E\u6240\u6709\u53EF\u4EE5\u88AB\u5B66\u4E60\u7684\u6280\u80FD\u88AB\u5B66\u4E60\u540E\u7684\u6548\u679C\u3002\u5F53\u524D\u5DF2\u7ECF\u5B66\u4E60\u7684\u6280\u80FD\u4F1A\u4EE5\u4E0E\u72B6\u6001\u680F\u7C7B\u4F3C\u7684\u76D2\u5B50\u5C55\u793A\u51FA\u6765\u3002","<br>","<br>","\u9996\u5148\uFF0C\u5B66\u4E60\u6280\u80FD\u6D88\u8017\u7684\u667A\u6167\u70B9\u4F1A\u8D8A\u6765\u8D8A\u591A\uFF0C\u521D\u59CB\u6D88\u8017\u7684\u667A\u6167\u70B9\u4E3A500\uFF0C\u6BCF\u5B66\u4E60\u4E00\u6B21\u589E\u52A0250\u3002","\u5B66\u4E60\u7684\u6280\u80FD\u53EF\u4EE5\u6301\u7EED5\u573A\u6218\u6597\uFF0C\u5728\u6280\u80FD\u6811\u754C\u9762\u6BCF\u5347\u7EA7\u4E00\u6B21\u589E\u52A03\u573A\uFF0C",'<span style="color: gold">\u5F53\u524D\u4E3A${core.getSkillLevel(11) * 3 + 2}\u573A</span>\u3002',"\u5B66\u4E60\u540E\u5BF9\u5E94\u5C5E\u6027\u7684\u503C\uFF0C\u4F8B\u5982\u62B1\u56E2\u602A\u589E\u52A0\u7684\u5C5E\u6027\u767E\u5206\u6BD4\uFF0C\u4F1A\u4E0E\u88AB\u5B66\u4E60\u7684\u602A\u7269\u76F8\u540C\u3002\u5B66\u4E60\u754C\u9762\u53EF\u4EE5\u4F7F\u7528\u80CC\u5305\u4E2D\u7684\u9053\u5177\u6216\u70B9\u51FB\u72B6\u6001\u680F\u6253\u5F00\u3002","<br>","<br>","\u4E0B\u9762\u4F1A\u8BE6\u7EC6\u8BF4\u660E\u6BCF\u4E00\u79CD\u53EF\u4EE5\u88AB\u5B66\u4E60\u7684\u6280\u80FD\u88AB\u5B66\u4E60\u540E\u7684\u6548\u679C\uFF0C\u6CA1\u6709\u5217\u51FA\u7684\u5747\u4E0D\u53EF\u5B66\u4E60\u3002","<br>","<br>",'<span style="color: #fc3">1. \u81F4\u547D\u4E00\u51FB</span>\uFF1A\u52C7\u58EB\u6BCF5\u56DE\u5408\u5BF9\u602A\u7269\u9020\u6210\u4E00\u6B21\u5F3A\u529B\u653B\u51FB\u3002',"<br>",'<span style="color: #bbb0ff">2. \u6076\u6BD2</span>\uFF1A\u52C7\u58EB\u653B\u51FB\u65E0\u89C6\u602A\u7269\u7684\u9632\u5FA1\u3002',"<br>",'<span style="color: #c0b088">3. \u575A\u56FA</span>\uFF1A\u52C7\u58EB\u9632\u5FA1\u4E0D\u4F4E\u4E8E\u602A\u7269\u7684\u653B\u51FB-1\u3002',"<br>",'<span style="color: #fe7">4. n\u8FDE\u51FB</span>\uFF1A\u52C7\u58EB\u6BCF\u56DE\u5408\u653B\u51FBn\u6B21',"<br>",'<span style="color: #b30000">5. \u9965\u6E34</span>\uFF1A\u52C7\u58EB\u5728\u6218\u524D\u5438\u53D6\u602A\u7269\u4E00\u5B9A\u91CF\u7684\u653B\u51FB\u52A0\u8F7D\u81EA\u5DF1\u8EAB\u4E0A\uFF0C',"\u540C\u65F6\u51CF\u5C11\u602A\u7269\u76F8\u5E94\u91CF\u7684\u653B\u51FB\uFF0C\u4F18\u5148\u4E8E\u602A\u7269\u3002","<br>",'<span style="color: #fa4">6. \u62B1\u56E2</span>\uFF1A\u52C7\u58EB\u5468\u56F4\u6BCF\u6709\u4E00\u4E2A\u62E5\u6709\u62B1\u56E2\u5C5E\u6027\u7684\u602A\u7269\uFF0C\u52C7\u58EB\u7684\u5C5E\u6027\u4FBF\u589E\u52A0\u4E00\u5B9A\u503C\u3002',"\u76F8\u5E94\u5730\uFF0C\u62E5\u6709\u62B1\u56E2\u5C5E\u6027\u7684\u602A\u7269\u4E5F\u4F1A\u53D7\u5230\u52C7\u58EB\u7684\u52A0\u6210\u3002","<br>",'<span style="color: #b0c0dd">7. \u52C7\u6C14\u4E4B\u5203</span>\uFF1A\u52C7\u58EB\u7B2C\u4E00\u56DE\u5408\u9020\u6210\u4E00\u5B9A\u91CF\u7684\u4F24\u5BB3\uFF0C\u4E4B\u540E\u6B63\u5E38\u3002',"<br>",'<span style="color: #ff00d2">8. \u52C7\u6C14\u51B2\u950B</span>\uFF1A\u52C7\u58EB\u9996\u5148\u53D1\u52A8\u51B2\u950B\uFF0C\u9020\u6210\u4E00\u5B9A\u91CF\u7684\u4F24\u5BB3\uFF0C\u7729\u6655\u602A\u72695\u56DE\u5408\u3002',"\u5B66\u4E60\u8BE5\u6280\u80FD\u540E\uFF0C\u52C7\u58EB\u65E0\u6761\u4EF6\u5148\u624B\u3002","<br>",'<span style="color: #bbb0ff">9. \u9B54\u653B</span>\uFF1A\u52C7\u58EB\u653B\u51FB\u65E0\u89C6\u602A\u7269\u7684\u9632\u5FA1\u3002',"<br>",'<span style="color: #b0b666">10. \u5148\u653B</span>\uFF1A\u52C7\u58EB\u65E0\u6761\u4EF6\u5148\u624B\u3002']},special1={text:"\u7B2C\u4E00\u7AE0\u602A\u7269\u7279\u6280",condition:"flags.chapter > 0",desc:["\u8FD9\u91CC\u4F1A\u5C55\u793A\u7B2C\u4E00\u7AE0\u7684\u602A\u7269\u4E2D\u9700\u8981\u7279\u522B\u8BF4\u660E\u7684\u602A\u7269\u7279\u6280\u3002","<br>","<br>",'<span style="color: #c0b088">1. \u575A\u56FA</span>\uFF1A',"\u5728\u672C\u5854\u4E2D\uFF0C\u989D\u5916\u653B\u51FB\u53EF\u4EE5\u5BF9\u575A\u56FA\u602A\u9020\u6210\u989D\u5916\u4F24\u5BB3\u3002","<br>","<br>",'<span style="color: #80eed6">2. \u7EDD\u5BF9\u9632\u5FA1</span>\uFF1A',"\u8BE5\u602A\u7269\u4E00\u822C\u53EF\u4EE5\u7528\u4E8E\u5237\u8840\u3002\u8BE5\u602A\u7269\u53EF\u4EE5\u4F7F\u4F60\u6BCF\u56DE\u5408\u5BF9\u602A\u7269\u9020\u6210\u7684\u4F24\u5BB3\u6070\u597D\u4E3A1\uFF0C\u5BFC\u81F4\u6218\u6597\u56DE\u5408\u6570\u5F88\u9AD8\uFF0C\u56E0\u6B64\u53EF\u4EE5\u5237\u8840\u3002","<br>","<br>",'<span style="color: #fc3">3. \u81F4\u547D\u4E00\u51FB\u3001\u52C7\u6C14\u4E4B\u5203\u3001\u52C7\u6C14\u51B2\u950B</span>\uFF1A',"\u9020\u6210\u7684\u4F24\u5BB3\u4E3A\u602A\u7269\u6BCF\u56DE\u5408\u5BF9\u52C7\u58EB\u7684\u4F24\u5BB3\u7684\u4E00\u5B9A\u500D\u6570\uFF0C\u800C\u975E\u653B\u51FB\u63D0\u9AD8\u4E00\u5B9A\u500D\u6570\u3002"]},special2={text:"\u7B2C\u4E8C\u7AE0\u602A\u7269\u7279\u6280",condition:"flags.chapter > 1",desc:["\u8FD9\u91CC\u4F1A\u5C55\u793A\u7B2C\u4E8C\u7AE0\u7684\u602A\u7269\u4E2D\u9700\u8981\u7279\u522B\u8BF4\u660E\u7684\u602A\u7269\u7279\u6280\u3002","<br>","<br>",'<span style="color: #f66">1. \u7535\u6447\u5632\u8BBD</span>\uFF1A',"\u8BE5\u7279\u6280\u4F1A\u649E\u788E\u8DEF\u4E0A\u7684\u6240\u6709\u5730\u5F62\u548C\u95E8\uFF0C\u4E0D\u9700\u8981\u6D88\u8017\u94A5\u5319\uFF0C\u62FE\u53D6\u8DEF\u4E0A\u7684\u6240\u6709\u9053\u5177\uFF0C\u4E0E\u8DEF\u4E0A\u7684\u602A\u7269\u6218\u6597\uFF0C\u6700\u540E\u4E0E\u8BE5\u602A\u7269\u6218\u6597\u3002","\u5982\u679C\u602A\u7269\u6240\u5728\u4F4D\u7F6E\u53EF\u4EE5\u88AB\u5632\u8BBD\uFF0C\u90A3\u4E48\u52C7\u58EB\u4F1A\u88AB\u7EE7\u7EED\u5632\u8BBD\u3002\u5982\u679C\u5728\u88AB\u5632\u8BBD\u7684\u8DEF\u4E0A\u53EF\u4EE5\u88AB\u5176\u4ED6\u602A\u7269\u5632\u8BBD\uFF0C\u5219\u4E0D\u4F1A\u89E6\u53D1\u3002","\u5982\u679C\u4E00\u4E2A\u70B9\u53EF\u4EE5\u88AB\u591A\u4E2A\u602A\u7269\u5632\u8BBD\uFF0C\u90A3\u4E48\u4F1A\u4F18\u5148\u9009\u62E9\u6700\u9760\u5DE6\u4E0A\u89D2\u7684\u602A\u7269\u3002",'<span style="color: gold">\u5728\u88AB\u5632\u8BBD\u4E4B\u524D\u4F1A\u81EA\u52A8\u5B58\u6863\u3002</span>',"<br>","<br>",'<span style="color: #d8a">2. \u6C38\u591C</span>\u3001<span style="color: #ffd">\u6781\u663C</span>\uFF1A',"\u6218\u6597\u540E\u4F1A\u5728\u672C\u697C\u5C42\u4E2D\u52A0\u51CF\u602A\u7269\u4E0E\u52C7\u58EB\u7684\u653B\u9632\uFF0C\u6BCF\u4E2A\u697C\u5C42\u4F1A\u5355\u72EC\u5B58\u50A8\u3002\u4F8B\u5982\u4F60\u57281\u697C\u5C42\u589E\u52A0\u4E86100\u70B9\u653B\u51FB\uFF0C2\u697C\u5C42\u51CF\u5C11\u4E86100\u70B9\u653B\u51FB\uFF0C","\u90A3\u4E48\u5F53\u4F60\u4ECE2\u697C\u5C42\u52301\u697C\u5C42\u65F6\uFF0C\u653B\u51FB\u4F1A\u589E\u52A0200\u70B9\uFF0C\u53CD\u4E4B\u4EA6\u7136\u3002\u6CE8\u610F\u8FD9\u91CC\u6CA1\u6709\u8BA1\u7B97buff\u3002"]},desc={tip,about,tutorial,noun,shortcut,extraAttr,statusBar,markEnemy,book,fly,tools,skillTree,study,special1,special2},_hoisted_1$d={id:"desc-list"},_hoisted_2$a=["selected","show","onClick"],_hoisted_3$a={key:0},_hoisted_4$8=["innerHTML"],_sfc_main$d=defineComponent({__name:"desc",setup(__props){const selected=ref(Object.keys(desc)[0]);function exit(){core.plugin.descOpened.value=!1}const content=computed(()=>eval("`"+splitText(desc[selected.value].desc)+"`"));function click(key){!eval(desc[key].condition)||(selected.value=key)}function show(condition){return eval(condition)}return(e,t)=>(openBlock(),createBlock(Column,{onClose:exit,width:80,height:80,left:30,right:70},{left:withCtx(()=>[createBaseVNode("div",_hoisted_1$d,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(desc),(o,s)=>(openBlock(),createElementBlock("div",{class:"selectable desc-item",selected:selected.value===s,show:show(o.condition),onClick:a=>click(s)},[show(o.condition)?(openBlock(),createElementBlock("span",_hoisted_3$a,toDisplayString(o.text),1)):createCommentVNode("",!0)],8,_hoisted_2$a))),256))])]),right:withCtx(()=>[createBaseVNode("span",{innerHTML:unref(content)},null,8,_hoisted_4$8)]),_:1}))}}),desc_vue_vue_type_style_index_0_scoped_bcbf0734_lang="",Desc=_export_sfc(_sfc_main$d,[["__scopeId","data-v-bcbf0734"]]),none={text:"\u65E0",opened:"true",desc:["\u5F53\u524D\u672A\u9009\u62E9\u6280\u80FD"]},blade={text:"1\uFF1A\u65AD\u706D\u4E4B\u5203",opened:"core.getSkillLevel(2) > 0",desc:['<span style="color: gold">\u5FEB\u6377\u952E1</span>\uFF0C\u5F00\u542F\u540E\u52C7\u58EB\u653B\u51FB\u589E\u52A0${level:2 * 10}%\uFF0C',"\u540C\u65F6\u9632\u5FA1\u51CF\u5C11${level:2 * 10}%\u3002","<br>","<br>","\u5F53\u524D\u7B49\u7EA7\uFF1A${level:2}"]},jump={text:"2\uFF1A\u8DF3\u8DC3",opened:"flags.skill2 === true",desc:['<span style="color: gold">\u5FEB\u6377\u952E2</span>\uFF0C\u6D88\u8017200\u70B9\u751F\u547D\u503C\uFF0C\u56F0\u96BE\u6D88\u8017400\u70B9\uFF0C\u4E00\u4E2A\u5730\u56FE\u53EA\u80FD\u4F7F\u75283\u6B21\uFF0C',"\u5982\u679C\u524D\u65B9\u4E3A\u53EF\u901A\u884C\u7684\u5730\u9762\uFF0C\u5219\u4E0D\u80FD\u4F7F\u7528\u8BE5\u6280\u80FD\uFF0C\u5982\u679C\u524D\u65B9\u4E3A\u602A\u7269\uFF0C\u5219\u5C06\u602A\u7269\u79FB\u81F3\u52C7\u58EB\u89C6\u7EBF\u4E0A\u7B2C\u4E00\u4E2A\u4E0D\u80FD\u901A\u884C\u7684\u65B9\u5757\u540E","\u5982\u679C\u524D\u65B9\u4E3A\u969C\u788D\u7269\uFF0C\u5219\u76F4\u63A5\u8DF3\u5230\u8BE5\u969C\u788D\u7269\u7684\u540E\u65B9\u3002","<br>","<br>","\u8FDB\u5165\u7B2C\u4E8C\u7AE0\u540E\u4E0D\u518D\u6D88\u8017\u751F\u547D\u503C\u3002"]},shield={text:"3\uFF1A\u94F8\u5251\u4E3A\u76FE",opened:"core.getSkillLevel(10) > 0",desc:['<span style="color: gold">\u5FEB\u6377\u952E3</span>\uFF0C\u5F00\u542F\u540E\u52C7\u58EB\u9632\u5FA1\u589E\u52A0${level:10 * 10}%\uFF0C',"\u540C\u65F6\u653B\u51FB\u51CF\u5C11${level:10 * 10}%\u3002","<br>","<br>","\u5F53\u524D\u7B49\u7EA7\uFF1A${level:10}"]},skills={none,blade,jump,shield},_hoisted_1$c={id:"skill-list"},_hoisted_2$9=["selected","selectable","onClick"],_hoisted_3$9=["innerHTML"],_sfc_main$c=defineComponent({__name:"skill",setup(__props){const selected=ref("none");function skillOpened(skill){return eval(skills[skill].opened)}function select(e){!skillOpened(e)||(selected.value=e)}const content=computed(()=>eval("`"+skills[selected.value].desc.map((e,t,o)=>/^\d+\./.test(e)?`${"&nbsp;".repeat(12)}${e}`:has(o[t-1])&&e!=="<br>"&&o[t-1]==="<br>"||t===0?`${"&nbsp;".repeat(8)}${e}`:e).join("").replace(/level:(\d+)/g,"core.getSkillLevel($1)")+"`"));function exit(){core.plugin.skillOpened.value=!1}return(e,t)=>(openBlock(),createBlock(Column,{onClose:exit,width:70,height:70},{left:withCtx(()=>[createBaseVNode("div",_hoisted_1$c,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(skills),(o,s)=>(openBlock(),createElementBlock("span",{class:"selectable skill-item",selected:s===selected.value,selectable:skillOpened(s),onClick:a=>select(s)},toDisplayString(o.text),9,_hoisted_2$9))),256))])]),right:withCtx(()=>[createBaseVNode("span",{innerHTML:unref(content)},null,8,_hoisted_3$9)]),_:1}))}}),skill_vue_vue_type_style_index_0_scoped_9f619ff1_lang="",Skill=_export_sfc(_sfc_main$c,[["__scopeId","data-v-9f619ff1"]]),_withScopeId$4=e=>(pushScopeId("data-v-b1be4e88"),e=e(),popScopeId(),e),_hoisted_1$b={id:"skill-tree"},_hoisted_2$8={id:"tools"},_hoisted_3$8={id:"skill-title"},_hoisted_4$7={id:"skill-info"},_hoisted_5$6=["innerHTML"],_hoisted_6$5={id:"skill-effect"},_hoisted_7$5=["innerHTML"],_hoisted_8$4=["innerHTML"],_hoisted_9$4={id:"skill-bottom"},_hoisted_10$4=_withScopeId$4(()=>createBaseVNode("canvas",{id:"skill-canvas"},null,-1)),_hoisted_11$4={id:"skill-upgrade-info"},_hoisted_12$3={id:"skill-level"},_hoisted_13$3={key:1,id:"skill-consume",style:{color:"gold"}},_hoisted_14$3={id:"skill-front"},_hoisted_15$2=_withScopeId$4(()=>createBaseVNode("span",null,"\u524D\u7F6E\u6280\u80FD",-1)),_hoisted_16$2={id:"skill-chapter"},_sfc_main$b=defineComponent({__name:"skillTree",setup(__props){var e;let canvas,ctx;const selected=ref(0),chapter=ref("chapter1"),update=ref(!1),chapterDict={chapter1:"\u7B2C\u4E00\u7AE0",chapter2:"\u7B2C\u4E8C\u7AE0"};(e=flags.skillTree)!=null||(flags.skillTree=0);const chapterList=Object.keys(core.plugin.skills);selected.value=core.plugin.skills[chapterList[flags.skillTree]][0].index,chapter.value=chapterList[flags.skillTree],watch(selected,draw),watch(update,()=>mdef.value=core.status.hero.mdef);const mdef=ref(core.status.hero.mdef),skill=computed(()=>(update.value,core.getSkillFromIndex(selected.value))),skills=computed(()=>core.plugin.skills[chapter.value]),desc=computed(()=>eval("`"+splitText(skill.value.desc).replace(/level(:\d+)?/g,(t,o)=>o?`core.getSkillLevel(${o})`:`core.getSkillLevel(${skill.value.index})`)+"`")),effect=computed(()=>[0,1].map(v=>eval(`\`${v===0?"\u5F53\u524D\u6548\u679C\uFF1A":"\u4E0B\u4E00\u7EA7\u6548\u679C\uFF1A"}`+skill.value.effect.join("").replace(/level(:\d+)?/g,(t,o)=>o?`(core.getSkillLevel(${o}) + ${v})`:`(core.getSkillLevel(${skill.value.index}) + ${v})`)+"`"))),dict=computed(()=>{const t={};return skills.value.forEach((s,a)=>{t[s.index]=a}),t}),front=computed(()=>skill.value.front.map(t=>`${core.getSkillLevel(t[0])>=t[1]?"a":"b"}${t[1]}\u7EA7  ${skills.value[dict.value[t[0]]].title}`)),consume=computed(()=>(update.value,core.getSkillConsume(selected.value))),level=computed(()=>(update.value,core.getSkillLevel(selected.value)));function exit(){core.plugin.skillTreeOpened.value=!1}function resize(){const t=getComputedStyle(canvas);canvas.width=parseFloat(t.width)*devicePixelRatio,canvas.height=parseFloat(t.height)*devicePixelRatio}function draw(){const t=dict.value,s=canvas.width/11;ctx.clearRect(0,0,canvas.width,canvas.height),skills.value.forEach(a=>{const[n,i]=a.loc.map(r=>r*2-1);a.front.forEach(([r],d)=>{const c=skills.value[t[r]];ctx.beginPath(),ctx.moveTo(n*s+s/2,i*s+s/2),ctx.lineTo(...c.loc.map(f=>(f*2-1)*s+s/2)),core.getSkillLevel(c.index)<a.front[d][1]?ctx.strokeStyle="#aaa":core.getSkillLevel(c.index)===c.max?ctx.strokeStyle="#ff0":ctx.strokeStyle="#0f8",ctx.lineWidth=devicePixelRatio,ctx.stroke()})}),skills.value.forEach(a=>{const[n,i]=a.loc.map(c=>c*2-1),r=core.getSkillLevel(a.index);ctx.save(),ctx.lineWidth=s*.06,selected.value===a.index?(ctx.strokeStyle="#ff0",ctx.lineWidth*=2):r===0?ctx.strokeStyle="#888":r===a.max?ctx.strokeStyle="#F7FF68":ctx.strokeStyle="#00FF69",ctx.strokeRect(n*s,i*s,s,s);const d=core.material.images.images[`skill${a.index}.png`];ctx.drawImage(d,n*s,i*s,s,s),selected.value===a.index&&(ctx.fillStyle="#ff04",ctx.fillRect(n*s,i*s,s,s)),ctx.restore()})}function click(t){const o=t.offsetX,s=t.offsetY,n=canvas.width/devicePixelRatio/11,i=Math.floor(o/n),r=Math.floor(s/n);if(i%2!==1||r%2!==1)return;const d=Math.floor(i/2)+1,c=Math.floor(r/2)+1,f=skills.value.find(p=>p.loc[0]===d&&p.loc[1]===c);!f||(selected.value!==f.index?selected.value=f.index:upgrade(f.index))}function upgrade(t){core.upgradeSkill(t)?(tip$1("success","\u5347\u7EA7\u6210\u529F\uFF01"),update.value=!update.value,core.status.route.push(`skill:${selected.value}`)):tip$1("error","\u5347\u7EA7\u5931\u8D25\uFF01")}function key(t){const o=keycode(t.keyCode);(o===KeyCode.Escape||o===KeyCode.KeyX||o===KeyCode.KeyJ)&&exit(),(o===KeyCode.Space||o===KeyCode.Enter||o===KeyCode.KeyC)&&upgrade(selected.value)}onMounted(async()=>{canvas=document.getElementById("skill-canvas"),ctx=canvas.getContext("2d"),resize(),draw(),await S(50),core.plugin.transition.value&&await S(600),canvas.addEventListener("click",click),document.addEventListener("keyup",key)}),onUnmounted(()=>{document.removeEventListener("keyup",key)});function selectChapter(t){const s=chapterList.indexOf(chapter.value)+t;has(chapterList[s])&&flags.chapter>s&&(selected.value=core.plugin.skills[chapterList[s]][0].index,chapter.value=chapterList[s],update.value=!update.value,flags.skillTree=s,draw())}return(t,o)=>{const s=__unplugin_components_0;return openBlock(),createElementBlock("div",_hoisted_1$b,[createBaseVNode("div",_hoisted_2$8,[createBaseVNode("span",{id:"back",class:"button-text tools",onClick:exit},[createVNode(unref(LeftOutlined)),createTextVNode("\u8FD4\u56DE\u6E38\u620F")])]),createBaseVNode("span",_hoisted_3$8,toDisplayString(unref(skill).title),1),createVNode(s,{dashed:"",style:{"border-color":"#ddd4"},id:"divider"}),createBaseVNode("div",_hoisted_4$7,[createVNode(Scroll,{id:"skill-desc","no-scroll":!0},{default:withCtx(()=>[createBaseVNode("span",{innerHTML:unref(desc)},null,8,_hoisted_5$6)]),_:1}),createBaseVNode("div",_hoisted_6$5,[unref(level)>0?(openBlock(),createElementBlock("span",{key:0,innerHTML:unref(effect)[0]},null,8,_hoisted_7$5)):createCommentVNode("",!0),unref(level)<unref(skill).max?(openBlock(),createElementBlock("span",{key:1,innerHTML:unref(effect)[1]},null,8,_hoisted_8$4)):createCommentVNode("",!0)])]),createVNode(s,{dashed:"",style:{"border-color":"#ddd4"},id:"divider-split"}),createBaseVNode("div",_hoisted_9$4,[_hoisted_10$4,createVNode(s,{dashed:"",style:{"border-color":"#ddd4"},type:unref(isMobile)?"horizontal":"vertical",id:"divider-vertical"},null,8,["type"]),createBaseVNode("div",_hoisted_11$4,[createBaseVNode("span",_hoisted_12$3,"\u5F53\u524D\u7B49\u7EA7\uFF1A"+toDisplayString(unref(level))+" / "+toDisplayString(unref(skill).max),1),createVNode(s,{dashed:"",class:"upgrade-divider"}),unref(level)<unref(skill).max?(openBlock(),createElementBlock("span",{key:0,id:"skill-consume",style:normalizeStyle({color:unref(consume)<=mdef.value?"#fff":"#f44"})},"\u5347\u7EA7\u82B1\u8D39\uFF1A"+toDisplayString(unref(consume)),5)):(openBlock(),createElementBlock("span",_hoisted_13$3,"\u5DF2\u6EE1\u7EA7")),createVNode(s,{dashed:"",class:"upgrade-divider"}),createVNode(Scroll,{id:"front-scroll","no-scroll":!0},{default:withCtx(()=>[createBaseVNode("div",_hoisted_14$3,[_hoisted_15$2,(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(front),a=>(openBlock(),createElementBlock("span",{style:normalizeStyle({color:a.startsWith("a")?"#fff":"#f44"})},toDisplayString(a.slice(1)),5))),256))])]),_:1}),createVNode(s,{dashed:"",class:"upgrade-divider"}),createBaseVNode("div",_hoisted_16$2,[createBaseVNode("span",{class:"button-text",onClick:o[0]||(o[0]=a=>selectChapter(-1))},[createVNode(unref(LeftOutlined))]),createTextVNode(" \xA0\xA0 "),createBaseVNode("span",null,toDisplayString(chapterDict[chapter.value]),1),createTextVNode(" \xA0\xA0 "),createBaseVNode("span",{class:"button-text",onClick:o[1]||(o[1]=a=>selectChapter(1))},[createVNode(unref(RightOutlined))])])])])])}}}),skillTree_vue_vue_type_style_index_0_scoped_b1be4e88_lang="",SkillTree=_export_sfc(_sfc_main$b,[["__scopeId","data-v-b1be4e88"]]),index="";function init$8(){return{splitArea,getMapDrawData}}let area={};const bfsCache={},drawCache={},arrow={leftPortal:"left",rightPortal:"right",upPortal:"up",downPortal:"down"};function splitArea(){area={};const e=[];for(const t of core.floorIds){if(e.includes(t)||core.status.maps[t].deleted)continue;const o=getMapData(t,!0);if(e.push(...o.maps),o.maps.length>1){const s=core.status.maps[t].title;area[s]=o.maps}}}function getArea(){return area}function getMapDrawData(e,t=5,o=1,s=!1){var m;const a=`${e},${t},${o}`;if(drawCache[a]&&!s)return drawCache[a];const{link:n,maps:i}=getMapData(e,s),r={},d=[],c=core.status.maps[e];let f=-c.width/2,p=c.width/2,l=-c.height/2,u=c.height/2;for(const[_,y]of Object.entries(n)){const[g,$,F,N]=_.split(","),[E,b,x]=y.split(","),T=core.status.maps[g],L=core.status.maps[E],M=parseInt($),H=parseInt(F),W=parseInt(b),Q=parseInt(x),ee=T.width,se=T.height,te=L.width,ae=L.height;(m=r[g])!=null||(r[g]=[0,0]);const[re,P]=r[g];if(!r[E]){const ne=core.utils.scan[N].x,pe=core.utils.scan[N].y,he=re+(M-ee/2)-(W-te/2)+(o*2+t)*ne,le=P+(H-se/2)-(Q-ae/2)+(o*2+t)*pe;r[E]=[he,le]}const[D,q]=r[E];d.push([re+(M-ee/2+.5),P+(H-se/2+.5),D+(W-te/2+.5),q+(Q-ae/2+.5)]);const G=D-te/2,Z=D+te/2,oe=q-ae/2,X=q+ae/2;G<f&&(f=G),Z>p&&(p=Z),oe<l&&(l=oe),X>u&&(u=X)}Object.values(r).forEach(_=>{_[0]-=f,_[1]-=l}),d.forEach(_=>{_[0]-=f,_[2]-=f,_[1]-=l,_[3]-=l}),f-=5,p+=5,l-=5,u+=5;const h={locs:r,line:d,width:p-f,height:u-l};return drawCache[a]=h}function getMapData(e,t=!1){if(has(bfsCache[e])&&!t)return bfsCache[e];const o=[e],s={[e]:!0},a=[e],n={};for(;o.length>0;){const r=o.shift(),d=core.floors[r].changeFloor,c=core.getMapBlocksObj(r,t);for(const[f,p]of Object.entries(d)){const l=p.floorId;if(l.startsWith(":"))continue;const h=c[f].event.id;if(h in arrow&&!s[l]){const m=`${r},${f},${arrow[h]}`,_=`${l},${p.loc[0]},${p.loc[1]}`;n[m]=_,o.push(l),a.push(l)}}s[r]=!0}const i={maps:a,link:n};return bfsCache[e]=i}const _withScopeId$3=e=>(pushScopeId("data-v-daeed431"),e=e(),popScopeId(),e),_hoisted_1$a={id:"fly"},_hoisted_2$7={id:"tools"},_hoisted_3$7={id:"fly-settings"},_hoisted_4$6={id:"fly-border"},_hoisted_5$5=_withScopeId$3(()=>createBaseVNode("span",null,"\u65E0\u8FB9\u6846\u6A21\u5F0F",-1)),_hoisted_6$4={key:0,id:"fly-tradition"},_hoisted_7$4=_withScopeId$3(()=>createBaseVNode("span",null,"\u4F20\u7EDF\u6309\u952E\u6A21\u5F0F",-1)),_hoisted_8$3={id:"fly-main"},_hoisted_9$3={id:"fly-left"},_hoisted_10$3={id:"area-list"},_hoisted_11$3=["selected","onClick"],_hoisted_12$2={id:"fly-right"},_hoisted_13$2={id:"fly-tools"},_hoisted_14$2={id:"fly-now"},_sfc_main$a=defineComponent({__name:"fly",setup(e){var ge;const t=getArea(),o=ref((ge=Object.keys(t).find(k=>t[k].includes(core.status.floorId)))!=null?ge:""),s=ref(core.status.floorId),a=ref(!0),n=ref(!1);let i=isMobile?1.5:3,r=0,d=0,c={},f={};a.value=core.getLocalStorage("noBorder",!0),n.value=core.getLocalStorage("flyTradition",!1);const p=computed(()=>core.status.maps[s.value]);watch(s,H),watch(o,k=>{var w;r=0,d=0,i=3,ee=3,t[k]&&!t[k].includes(s.value)&&(s.value=(w=t[k].find(A=>A===core.status.floorId))!=null?w:t[k][0])}),watch(a,k=>{core.setLocalStorage("noBorder",k),c={},N()}),watch(n,k=>{core.setLocalStorage("flyTradition",k)});const l=document.createElement("canvas"),u=l.getContext("2d");let h,m,_,y,g=!1;function $(){core.plugin.flyOpened.value=!1}const F=computed(()=>core.status.maps[s.value].title);function N(k=!1){const w=a.value?.5:1,A=getMapDrawData(s.value,a.value?0:5,w,k),U=u,V=i*devicePixelRatio;l.width=A.width*V,l.height=A.height*V,U.lineWidth=w*devicePixelRatio/2,U.strokeStyle="#fff",U.scale(V,V),U.translate(5,5),a.value||A.line.forEach(([K,ue,ie,_e])=>{U.beginPath(),U.moveTo(K,ue),U.lineTo(ie,_e),U.stroke()});for(const[K,[ue,ie]]of Object.entries(A.locs))a.value||E(K,ue,ie),T(K,ue,ie);b()}function E(k,w,A){const U=a.value?.5:1,V=u;V.lineWidth=U*devicePixelRatio;const K=core.status.maps[k];core.hasVisitedFloor(k)?V.fillStyle="#000":V.fillStyle="#d0d",k===s.value?V.strokeStyle="gold":V.strokeStyle="#fff",V.strokeRect(w-K.width/2,A-K.height/2,K.width,K.height),V.fillRect(w-K.width/2,A-K.height/2,K.width,K.height),k===s.value&&(V.fillStyle="#ff04",V.fillRect(w-K.width/2,A-K.height/2,K.width,K.height))}function b(k=1){m.clearRect(0,0,h.width,h.height),m.drawImage(l,0,0,l.width,l.height,r*devicePixelRatio+(h.width-l.width)/2,d*devicePixelRatio+(h.height-l.height)/2,l.width,l.height)}function x(k,w,A){const U=core.status.maps[k],V=i*devicePixelRatio,K=r*devicePixelRatio+(h.width-l.width)/2+5*V,ue=d*devicePixelRatio+(h.height-l.height)/2+5*V,ie=K+(w-U.width/2)*V,_e=ue+(A-U.height/2)*V,ve=ie+U.width*V,ye=_e+U.height*V;return f[k]=[ie,_e,ve,ye],!(c[k]||!a.value&&i<=4||ve<0||ye<0||ie>h.width||_e>h.height)}function T(k,w,A,U=!1){if(!g&&!U&&!x(k,w,A))return;const V=core.status.maps[k];c[k]=!0;const K=u;core.drawThumbnail(k,void 0,{all:!0,inFlyMap:!0,x:w-V.width/2,y:A-V.height/2,w:V.width,h:V.height,ctx:K,damage:i>7}),g||(core.hasVisitedFloor(k)||(K.fillStyle="#d0d6",K.fillRect(w-V.width/2,A-V.height/2,V.width,V.height),K.fillStyle="#000"),s.value===k&&(K.fillStyle="#ff04",K.fillRect(w-V.width/2,A-V.height/2,V.width,V.height),K.fillStyle="#000"))}function L(){const k=a.value?.5:1,w=getMapDrawData(s.value,a.value?0:5,k);for(const[A,[U,V]]of Object.entries(w.locs))x(A,U,V)&&T(A,U,V,!0)}function M(){let k=_.width,w=_.height,A=0,U=0;const V=p.value.width/p.value.height;V>1&&(w=k/V,U=_.height/2-w/2),V<1&&(k=w*V,A=_.width/2-k/2),y.fillStyle="#000",y.fillRect(0,0,_.width,_.height),core.drawThumbnail(s.value,void 0,{ctx:y,all:!0,damage:!0,inFlyMap:!0,x:A,y:U,w:k,h:w})}function H(){c={},f={},N(),M()}function W(){if(o.value===""){tip$1("error","\u5F53\u524D\u5730\u56FE\u4E0D\u5728\u4EFB\u610F\u4E00\u4E2A\u533A\u57DF\u5185\uFF01");return}g=!0;const k=i;i=32,N(),downloadCanvasImage(l,o.value),i=k,g=!1,H(),tip$1("success","\u56FE\u7247\u4E0B\u8F7D\u6210\u529F\uFF01")}function Q(){core.flyTo(s.value)?$():tip$1("error",`\u65E0\u6CD5\u98DE\u5F80${p.value.title}`)}let ee=i;const se=lodash.exports.debounce(k=>{h.style.transform="",c={},N(),ee=k},200);function te(k){r*=k,d*=k,i=k*i,se(i),h.style.transform=`scale(${i/ee})`,f={}}let ae=0,re=0,P=!1,D=0,q=0;function G(k,w){if(le)return;const A=k-ae,U=w-re;r+=A,d+=U,ae=k,re=w,L(),b(),(Math.abs(k-D)>10||Math.abs(w-q)>10)&&(P=!0)}function Z(k){if(P)return;const w=k.offsetX*devicePixelRatio,A=k.offsetY*devicePixelRatio;for(const[U,[V,K,ue,ie]]of Object.entries(f))w>=V&&w<=ue&&A>=K&&A<=ie&&(U===s.value?Q():s.value=U)}function oe(k){o.value=Object.keys(t).find(w=>t[w].includes(k))}function X(k){const w=core.floorIds.indexOf(s.value);let A=w+k;A<0&&(A=0),A>=core.floorIds.length&&(A=core.floorIds.length-1);const U=core.status.maps[core.floorIds[A]];if(U.deleted||U.forceDelete)for(;A!==w;){A+=Math.sign(k);const V=core.status.maps[core.floorIds[A]];if(!V.cannotViewMap&&(!V.deleted&&!V.forceDelete||A<0||A>=core.floorIds.length))break}s.value=core.floorIds[A],oe(s.value),pe(s.value)}function ne(k){const w=getMapData(s.value);for(const[A,U]of Object.entries(w.link)){if(!A.startsWith(s.value))continue;if(A.split(",")[3]===k){const K=U.split(",")[0];pe(K),s.value=K;return}}}function pe(k){const w=getMapDrawData(k,a.value?0:5,a.value?.5:1);if(!w.locs[k])return;const[A,U]=w.locs[k];r=(-A+w.width/2-5)*i,d=(-U+w.height/2-5)*i}function he(k){const w=keycode(k.keyCode);(w===KeyCode.Enter||w===KeyCode.Space||w===KeyCode.KeyC)&&Q(),(w===KeyCode.Escape||w===KeyCode.KeyX||w===KeyCode.KeyG)&&$(),n.value?(w===KeyCode.UpArrow&&X(1),w===KeyCode.DownArrow&&X(-1),w===KeyCode.LeftArrow&&X(-10),w===KeyCode.RightArrow&&X(10),w===KeyCode.PageUp&&X(10),w===KeyCode.PageDown&&X(-10)):(w===KeyCode.LeftArrow&&ne("left"),w===KeyCode.RightArrow&&ne("right"),w===KeyCode.UpArrow&&ne("up"),w===KeyCode.DownArrow&&ne("down"),w===KeyCode.PageUp&&X(1),w===KeyCode.PageDown&&X(-1))}let le=!1,J=0;function ce(k){k.touches.length>=2&&(le=!0,J=Math.sqrt((k.touches[0].clientX-k.touches[1].clientX)**2+(k.touches[0].clientY-k.touches[1].clientY)**2))}function de(k){k.touches.length<2&&(le=!1)}function fe(k){if(!le)return;const w=Math.sqrt((k.touches[0].clientX-k.touches[1].clientX)**2+(k.touches[0].clientY-k.touches[1].clientY)**2);te(w/J),J=w}return onMounted(async()=>{h=document.getElementById("fly-map"),m=h.getContext("2d"),_=document.getElementById("fly-thumbnail"),y=_.getContext("2d");const k=getComputedStyle(h),w=getComputedStyle(_);h.width=parseFloat(k.width)*devicePixelRatio,h.height=parseFloat(k.height)*devicePixelRatio,_.width=parseFloat(w.width)*devicePixelRatio,_.height=parseFloat(w.width)*devicePixelRatio,Array.from(document.getElementsByClassName("fly-settings")).forEach(A=>{A.addEventListener("click",U=>A.blur())}),pe(s.value),H(),useDrag(h,G,(A,U)=>{ae=A,re=U,D=A,q=U},()=>{setTimeout(()=>{P=!1},50)},!0),useWheel(h,(A,U)=>{const V=-Math.sign(U)*.1+1;te(V)}),await S(50),core.plugin.transition.value&&await S(600),document.addEventListener("keyup",he),h.addEventListener("touchstart",ce),h.addEventListener("touchend",de),h.addEventListener("touchend",fe)}),onUnmounted(()=>{cancelGlobalDrag(G),document.removeEventListener("keyup",he)}),(k,w)=>{const A=__unplugin_components_0$2,U=__unplugin_components_0;return openBlock(),createElementBlock("div",_hoisted_1$a,[createBaseVNode("div",_hoisted_2$7,[createBaseVNode("span",{class:"button-text",onClick:$},[createVNode(unref(LeftOutlined)),createTextVNode(" \u8FD4\u56DE\u6E38\u620F")])]),createBaseVNode("div",_hoisted_3$7,[createBaseVNode("div",_hoisted_4$6,[_hoisted_5$5,createVNode(A,{class:"fly-settings",checked:a.value,"onUpdate:checked":w[0]||(w[0]=V=>a.value=V),"checked-children":"ON","un-checked-children":"OFF"},null,8,["checked"])]),unref(isMobile)?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_6$4,[_hoisted_7$4,createVNode(A,{class:"fly-settings",checked:n.value,"onUpdate:checked":w[1]||(w[1]=V=>n.value=V),"checked-children":"ON","un-checked-children":"OFF"},null,8,["checked"])])),unref(isMobile)?createCommentVNode("",!0):(openBlock(),createElementBlock("span",{key:1,class:"button-text",id:"fly-download",onClick:W},"\u4E0B\u8F7D\u5730\u56FE\u56FE\u7247"))]),createBaseVNode("div",_hoisted_8$3,[createBaseVNode("div",_hoisted_9$3,[createVNode(Scroll,{id:"fly-area"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_10$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(t),(V,K)=>(openBlock(),createElementBlock("span",{selected:o.value===K,class:"selectable",onClick:ue=>o.value=K},toDisplayString(K),9,_hoisted_11$3))),256))])]),_:1}),createVNode(U,{type:"vertical",dashed:"",id:"divider-left"}),createBaseVNode("div",{id:"fly-map-div"},[createBaseVNode("canvas",{id:"fly-map",onClick:Z})])]),createVNode(U,{id:"divider-right",dashed:"",type:unref(isMobile)?"horizontal":"vertical"},null,8,["type"]),createBaseVNode("div",_hoisted_12$2,[createBaseVNode("canvas",{id:"fly-thumbnail",onClick:Q}),createBaseVNode("div",_hoisted_13$2,[createVNode(unref(DoubleLeftOutlined),{onClick:w[2]||(w[2]=V=>X(-10)),class:"button-text"}),createVNode(unref(LeftOutlined),{onClick:w[3]||(w[3]=V=>X(-1)),class:"button-text"}),createBaseVNode("span",_hoisted_14$2,toDisplayString(unref(F)),1),createVNode(unref(RightOutlined),{onClick:w[4]||(w[4]=V=>X(1)),class:"button-text"}),createVNode(unref(DoubleRightOutlined),{onClick:w[5]||(w[5]=V=>X(10)),class:"button-text"})])])])])}}}),fly_vue_vue_type_style_index_0_scoped_daeed431_lang="",Fly=_export_sfc(_sfc_main$a,[["__scopeId","data-v-daeed431"]]),showFixed=ref(!1);let lastId;const show=lodash.exports.debounce(e=>{var i;if(!window.flags||!flags.mouseLoc)return;flags.clientLoc=[e.clientX,e.clientY];const[t,o]=getLocFromMouseLoc(...flags.mouseLoc),s=core.getBlockId(t,o);if(s!==lastId&&(showFixed.value=!1),!s||!((i=core.getClsFromId(s))!=null&&i.startsWith("enemy")))return;lastId=s;const a=core.material.enemys[s],n=getDetailedEnemy(a,t,o);core.plugin.bookDetailEnemy=n,showFixed.value=!0},200);function init$7(){const e=core.canvas.data.canvas;return e.addEventListener("mousemove",t=>{if(!core.isPlaying()||core.status.lockControl)return;const[o,s]=getLocFromMouseLoc(...flags.mouseLoc),a=core.getBlockId(o,s);a!==lastId&&(showFixed.value=!1),a&&show(t)}),e.addEventListener("mousedown",t=>{showFixed.value=!1}),{showFixed}}function getLocFromMouseLoc(e,t){const o=Math.round(e+core.bigmap.offsetX/32),s=Math.round(t+core.bigmap.offsetY/32);return[o,s]}function getDetailedEnemy(e,t,o,s=core.status.floorId){var h,m,_,y,g;const a=core.status.maps[s].ratio,n=Object.assign({},e,core.getEnemyInfo(e,void 0,t,o,s),(h=core.getDamageInfo(e,void 0,t,o,s))!=null?h:{}),i=core.nextCriticals(e,1,t,o,s),r=core.getDefDamage(e,a,t,o,s),d=core.getSpecialText(n);let c=lodash.exports.cloneDeep(d);c.length>2&&(c=c.slice(0,2).concat(["..."]));const f=core.getSpecialColor(n);let p=lodash.exports.cloneDeep(f);p.length>2&&(p=p.slice(0,2).concat(["#fff"])),c.length===0&&(c=["\u65E0\u5C5E\u6027"],p=["#fff"]);const l=getDamageColor(n.damage);return Object.assign(n,{critical:(_=(m=i[0])==null?void 0:m[0])!=null?_:"???",criticalDamage:(g=(y=i[0])==null?void 0:y[1])!=null?g:"???",defDamage:r,specialColor:f,specialText:d,toShowColor:p,toShowSpecial:c,damageColor:l})}const _hoisted_1$9={id:"fixed-detail"},_sfc_main$9=defineComponent({__name:"fixedDetail",setup(e){var d,c;const t=(d=core.plugin.fixedDetailPanel)!=null?d:"special";core.plugin.bookDetailPos=0;const[o,s]=flags.mouseLoc,a=Math.round(o+core.bigmap.offsetX/32),n=Math.round(s+core.bigmap.offsetY/32),i=core.getBlockId(a,n);if(i&&((c=core.getClsFromId(i))==null?void 0:c.startsWith("enemy"))){const f=core.material.enemys[i],p=getDetailedEnemy(f,a,n);core.plugin.bookDetailEnemy=p}else r();function r(){core.plugin.fixedDetailOpened.value=!1}return(f,p)=>(openBlock(),createElementBlock("div",_hoisted_1$9,[createVNode(BookDetail,{"from-book":!1,"default-panel":unref(t),onClose:r},null,8,["default-panel"])]))}}),fixedDetail_vue_vue_type_style_index_0_scoped_95b38cb5_lang="",FixedDetail=_export_sfc(_sfc_main$9,[["__scopeId","data-v-95b38cb5"]]),_withScopeId$2=e=>(pushScopeId("data-v-a9359e67"),e=e(),popScopeId(),e),_hoisted_1$8={id:"shop"},_hoisted_2$6={id:"tools"},_hoisted_3$6={id:"item-name"},_hoisted_4$5={id:"item-info"},_hoisted_5$4=["innerHTML"],_hoisted_6$3={id:"shop-bottom"},_hoisted_7$3={id:"item-list"},_hoisted_8$2=["selected","onClick"],_hoisted_9$2={class:"item-icon"},_hoisted_10$2={id:"item-sell-info"},_hoisted_11$2={id:"shop-mode"},_hoisted_12$1=["active"],_hoisted_13$1=["active"],_hoisted_14$1=_withScopeId$2(()=>createBaseVNode("span",null,"\u4E70\u4EF7",-1)),_hoisted_15$1=_withScopeId$2(()=>createBaseVNode("span",null,"\u5356\u4EF7",-1)),_hoisted_16$1={class:"item-sell-info"},_hoisted_17$1=_withScopeId$2(()=>createBaseVNode("span",null,"\u5B58\u8D27",-1)),_hoisted_18$1={class:"item-sell-info"},_hoisted_19$1=_withScopeId$2(()=>createBaseVNode("span",null,"\u62E5\u6709",-1)),_hoisted_20$1={id:"sell-count"},_hoisted_21$1={id:"sell-count-select"},_hoisted_22$1={id:"fly-now"},_hoisted_23$1={id:"sell-confirm"},_hoisted_24$1=["danger"],_sfc_main$8=defineComponent({__name:"shop",setup(e){var E;const t=core.plugin.openedShopId,o=core.status.shops[core.plugin.openedShopId];if(!o.item)throw new TypeError("Wrong global shop type delivered in opening item shop.");(E=flags.itemShop)!=null||(flags.itemShop={});const s=flags,a=o.choices,n=ref(0),i=ref("buy"),r=core.material.items,d=core.itemCount,c=ref(0),f=ref(core.status.hero.money),p=ref(!1);let l=!1;watch(c,b=>{if(b<0&&(b=0),i.value==="buy")b>h.value&&(b=h.value);else{const x=d(u.value.id);b>x&&(b=x)}c.value=b});const u=computed(()=>a[n.value]),h=computed(()=>{var b,x;return p.value,u.value.number-((x=(b=flags.itemShop[t])==null?void 0:b[u.value.id])!=null?x:0)}),m=computed(()=>core.material.items[u.value.id]),_=computed(()=>{const b=m.value.text;return splitText([b.startsWith("!!html")?b.slice(6):b])}),y=computed(()=>c.value*parseInt(i.value==="buy"?u.value.money:u.value.sell));watch(h,b=>{b<c.value&&(c.value=b)});function g(){var x,T,L,M,H,W,Q,ee,se,te;if(c.value===0)return;const b=core.status.hero.money;l=!0,core.status.route.push(`openShop:${t}`),i.value==="buy"?y.value<=b?(core.getItem(u.value.id,c.value),core.status.hero.money-=y.value,f.value-=y.value,(T=(x=flags.itemShop)[t])!=null||(x[t]={}),(H=(L=flags.itemShop[t])[M=u.value.id])!=null||(L[M]=0),flags.itemShop[t][u.value.id]+=c.value,tip$1("success",`\u6210\u529F\u8D2D\u4E70${c.value}\u4E2A${m.value.name}\uFF01`),core.status.route.push(`buy:${u.value.id}:${c.value}`)):tip$1("error","\u4F60\u7684\u91D1\u5E01\u4E0D\u591F\uFF01"):(core.addItem(u.value.id,-c.value),core.status.hero.money+=y.value,f.value+=y.value,(Q=(W=flags.itemShop)[t])!=null||(W[t]={}),(te=(ee=flags.itemShop[t])[se=u.value.id])!=null||(ee[se]=0),flags.itemShop[t][u.value.id]-=c.value,tip$1("success",`\u6210\u529F\u5356\u51FA${c.value}\u4E2A${m.value.name}\uFF01`),core.status.route.push(`sell:${u.value.id}:${c.value}`)),c.value=0,p.value=!p.value}function $(b){const x=keycode(b.keyCode);(x===KeyCode.KeyX||x===KeyCode.Escape||x===KeyCode.KeyV)&&N(),x===KeyCode.UpArrow&&n.value>=1&&n.value--,x===KeyCode.DownArrow&&n.value<=a.length-2&&n.value++,(x===KeyCode.KeyC||x===KeyCode.Space||x===KeyCode.Enter)&&g()}function F(b){const x=keycode(b.keyCode);x===KeyCode.LeftArrow&&c.value--,x===KeyCode.RightArrow&&c.value++}function N(){l&&core.status.route.push("closeShop"),core.plugin.shopOpened.value=!1}return onMounted(async()=>{await S(50),core.plugin.transition.value&&await S(600),document.addEventListener("keyup",$),document.addEventListener("keydown",F)}),onUnmounted(()=>{document.removeEventListener("keyup",$),document.removeEventListener("keydown",F)}),(b,x)=>{const T=__unplugin_components_0;return openBlock(),createElementBlock("div",_hoisted_1$8,[createBaseVNode("div",_hoisted_2$6,[createBaseVNode("span",{class:"button-text",onClick:N},[createVNode(unref(LeftOutlined)),createTextVNode(" \u8FD4\u56DE\u6E38\u620F")])]),createBaseVNode("span",_hoisted_3$6,toDisplayString(unref(m).name),1),createVNode(T,{dashed:"",style:{"border-color":"#ddd4"},id:"divider"}),createBaseVNode("div",_hoisted_4$5,[createVNode(Scroll,{id:"item-desc","no-scroll":!0},{default:withCtx(()=>[createBaseVNode("span",{innerHTML:unref(_)},null,8,_hoisted_5$4)]),_:1})]),createVNode(T,{dashed:"",style:{"border-color":"#ddd4"},id:"divider-split"}),createBaseVNode("div",_hoisted_6$3,[createBaseVNode("div",_hoisted_7$3,[createVNode(Scroll,{style:{width:"100%",height:"100%"}},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(a),(L,M)=>{var H,W;return openBlock(),createElementBlock("div",{class:"selectable item-one",selected:M===n.value,onClick:Q=>n.value=M},[createBaseVNode("div",_hoisted_9$2,[createVNode(_sfc_main$p,{id:L.id,noborder:!0},null,8,["id"]),createBaseVNode("span",null,toDisplayString(unref(r)[L.id].name),1)]),createBaseVNode("span",null,"\xD7\xA0"+toDisplayString((i.value==="buy"?L.number-((W=(H=unref(s).itemShop[unref(t)])==null?void 0:H[L.id])!=null?W:0):unref(d)(L.id))+(p.value,0)),1)],8,_hoisted_8$2)}),256))]),_:1})]),createVNode(T,{dashed:"",style:{"border-color":"#ddd4"},type:unref(isMobile)?"horizontal":"vertical",id:"divider-vertical"},null,8,["type"]),createBaseVNode("div",_hoisted_10$2,[createBaseVNode("div",_hoisted_11$2,[createBaseVNode("span",{class:"button-text mode-button",active:i.value==="buy",onClick:x[0]||(x[0]=L=>i.value="buy")},"\u8D2D\u4E70",8,_hoisted_12$1),createVNode(T,{dashed:"",type:"vertical",id:"divider-vertical",style:{"border-color":"#ddd4"}}),createBaseVNode("span",{class:"button-text mode-button",active:i.value==="sell",danger:"true",onClick:x[1]||(x[1]=L=>i.value="sell")},"\u552E\u51FA",8,_hoisted_13$1)]),createVNode(T,{dashed:"",style:{"border-color":"#ddd4"},id:"divider-mode"}),createBaseVNode("div",{class:"item-sell-info",style:normalizeStyle({color:i.value==="buy"?"lightgreen":"white"})},[_hoisted_14$1,createBaseVNode("span",null,toDisplayString(unref(u).money),1)],4),createBaseVNode("div",{class:"item-sell-info",style:normalizeStyle({color:i.value==="sell"?"lightcoral":"white"})},[_hoisted_15$1,createBaseVNode("span",null,toDisplayString(unref(u).sell),1)],4),createBaseVNode("div",_hoisted_16$1,[_hoisted_17$1,createBaseVNode("span",null,toDisplayString(unref(h)),1)]),createBaseVNode("div",_hoisted_18$1,[_hoisted_19$1,createBaseVNode("span",null,toDisplayString(unref(d)(unref(u).id)),1)]),createVNode(T,{dashed:"",style:{"border-color":"#ddd4"},id:"divider-mode"}),createBaseVNode("div",_hoisted_20$1,[createBaseVNode("span",null,toDisplayString(i.value==="buy"?"\u8D2D\u4E70":"\u552E\u51FA")+"\u6570\u91CF",1),createBaseVNode("div",_hoisted_21$1,[createVNode(unref(DoubleLeftOutlined),{class:"button-text",onClick:x[2]||(x[2]=L=>c.value-=10)}),createVNode(unref(LeftOutlined),{class:"button-text",onClick:x[3]||(x[3]=L=>c.value--)}),createBaseVNode("span",_hoisted_22$1,toDisplayString(c.value),1),createVNode(unref(RightOutlined),{class:"button-text",onClick:x[4]||(x[4]=L=>c.value++)}),createVNode(unref(DoubleRightOutlined),{class:"button-text",onClick:x[5]||(x[5]=L=>c.value+=10)})])]),createVNode(T,{dashed:"",style:{"border-color":"#ddd4",margin:"2vh 0 2vh 0"}}),createBaseVNode("div",_hoisted_23$1,[createBaseVNode("span",{id:"sell-total",style:normalizeStyle({color:i.value==="buy"&&f.value>unref(y)?"lightgreen":"lightcoral"})},"\u603B\u4EF7\uFF1A"+toDisplayString(c.value*parseInt(i.value==="buy"?unref(u).money:unref(u).sell)),5),createBaseVNode("span",{id:"sell-button",class:"button-text",danger:i.value==="sell","danger-display":"true",active:"true",onClick:g},"\u786E\u8BA4"+toDisplayString(i.value==="buy"?"\u8D2D\u4E70":"\u552E\u51FA"),9,_hoisted_24$1)])])])])}}}),shop_vue_vue_type_style_index_0_scoped_a9359e67_lang="",Shop=_export_sfc(_sfc_main$8,[["__scopeId","data-v-a9359e67"]]),bookOpened=ref(!1),toolOpened=ref(!1),equipOpened=ref(!1),showStatusBar=ref(!1),settingsOpened=ref(!1),descOpened=ref(!1),skillOpened=ref(!1),skillTreeOpened=ref(!1),flyOpened=ref(!1),showStudiedSkill=ref(!1),fixedDetailOpened=ref(!1),shopOpened=ref(!1),transition=ref(!0),noClosePanel=ref(!1);let app;const UI_LIST=[[bookOpened,Book],[toolOpened,Toolbox],[equipOpened,Equipbox],[settingsOpened,Settings],[descOpened,Desc],[skillOpened,Skill],[skillTreeOpened,SkillTree],[flyOpened,Fly],[fixedDetailOpened,FixedDetail],[shopOpened,Shop]],uiStack=shallowReactive([]);function init$6(){return app=document.getElementById("root"),UI_LIST.forEach(([e,t])=>{watch(e,o=>{if(o===!0)uiStack.push(markRaw(t)),showApp();else{const s=uiStack.findIndex(a=>a===t);if(s===-1)return;uiStack.length===1?hideApp(s):uiStack.splice(s,1)}})}),{uiStack,transition,bookOpened,toolOpened,equipOpened,showStatusBar,settingsOpened,descOpened,skillOpened,skillTreeOpened,flyOpened,showStudiedSkill,fixedDetailOpened,shopOpened}}async function showApp(){core.lockControl(),transition.value?app.style.transition="all 0.6s linear":app.style.transition="none",app.style.display="flex",await S(50),app.style.opacity="1"}async function hideApp(e){transition.value?(app.style.transition="all 0.6s linear",app.style.opacity="0",await S(600)):(app.style.transition="",app.style.opacity="0"),uiStack.splice(e,1),app.style.display="none",noClosePanel.value||core.closePanel(),noClosePanel.value=!1}const status=ref(!1);function init$5(){return{statusBarStatus:status}}const chapterShowed=ref(!1),chapterContent=ref("");function init$4(){return{chapterShowed,chapterContent}}const ani=new R;ani.register("rect",0);const path1={MT16:[[23,23],[0,23]],MT15:[[63,4],[61,4],[61,5],[58,5],[58,8],[54,8],[54,11],[51,11],[51,8],[45,8],[45,4],[47,4],[47,6],[51,6],[51,5],[52,5],[52,3],[50,3],[50,5],[48,5],[48,3],[35,3],[35,5],[31,5],[31,7],[34,7],[34,9],[31,9],[31,11],[12,11],[12,8],[1,8],[1,7],[0,7]],MT14:[[127,7],[126,7],[126,8],[124,8],[124,7],[115.2,7],[115.2,9.2],[110.2,9.2],[110.2,11],[109.8,11],[109.8,8.8],[111.8,8.8],[111.8,7],[104,7],[104,3],[100,3],[100,4],[98,4],[98,3],[96,3],[96,6],[95,6],[95,7],[88,7],[88,6],[85,6],[85,8],[83,8],[83,9],[81,9],[81,11],[72,11],[72,5],[68,5],[68,8],[67,8],[67,10],[65,10],[65,11],[62,11],[62,9],[60,9],[60,11],[57,11],[57,9],[54,9]]},camera1=[["MT16",0,10,0,1600,C("sin","in")],["MT15",45,0,0,2324,C("sin","in")],["MT15",40,0,2324,1992,C("sin","out")],["MT15",41,0,5312,498,C("sin","in-out")],["MT15",37,0,5810,1660,C("sin","in")],["MT15",29,0,7470,830,C("sin","out")],["MT15",25,0,11454,996,C("sin","in")],["MT15",12,0,12450,996,j()],["MT15",0,0,13446,1470,C("sin","out")],["MT14",109,0,0,1328,C("sin","in")],["MT14",104,0,1328,332,C("sin","out")],["MT14",92,0,5478,2822,C("sin","in")],["MT14",84,0,8300,1992,j()],["MT14",74,0,10292,2988,j()],["MT14",65,0,13280,2988,j()],["MT14",58,0,16268,1992,j()],["MT14",47,0,18260,3320,j()],["MT14",36,0,21580,3320,j()],["MT14",0,0,24900,9960,j()]];function init1(){const e=["MT13","MT14","MT15"],t=[];e.forEach(o=>{core.status.maps[o].cannotMoveDirectly=!0,core.extractBlocks(o),core.status.maps[o].blocks.forEach(s=>{["animates","items"].includes(s.event.cls)&&!s.event.id.endsWith("Portal")&&t.push([s.x,s.y,o])})}),t.forEach(o=>{core.removeBlock(...o)})}function chaseShake(e){e.ani.mode(shake2(2/32,O(1,1,1,1,1,1,1,1,1,1,1,1)),!0).time(5e4).shake(1,0)}async function wolfMove(e){core.moveBlock(23,17,Array(6).fill("down"),80),await S(550),core.setBlock(508,23,23)}function judgeFail1(e){e.ani.ticker.add(()=>{core.status.hero.loc.x>core.bigmap.offsetX/32+17&&(e.end(),ani.time(750).apply("rect",0),core.lose("\u9003\u8DD1\u5931\u8D25"))})}function drawBack(e){e.on("MT15",0,()=>{ani.mode(C("sin","out")).time(1500).absolute().apply("rect",64);const t=core.createCanvas("chaseBack",0,0,480,480,120);t.fillStyle="#000";const o=()=>{t||ani.ticker.remove(o),core.clearMap(t),t.fillRect(0,0,480,ani.value.rect),t.fillRect(0,480,480,-ani.value.rect)};ani.ticker.add(o)})}function para1(e){e.on("MT15",830,()=>{for(let t=53;t<58;t++)for(let o=3;o<8;o++)core.setBlock(336,t,o);core.drawAnimate("explosion3",55,5),core.drawAnimate("stone",55,5)}),e.on("MT15",1080,()=>{core.setBlock(336,58,9),core.setBlock(336,59,9),core.drawAnimate("explosion1",58,9),core.drawAnimate("explosion1",59,9)}),e.on("MT15",1190,()=>{core.setBlock(336,53,8),core.setBlock(336,52,8),core.drawAnimate("explosion1",53,8),core.drawAnimate("explosion1",52,8)}),e.on("MT15",1580,()=>{core.setBlock(336,51,7),core.drawAnimate("explosion1",51,7)}),e.on("MT15",1830,()=>{core.setBlock(336,47,7),core.setBlock(336,49,9),core.drawAnimate("explosion1",49,9),core.drawAnimate("explosion1",47,7)})}function para2(e){e.onHeroLoc("MT15",()=>{core.setBlock(336,45,9),core.drawAnimate("explosion1",45,9)},45,8),e.onHeroLoc("MT15",()=>{core.setBlock(336,44,6),core.drawAnimate("explosion1",44,6)},45,6),e.onHeroLoc("MT15",()=>{core.setBlock(336,44,4),core.drawAnimate("explosion1",44,4),core.drawAnimate("explosion1",48,6),core.removeBlock(48,6)},45,4),e.onHeroLoc("MT15",()=>{core.setBlock(336,41,4),core.setBlock(336,32,6),core.drawAnimate("explosion1",41,4),core.drawAnimate("explosion1",32,6)},41,3),e.onHeroLoc("MT15",()=>{core.drawAnimate("explosion3",37,7),core.vibrate("vertical",1e3,25,10);for(let t=36;t<42;t++)for(let o=4;o<11;o++)core.setBlock(336,t,o)},35,3),e.onHeroLoc("MT15",()=>{core.vibrate("vertical",1e4,25,1),core.removeBlock(34,8),core.removeBlock(33,8),core.drawAnimate("explosion1",34,8),core.drawAnimate("explosion1",33,8)},31,5),e.onHeroLoc("MT15",()=>{core.setBlock(336,32,9),core.drawAnimate("explosion1",32,9)},33,7),e.onHeroLoc("MT15",()=>{core.removeBlock(32,9),core.drawAnimate("explosion1",32,9)},[33,34,34],9);for(let t=19;t<31;t++){const o=t;e.onHeroLoc("MT15",()=>{core.setBlock(336,o+1,11),core.drawAnimate("explosion1",o+1,11)},o,11)}}function para3(e){e.onHeroLoc("MT14",()=>{core.setBlock(336,126,6),core.setBlock(336,124,6),core.setBlock(336,124,9),core.setBlock(336,126,9),core.drawAnimate("explosion1",126,6),core.drawAnimate("explosion1",124,6),core.drawAnimate("explosion1",124,9),core.drawAnimate("explosion1",126,9)},126,7),e.onHeroLoc("MT14",()=>{core.setBlock(508,127,7),core.jumpBlock(127,7,112,7,500,!0),setTimeout(()=>{core.setBlock(509,112,7)},520),core.drawHeroAnimate("amazed"),core.setBlock(336,121,6),core.setBlock(336,122,6),core.setBlock(336,120,8),core.setBlock(336,121,8),core.setBlock(336,122,8),core.drawAnimate("explosion1",121,6),core.drawAnimate("explosion1",122,6),core.drawAnimate("explosion1",120,8),core.drawAnimate("explosion1",121,8),core.drawAnimate("explosion1",122,8)},123,7),e.onHeroLoc("MT14",()=>{core.setBlock(336,109,11),core.removeBlock(112,8),core.drawAnimate("explosion1",109,11),core.drawAnimate("explosion1",112,8),core.insertAction([{type:"moveHero",time:400,steps:["backward:1"]}]),e.onHeroLoc("MT14",()=>{core.jumpBlock(112,7,110,4,500,!0),core.drawHeroAnimate("amazed"),setTimeout(()=>{core.setBlock(506,110,4)},540)},112,8)},110,10),e.onHeroLoc("MT14",()=>{core.setBlock(336,117,6),core.setBlock(336,116,6),core.setBlock(336,115,6),core.setBlock(336,114,6),core.setBlock(336,117,8),core.setBlock(336,116,8),core.drawAnimate("explosion1",117,6),core.drawAnimate("explosion1",116,6),core.drawAnimate("explosion1",115,6),core.drawAnimate("explosion1",114,6),core.drawAnimate("explosion1",116,8),core.drawAnimate("explosion1",117,8)},118,7),e.onHeroLoc("MT14",()=>{core.setBlock(336,112,8),core.setBlock(336,113,7),core.drawAnimate("explosion1",112,8),core.drawAnimate("explosion1",113,7)},112,7),e.onHeroLoc("MT14",()=>{for(let t=111;t<=115;t++)core.setBlock(336,t,10),core.drawAnimate("explosion1",t,10);core.setBlock(336,112,8),core.drawAnimate("explosion1",112,8)},115,7),e.onHeroLoc("MT14",()=>{core.jumpBlock(97,4,120,-3,2e3);for(let t=109;t<=120;t++)for(let o=3;o<=11;o++)o!=7&&core.setBlock(336,t,o);core.drawAnimate("explosion2",119,7),core.removeBlock(105,7),core.drawAnimate("explosion1",105,7)},110,7),e.onHeroLoc("MT14",()=>{core.setBlock(336,95,3),core.setBlock(336,93,6),core.drawAnimate("explosion1",95,3),core.drawAnimate("explosion1",93,6)},97,3),e.onHeroLoc("MT14",()=>{core.setBlock(336,87,4),core.setBlock(336,88,5),core.drawAnimate("explosion1",87,4),core.drawAnimate("explosion1",88,5)},88,6),e.onHeroLoc("MT14",()=>{core.setBlock(336,84,6),core.setBlock(336,85,5),core.setBlock(336,86,8),core.drawAnimate("explosion1",84,6),core.drawAnimate("explosion1",85,5),core.drawAnimate("explosion1",86,8)},86,6),e.onHeroLoc("MT14",()=>{core.setBlock(336,81,8),core.setBlock(336,82,11),core.drawAnimate("explosion1",81,8),core.drawAnimate("explosion1",82,11)},81,9),e.onHeroLoc("MT14",()=>{core.setBlock(336,73,8),core.setBlock(336,72,4),core.drawAnimate("explosion1",73,8),core.drawAnimate("explosion1",72,4)},72,11),e.onHeroLoc("MT14",()=>{for(let t=74;t<86;t++)for(let o=3;o<12;o++)core.setBlock(336,t,o);core.drawAnimate("explosion2",79,7),core.vibrate("vertical",4e3,25,15)},71,7),e.onHeroLoc("MT14",()=>{core.setBlock(336,68,4),core.setBlock(336,67,6),core.drawAnimate("explosion1",68,4),core.drawAnimate("explosion1",67,6)},68,5),e.onHeroLoc("MT14",()=>{for(let t=65;t<=72;t++)for(let o=3;o<=9;o++)core.setBlock(336,t,o);core.setBlock(336,72,10),core.setBlock(336,72,11),core.drawAnimate("explosion3",69,5)},67,10),e.onHeroLoc("MT14",()=>{core.setBlock(336,63,9),core.setBlock(336,60,8),core.setBlock(336,56,11),core.drawAnimate("explosion1",63,9),core.drawAnimate("explosion1",60,8),core.drawAnimate("explosion1",56,11)},64,11),e.onHeroLoc("MT14",()=>{for(let t=58;t<=64;t++)for(let o=3;o<=11;o++)core.setBlock(336,t,o);core.drawAnimate("explosion2",61,7)},57,9);for(let t=21;t<49;t++)e.onHeroLoc("MT14",()=>{for(let o=3;o<=11;o++)core.setBlock(336,t+4,o),core.drawAnimate("explosion1",t+4,o)},t);e.onHeroLoc("MT14",async()=>{flags.finishChase1=!0,core.autoFixRouteBoss(),core.showStatusBar(),ani.time(750).apply("rect",0),e.end(),await S(750),ani.ticker.destroy(),core.deleteCanvas("chaseBack")},21)}function getChaseDataByIndex(e){if(e===1)return init1(),{camera:camera1,fns:[para1,para2,para3,chaseShake,wolfMove,drawBack,judgeFail1],path:path1};throw new ReferenceError("Deliver wrong chase index.")}function init$3(){return{startChase}}function shake2(e,t){let o=0;return s=>(o+=Math.PI/2,Math.sin(o)*e*t(s))}class Chase{constructor(t,o,s,a=!1){z(this,"ani",new R);z(this,"path");z(this,"showPath",!1);this.path=t,flags.__lockViewport__=!0,flags.onChase=!0,flags.chaseTime={[core.status.floorId]:Date.now()},this.ani.absolute().time(0).move(core.bigmap.offsetX/32,core.bigmap.offsetY/32),o.forEach(r=>r(this));const n=[],i=core.createCanvas("chasePath",0,0,0,0,35);for(const[r,d,c,f,p,l,u]of s)n.includes(r)||(this.on(r,0,()=>{flags.__lockViewport__=!1,core.drawHero(),flags.__lockViewport__=!0,this.ani.time(0).move(core.bigmap.offsetX/32,core.bigmap.offsetY/32)},!0),n.push(r)),has(u)?this.on(r,f,()=>{this.ani.time(p).mode(l).moveAs(u)}):this.on(r,f,()=>{this.ani.time(p).mode(l).move(d,c)});if(this.ani.ticker.add(()=>{flags.floorChanging||(core.setViewport(this.ani.x*32,this.ani.y*32),core.relocateCanvas(i,-this.ani.x*32,-this.ani.y*32))}),a)for(const[r,d]of Object.entries(t))this.on(r,0,()=>{const c=core.status.maps[r];core.resizeCanvas(i,c.width*32,c.height*32),i.beginPath(),i.moveTo(d[0][0]*32+16,d[1][1]*32+24),i.lineJoin="round",i.lineWidth=4,i.strokeStyle="cyan",i.globalAlpha=.3,d.forEach((f,p,l)=>{if(p===0)return;const[u,h]=f;i.lineTo(u*32+16,h*32+24)}),i.stroke()})}on(t,o,s,a=!1){const n=()=>{var i,r,d;!((i=flags.chaseTime)!=null&&i[t])||Date.now()-((d=(r=flags.chaseTime)==null?void 0:r[t])!=null?d:0)>=o&&(s(this),this.ani.ticker.remove(n))};this.ani.ticker.add(n,a)}onHeroLoc(t,o,s,a,n=0){if(n===1){typeof s=="number"&&(s=[s]),typeof a=="number"&&(a=[a]),s.forEach(d=>{a.forEach(c=>{this.onHeroLoc(t,o,d,c)})});return}const i=()=>{if(core.status.floorId!==t)return!1;if(has(s)){if(typeof s=="number"){if(core.status.hero.loc.x!==s)return!1}else if(!s.includes(core.status.hero.loc.x))return!1}if(has(a)){if(typeof a=="number"){if(core.status.hero.loc.y!==a)return!1}else if(!a.includes(core.status.hero.loc.y))return!1}return!0},r=()=>{if(i()){o(this);try{this.ani.ticker.remove(r)}catch(d){}}};this.ani.ticker.add(r)}setPathShowStatus(t){this.showPath=t}end(){this.ani.ticker.destroy(),delete flags.onChase,delete flags.chase,delete flags.chaseTime,delete flags.chaseHard,delete flags.chaseIndex,flags.__lockViewport__=!1,core.deleteCanvas("chasePath")}}async function startChase(e){const t=getChaseDataByIndex(e);flags.chaseIndex=e,flags.onChase=!0,await S(20),flags.chase=new Chase(t.path,t.fns,t.camera,flags.chaseHard===0)}function init$2(){return{isWebGLSupported}}const isWebGLSupported=function(){return!!document.createElement("canvas").getContext("webgl")}();class Polygon{constructor(t){z(this,"nodes");z(this,"cache",{});if(t.length<3)throw new Error("Nodes number delivered is less than 3!");this.nodes=t}static from(...t){return t.map(o=>new Polygon(o))}shadowArea(t,o,s){var p,l;const a=`${t},${o}`;if(this.cache[a])return this.cache[a];const n=[],i=(p=core._PX_)!=null?p:core.__PIXELS__,r=(l=core._PY_)!=null?l:core.__PIXELS__,d=(u,h)=>{const m=(h-o)/(u-t);if(m>1||m<-1)if(h<o){const _=t+o/m;return[2*t-_,0]}else return[t+(r-o)/m,r];else if(u<t){const _=o+m*t;return[0,2*o-_]}else{const _=o+m*(i-t);return[i,_]}},c=this.nodes.length;let f=d(...this.nodes[0]);for(let u=0;u<c;u++){const h=(u+1)%c,m=d(...this.nodes[h]),_=[this.nodes[u],f],y=[m,this.nodes[h]];let g;f[0]===0&&m[1]===0||f[1]===0&&m[0]===0?g=[..._,[0,0],...y]:f[0]===0&&m[1]===r||f[1]===r&&m[0]===0?g=[..._,[0,r],...y]:f[0]===i&&m[1]===0||f[1]===0&&m[0]===i?g=[..._,[i,0],...y]:f[0]===i&&m[1]===r||f[1]===r&&m[0]===i?g=[..._,[i,r],...y]:g=[..._,...y],n.push(g),f=m}return this.cache[a]=n,n}}function init$1(){return core.registerAnimationFrame("shadow",!0,()=>{!needRefresh||drawShadow()}),{initShadowCanvas,drawShadow,addLight,removeLight,setLight,setShadowNodes,setBackground,animateLight,transitionLight,moveLightAs,getAllLights}}let canvas,ctx,lights=[],needRefresh=!1,shadowNodes=[],background,blur=3;const temp1=document.createElement("canvas"),temp2=document.createElement("canvas"),temp3=document.createElement("canvas"),ct1=temp1.getContext("2d"),ct2=temp2.getContext("2d"),ct3=temp3.getContext("2d"),animationList={},transitionList={};function initShadowCanvas(){var s,a;const e=(s=core._PX_)!=null?s:core.__PIXELS__,t=(a=core._PY_)!=null?a:core.__PIXELS__;ctx=core.createCanvas("shadow",0,0,e,t,55),canvas=ctx.canvas;const o=core.domStyle.scale*devicePixelRatio;temp1.width=e*o,temp1.height=t*o,temp2.width=e*o,temp2.height=t*o,temp3.width=e*o,temp3.height=t*o,ct1.scale(o,o),ct2.scale(o,o),ct3.scale(o,o),canvas.style.filter=`blur(${blur}px)`}function addLight(e){lights.push(e),needRefresh=!0}function removeLight(e){const t=lights.findIndex(o=>o.id===e);if(t===-1)throw new ReferenceError("You are going to remove nonexistent light!");lights.splice(t,1),needRefresh=!0}function setLight(e,t){has(t.id)&&delete t.id;const o=lights.find(s=>s.id===e);if(!o)throw new ReferenceError("You are going to set nonexistent light!");for(const[s,a]of Object.entries(t))o[s]=a;needRefresh=!0}function setLightList(e){lights=e,needRefresh=!0}function removeAllLights(){lights=[],needRefresh=!0}function getLight(e){return lights.find(t=>t.id===e)}function getAllLights(){return lights}function setBackground(e){background=e,needRefresh=!0}function animateLight(e,t,o,s=1e3,a=j(),n=!1){var f,p;const i=getLight(e);if(!has(i))throw new ReferenceError("You are going to animate nonexistent light");typeof o!="number"&&(i[t]=o);const r=(f=animationList[e])!=null?f:animationList[e]=new R;typeof r.value[t]!="number"?r.register(t,i[t]):r.time(0).mode(j()).absolute().apply(t,i[t]),r.time(s).mode(a)[n?"relative":"absolute"]().apply(t,o);const d=Date.now(),c=()=>{Date.now()-d>s+50&&(r.ticker.remove(c),i._animating[t]=!1),needRefresh=!0,i[t]=r.value[t]};r.ticker.add(c),(p=i._animating)!=null||(i._animating={}),i._animating[t]=!0}function transitionLight(e,t,o=1e3,s=j()){var r,d;const a=lights.findIndex(c=>c.id===e);if(a===-1)throw new ReferenceError("You are going to transite nonexistent light");const n=lights[a];if(typeof n[t]!="number")return;(r=n._transition)!=null||(n._transition={}),n._transition[t]={time:o,mode:s};const i=(d=transitionList[e])!=null?d:transitionList[e]=new Y;if(i.value[t]=n[t],!n._isProxy){const c={set(f,p,l){var _;if(typeof p=="symbol")return!1;const u=Date.now();if(!n._transition[p]||((_=n._animating)==null?void 0:_[t])||typeof l!="number")return f[p]=l,!0;f[p]=n[p];const h=n._transition[p];i.mode(h.mode).time(h.time);const m=()=>{Date.now()-u>h.time+50&&i.ticker.remove(m),needRefresh=!0,f[p]=i.value[t]};return i.ticker.add(m),i.transition(p,l),!0}};lights[a]=new Proxy(n,c)}}function moveLightAs(e,t,o,s=j(),a=!0){var c,f;const n=getLight(e);if(!has(n))throw new ReferenceError("You are going to animate nonexistent light");const i=(c=animationList[e])!=null?c:animationList[e]=new R;i.mode(j()).time(0).move(n.x,n.y),i.time(t).mode(s)[a?"relative":"absolute"]().moveAs(o);const r=Date.now(),d=()=>{Date.now()-r>t+50&&(i.ticker.remove(d),n._animating.x=!1,n._animating.y=!1),needRefresh=!0,n.x=i.x,n.y=i.y};i.ticker.add(d),(f=n._animating)!=null||(n._animating={}),n._animating.x=!0,n._animating.y=!0}function setShadowNodes(e){e.length===0&&(shadowNodes=[],needRefresh=!0),e[0]instanceof Polygon?shadowNodes=e:shadowNodes=Polygon.from(...e),needRefresh=!0}function setBlur(e){blur=e,canvas.style.filter=`blur(${e}px)`}function drawShadow(){var s,a;const e=(s=core._PX_)!=null?s:core.__PIXELS__,t=(a=core._PY_)!=null?a:core.__PIXELS__;needRefresh=!1,ctx.clearRect(0,0,e,t),ct1.clearRect(0,0,e,t),ct2.clearRect(0,0,e,t),ct3.clearRect(0,0,e,t);const o=core.arrayToRGBA(background);ctx.globalCompositeOperation="source-over",ct3.globalCompositeOperation="source-over";for(let n=0;n<lights.length;n++){const{x:i,y:r,r:d,decay:c,color:f,noShelter:p}=lights[n];if(ct1.clearRect(0,0,e,t),ct2.clearRect(0,0,e,t),!p)for(const h of shadowNodes)h.shadowArea(i,r,d).forEach(_=>{ct1.beginPath(),ct1.moveTo(_[0][0],_[0][1]);for(let y=1;y<_.length;y++)ct1.lineTo(_[y][0],_[y][1]);ct1.closePath(),ct1.fillStyle="#000",ct1.globalCompositeOperation="source-over",ct1.fill()});ct2.globalCompositeOperation="source-over",ct2.drawImage(temp1,0,0,e,t),ct2.globalCompositeOperation="source-out";const l=ct2.createRadialGradient(i,r,c,i,r,d);l.addColorStop(0,core.arrayToRGBA(f)),l.addColorStop(1,"transparent"),ct2.fillStyle=l,ct2.beginPath(),ct2.arc(i,r,d,0,Math.PI*2),ct2.fill(),ctx.drawImage(temp2,0,0,e,t),ct1.globalCompositeOperation="source-out";const u=ct1.createRadialGradient(i,r,c,i,r,d);u.addColorStop(0,"#fff"),u.addColorStop(1,"#fff0"),ct1.beginPath(),ct1.arc(i,r,d,0,Math.PI*2),ct1.fillStyle=u,ct1.fill(),ct3.drawImage(temp1,0,0,e,t)}ct3.globalCompositeOperation="source-out",ct3.fillStyle=o,ct3.fillRect(0,0,e,t),ctx.globalCompositeOperation="destination-over",ctx.drawImage(temp3,0,0,e,t)}function init(){return{updateShadow,clearShadowCache,setCalShadow}}const shadowInfo={MT46:[{id:"mt42_1",x:85,y:85,decay:100,r:300,color:"#0000"}]},backgroundInfo={MT46:"#0008"},blurInfo={MT46:4},immersionInfo={MT46:8},shadowCache={};let calMapShadow=!0;function updateShadow(e=!1){var i;const t=core.status.floorId;if(!shadowInfo[t]||!backgroundInfo[t]){removeAllLights(),setShadowNodes([]),setBackground("#0000");return}const o=core.status.thisMap,s=o.width,a=o.height,n=[];if(calMapShadow)if(shadowCache[t]&&!e)setShadowNodes(shadowCache[t]);else{core.extractBlocks();const r=core.getMapBlocksObj();core.status.maps[t].blocks.forEach(d=>{var c;if(!!["terrains","autotile","tileset","animates"].includes(d.event.cls)&&d.event.noPass){const f=(c=immersionInfo[t])!=null?c:4,p=d.x,l=d.y;let u=p*32+f,h=l*32+f,m=u+32-f*2,_=h+32-f*2;const y=`${p-1},${l}`,g=`${p+1},${l}`,$=`${p},${l-1}`,F=`${p},${l+1}`;(p===0||r[y]&&r[y].event.noPass)&&(u-=f),(p+1===s||r[g]&&r[g].event.noPass)&&(m+=f),(l===0||r[$]&&r[$].event.noPass)&&(h-=f),(l+1===a||r[F]&&r[F].event.noPass)&&(_+=f),n.push(new Polygon([[u,h],[m,h],[m,_],[u,_]]));return}}),shadowCache[t]=n,setShadowNodes(n)}else setShadowNodes([]),setBlur(0);setLightList(shadowInfo[t]),setBackground(backgroundInfo[t]),setBlur((i=blurInfo[t])!=null?i:3)}function clearShadowCache(e){delete shadowCache[e]}function setCalShadow(e){calMapShadow=e,updateShadow()}function forward(){const e=[init$e(),init$6(),init$b(),init$c(),init$d(),init$5(),init$a(),init$9(),init$4(),init$8(),init$3(),init$7(),init$2(),init$1(),init()];(async function(){for(const t of e)for(const o in t){const s=t[o];o in core.plugin||(core.plugin[o]=s),s instanceof Function&&(o in core||o.startsWith("_")||(core[o]=s))}console.log("\u63D2\u4EF6\u8F6C\u53D1\u5B8C\u6210\uFF01")})()}main.forward=forward;const _hoisted_1$7={id:"ui"},_sfc_main$7=defineComponent({__name:"App",setup(e){return(t,o)=>(openBlock(),createElementBlock("div",_hoisted_1$7,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(uiStack),s=>(openBlock(),createBlock(resolveDynamicComponent(s)))),256))]))}}),App_vue_vue_type_style_index_0_scoped_9668aeb3_lang="",App=_export_sfc(_sfc_main$7,[["__scopeId","data-v-9668aeb3"]]),_imports_0="/HumanBreak/project/images/skill.png",_imports_1="/HumanBreak/project/images/hp.png",_imports_2="/HumanBreak/project/images/atk.png",_imports_3="/HumanBreak/project/images/def.png",_imports_4="/HumanBreak/project/images/IQ.png",_imports_5="/HumanBreak/project/images/money.png",_imports_6="/HumanBreak/project/images/exp.png",_hoisted_1$6=["id"],_hoisted_2$5=["id"],_hoisted_3$5=["id","selected"],_hoisted_4$4=["id","selected","selectable"],_hoisted_5$3=["id","selected","selectable"],_hoisted_6$2=["id","selected","selectable"],_hoisted_7$2=["id","selected","selectable"],_sfc_main$6=defineComponent({__name:"box",props:{dragable:{type:Boolean},resizable:{type:Boolean},left:null,top:null,width:null,height:null},emits:["update:left","update:top","update:width","update:height"],setup(e,{emit:t}){const o=e,s=(1e8*Math.random()).toFixed(0),a=ref(!1);let n=0,i,r,d,c,f,p;const l=ref(isMobile?window.innerWidth-100:window.innerWidth*.175),u=ref(isMobile?250:window.innerHeight-100),h=ref(50),m=ref(50);watch(h,M=>t("update:left",M)),watch(m,M=>t("update:top",M)),watch(l,M=>t("update:width",M)),watch(u,M=>t("update:height",M));async function _(){a.value=!0,n=window.setTimeout(()=>{a.value=!1},4e3)}let y=0,g=0;function $(M,H){const W=getComputedStyle(i),Q=parseFloat(W.left),ee=parseFloat(W.top);h.value=Q+M-y,m.value=ee+H-g,i.style.left=`${h.value}px`,i.style.top=`${m.value}px`,a.value=!0,clearTimeout(n),y=M,g=H}let F=h.value+l.value;function N(M,H){i.style.left=`${M}px`,l.value=F-M,h.value=M,i.style.width=`${l.value}px`}let E=m.value+u.value;function b(M,H){i.style.top=`${H}px`,u.value=E-H,m.value=H,i.style.height=`${u.value}px`}function x(M,H){const W=getComputedStyle(i);l.value=M-parseFloat(W.left),i.style.width=`${l.value}px`}function T(M,H){const W=getComputedStyle(i);u.value=H-parseFloat(W.top),i.style.height=`${u.value}px`}function L(){i=document.getElementById(`box-${s}`),document.getElementById(`box-move-${s}`),r=document.getElementById(`border-left-${s}`),c=document.getElementById(`border-top-${s}`),d=document.getElementById(`border-right-${s}`),f=document.getElementById(`border-bottom-${s}`),p=document.getElementById(`box-drag-${s}`),i&&(has(o.left)&&(h.value=o.left),has(o.top)&&(m.value=o.top),has(o.width)&&(l.value=o.width),has(o.height)&&(u.value=o.height),i.style.left=`${h.value}px`,i.style.top=`${m.value}px`,i.style.width=`${l.value}px`,i.style.height=`${u.value}px`)}return onUpdated(L),onMounted(async()=>{await S(50),L(),i&&(o.dragable&&useDrag(p,$,(M,H)=>{y=M,g=H},()=>{a.value=!1},!0),o.resizable&&(useDrag(r,N,(M,H)=>{F=h.value+l.value},void 0,!0),useDrag(c,b,(M,H)=>{E=m.value+u.value},void 0,!0),useDrag(d,x,void 0,void 0,!0),useDrag(f,T,void 0,void 0,!0)))}),onUnmounted(()=>{o.dragable&&cancelGlobalDrag($),o.resizable&&(cancelGlobalDrag(N),cancelGlobalDrag(b),cancelGlobalDrag(x),cancelGlobalDrag(T))}),(M,H)=>(openBlock(),createElementBlock("div",{id:`box-${unref(s)}`,class:"box"},[createBaseVNode("div",{id:`box-main-${unref(s)}`,class:"box-main",onClick:_},[renderSlot(M.$slots,"default",{},void 0,!0)],8,_hoisted_2$5),e.dragable?(openBlock(),createElementBlock("div",{key:0,id:`box-move-${unref(s)}`,class:"box-move",selected:a.value},[createVNode(unref(DragOutlined),{id:`box-drag-${unref(s)}`,class:"box-drag",style:{right:"0",bottom:"0",position:"absolute"}},null,8,["id"])],8,_hoisted_3$5)):createCommentVNode("",!0),createBaseVNode("div",{class:"border border-vertical border-left",id:`border-left-${unref(s)}`,selected:a.value&&e.resizable,selectable:e.resizable},null,8,_hoisted_4$4),createBaseVNode("div",{class:"border border-horizontal border-top",id:`border-top-${unref(s)}`,selected:a.value&&e.resizable,selectable:e.resizable},null,8,_hoisted_5$3),createBaseVNode("div",{class:"border border-vertical border-right",id:`border-right-${unref(s)}`,selected:a.value&&e.resizable,selectable:e.resizable},null,8,_hoisted_6$2),createBaseVNode("div",{class:"border border-horizontal border-bottom",id:`border-bottom-${unref(s)}`,selected:a.value&&e.resizable,selectable:e.resizable},null,8,_hoisted_7$2)],8,_hoisted_1$6))}}),box_vue_vue_type_style_index_0_scoped_fc84168a_lang="",Box=_export_sfc(_sfc_main$6,[["__scopeId","data-v-fc84168a"]]),_withScopeId$1=e=>(pushScopeId("data-v-f0e92f32"),e=e(),popScopeId(),e),_hoisted_1$5={id:"status-bar"},_hoisted_2$4={id:"status-div"},_hoisted_3$4=["onClick"],_hoisted_4$3={id:"status-lv"},_hoisted_5$2={id:"status-skill",class:"status-item"},_hoisted_6$1=_withScopeId$1(()=>createBaseVNode("img",{src:_imports_0,class:"status-icon"},null,-1)),_hoisted_7$1={id:"status-hp",class:"status-item"},_hoisted_8$1=_withScopeId$1(()=>createBaseVNode("img",{src:_imports_1,class:"status-icon"},null,-1)),_hoisted_9$1={class:"status-item-bold"},_hoisted_10$1={id:"status-hpmax",class:"status-extra status-item-bold"},_hoisted_11$1={key:0,id:"status-spring",class:"status-extra"},_hoisted_12={id:"status-atk",class:"status-item"},_hoisted_13=_withScopeId$1(()=>createBaseVNode("img",{src:_imports_2,class:"status-icon"},null,-1)),_hoisted_14={class:"status-item-bold"},_hoisted_15={id:"status-mana",class:"status-extra status-item-bold"},_hoisted_16={id:"status-def",class:"status-item status-item-bold"},_hoisted_17=_withScopeId$1(()=>createBaseVNode("img",{src:_imports_3,class:"status-icon"},null,-1)),_hoisted_18={id:"status-mdef",class:"status-item status-item-bold"},_hoisted_19=_withScopeId$1(()=>createBaseVNode("img",{src:_imports_4,class:"status-icon"},null,-1)),_hoisted_20={id:"status-money",class:"status-item status-item-bold"},_hoisted_21=_withScopeId$1(()=>createBaseVNode("img",{src:_imports_5,class:"status-icon"},null,-1)),_hoisted_22={id:"status-exp",class:"status-item status-item-bold"},_hoisted_23=_withScopeId$1(()=>createBaseVNode("img",{src:_imports_6,class:"status-icon"},null,-1)),_hoisted_24={id:"status-key",class:"status-item status-item-bold"},_hoisted_25={style:{color:"#fca","padding-left":"10%"}},_hoisted_26={style:{color:"#aad"}},_hoisted_27={style:{color:"#f88","padding-right":"10%"}},_hoisted_28={key:0,class:"status-item"},_hoisted_29=["onClick"],_hoisted_30={key:1,class:"status-item"},_hoisted_31=["onClick"],_hoisted_32={key:2,class:"status-item"},_hoisted_33=["onClick"],_sfc_main$5=defineComponent({__name:"statusBar",setup(e){const t=ref(isMobile?window.innerWidth-100:window.innerWidth*.175),o=ref(isMobile?250:window.innerHeight-100),s=ref(!1),a=core.formatBigNumber;watch(t,F=>s.value=!s.value),watch(o,F=>s.value=!s.value);const n=shallowReactive({}),i=shallowReactive([]),r=ref(),d=ref(),c=ref("\u65E0"),f=ref(0),p=ref(),l=ref(core.getFlag("chapter",0)>0),u=ref(core.getSkillLevel(11)>0),h=["hp","atk","def","mdef","hpmax","mana","money","exp","lv"];watch(status,m);function m(){var F,N;h.forEach(E=>{n[E]=core.getRealStatus(E)}),i[0]=core.itemCount("yellowKey"),i[1]=core.itemCount("blueKey"),i[2]=core.itemCount("redKey"),r.value=(F=core.status.thisMap)==null?void 0:F.title,d.value=core.getLvName(n.lv),flags.blade&&flags.bladeOn?c.value="\u65AD\u706D\u4E4B\u5203":flags.shield&&flags.shieldOn?c.value="\u94F8\u5251\u4E3A\u76FE":c.value="\u65E0",f.value=(N=core.getNextLvUpNeed())!=null?N:0,core.hasFlag("spring")&&(p.value=50-flags.springCount),l.value=core.getFlag("chapter",0)>0,u.value=core.getSkillLevel(11)>0}function _(){core.useItem("skill1")}function y(){core.useItem("cross")}function g(){core.ui._drawViewMaps()}function $(){}return(F,N)=>(openBlock(),createElementBlock("div",_hoisted_1$5,[createVNode(Box,{resizable:!0,dragable:!0,width:t.value,"onUpdate:width":N[1]||(N[1]=E=>t.value=E),height:o.value,"onUpdate:height":N[2]||(N[2]=E=>o.value=E)},{default:withCtx(()=>[createVNode(Scroll,{id:"status-main",update:s.value,"onUpdate:update":N[0]||(N[0]=E=>s.value=E),"no-scroll":!0},{default:withCtx(()=>{var E,b,x;return[createBaseVNode("div",_hoisted_2$4,[createBaseVNode("span",{id:"status-floor",onClick:withModifiers(g,["stop"]),class:"button-text"},toDisplayString(r.value),9,_hoisted_3$4),createBaseVNode("span",_hoisted_4$3,toDisplayString(d.value),1),createBaseVNode("div",_hoisted_5$2,[_hoisted_6$1,createBaseVNode("span",null,toDisplayString(c.value),1)]),createBaseVNode("div",_hoisted_7$1,[_hoisted_8$1,createBaseVNode("span",_hoisted_9$1,toDisplayString(unref(a)(unref(n).hp)),1),createBaseVNode("span",_hoisted_10$1,"+"+toDisplayString(unref(a)(unref(n).hpmax))+"/t",1),unref(has)(p.value)?(openBlock(),createElementBlock("span",_hoisted_11$1,"\u5269\u4F59"+toDisplayString(p.value),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_12,[_hoisted_13,createBaseVNode("span",_hoisted_14,toDisplayString(unref(a)(unref(n).atk)),1),createBaseVNode("span",_hoisted_15,"+"+toDisplayString(unref(a)(unref(n).mana)),1)]),createBaseVNode("div",_hoisted_16,[_hoisted_17,createBaseVNode("span",null,toDisplayString(unref(a)(unref(n).def)),1)]),createBaseVNode("div",_hoisted_18,[_hoisted_19,createBaseVNode("span",null,toDisplayString(unref(a)(unref(n).mdef)),1)]),createBaseVNode("div",_hoisted_20,[_hoisted_21,createBaseVNode("span",null,toDisplayString(unref(a)(unref(n).money)),1)]),createBaseVNode("div",_hoisted_22,[_hoisted_23,createBaseVNode("span",null,toDisplayString(unref(a)(f.value)),1)]),createBaseVNode("div",_hoisted_24,[createBaseVNode("span",_hoisted_25,toDisplayString((E=unref(i)[0])==null?void 0:E.toString().padStart(2,"0")),1),createBaseVNode("span",_hoisted_26,toDisplayString((b=unref(i)[1])==null?void 0:b.toString().padStart(2,"0")),1),createBaseVNode("span",_hoisted_27,toDisplayString((x=unref(i)[2])==null?void 0:x.toString().padStart(2,"0")),1)]),l.value?(openBlock(),createElementBlock("div",_hoisted_28,[createBaseVNode("span",{id:"skill-tree",class:"button-text",onClick:withModifiers(_,["stop"])},"\u6280\u80FD\u6811",8,_hoisted_29)])):createCommentVNode("",!0),l.value?(openBlock(),createElementBlock("div",_hoisted_30,[createBaseVNode("span",{id:"status-skill",class:"button-text",onClick:withModifiers(y,["stop"])},"\u67E5\u770B\u6280\u80FD",8,_hoisted_31)])):createCommentVNode("",!0),u.value?(openBlock(),createElementBlock("div",_hoisted_32,[createBaseVNode("span",{id:"status-study",class:"button-text",onClick:withModifiers($,["stop"])},"\u5B66\u4E60",8,_hoisted_33)])):createCommentVNode("",!0)])]}),_:1},8,["update"])]),_:1},8,["width","height"])]))}}),statusBar_vue_vue_type_style_index_0_scoped_f0e92f32_lang="",StatusBar=_export_sfc(_sfc_main$5,[["__scopeId","data-v-f0e92f32"]]),_hoisted_1$4={id:"marked-enemy"},_hoisted_2$3={class:"marked-main"},_hoisted_3$3={class:"marked-info"},_hoisted_4$2={class:"marked-name marked-item"},_hoisted_5$1={class:"marked-damage marked-item"},_hoisted_6={class:"marked-critical marked-item"},_hoisted_7={class:"marked-critical-damage marked-item"},_hoisted_8={class:"marked-def marked-item"},_hoisted_9={class:"marked-button"},_hoisted_10=["onClick"],_hoisted_11=["onClick"],_sfc_main$4=defineComponent({__name:"markedEnemy",setup(e){var f,p;const t=(p=(f=core.status.thisMap)==null?void 0:f.ratio)!=null?p:1;let o=getMarkedEnemy();watch(checkMarkedStatus,a);const s=reactive({});function a(){o.push(...o.splice(0,o.length));for(const l in s)o.includes(l)||delete s[l]}function n(l){return has(s[l])||(s[l]={left:window.innerWidth-300,top:100,width:200,height:150,hidden:!1}),s[l]}function i(l){return core.material.enemys[l].name}function r(l){var u,h;return(h=core.formatBigNumber((u=core.getDamageInfo(l,void 0,void 0,void 0,"empty"))==null?void 0:u.damage))!=null?h:"???"}function d(l){var u,h;return(h=(u=core.nextCriticals(l,1,void 0,void 0,"empty")[0])==null?void 0:u.map(m=>core.formatBigNumber(m)))!=null?h:[0,0]}function c(l){return core.formatBigNumber(core.getDefDamage(l,t,void 0,void 0,"empty"))}return(l,u)=>(openBlock(),createElementBlock("div",_hoisted_1$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(o),h=>(openBlock(),createElementBlock("div",null,[n(h).hidden?createCommentVNode("",!0):(openBlock(),createBlock(Box,{key:h,left:n(h).left,"onUpdate:left":m=>n(h).left=m,top:n(h).top,"onUpdate:top":m=>n(h).top=m,width:n(h).width,"onUpdate:width":m=>n(h).width=m,height:n(h).height,"onUpdate:height":m=>n(h).height=m,resizable:!0,dragable:!0},{default:withCtx(()=>[createVNode(Scroll,{class:"box-scroll","no-scroll":!0},{default:withCtx(()=>[createBaseVNode("div",_hoisted_2$3,[createBaseVNode("div",_hoisted_3$3,[createVNode(_sfc_main$p,{id:h,width:24,height:24},null,8,["id"]),createBaseVNode("span",_hoisted_4$2,toDisplayString(i(h)),1)]),createBaseVNode("span",_hoisted_5$1,"\u4F24\u5BB3\uFF1A"+toDisplayString(r(h)),1),createBaseVNode("span",_hoisted_6,"\u4E34\u754C\uFF1A"+toDisplayString(d(h)[0]),1),createBaseVNode("span",_hoisted_7,"\u51CF\u4F24\uFF1A"+toDisplayString(d(h)[1]),1),createBaseVNode("span",_hoisted_8,toDisplayString(unref(t))+"\u9632\uFF1A"+toDisplayString(c(h)),1),createBaseVNode("div",_hoisted_9,[createBaseVNode("span",{class:"marked-hide button-text",onClick:withModifiers(m=>n(h).hidden=!0,["stop"])},"\u9690\u85CF\u76D2\u5B50",8,_hoisted_10),createBaseVNode("span",{class:"marked-cancel button-text",onClick:withModifiers(m=>unref(unmarkEnemy)(h),["stop"])},"\u53D6\u6D88\u6807\u8BB0",8,_hoisted_11)])])]),_:2},1024)]),_:2},1032,["left","onUpdate:left","top","onUpdate:top","width","onUpdate:width","height","onUpdate:height"]))]))),256))]))}}),markedEnemy_vue_vue_type_style_index_0_scoped_b674387d_lang="",MarkedEnemy=_export_sfc(_sfc_main$4,[["__scopeId","data-v-b674387d"]]),_withScopeId=e=>(pushScopeId("data-v-feaaf373"),e=e(),popScopeId(),e),_hoisted_1$3={id:"chapter"},_hoisted_2$2=_withScopeId(()=>createBaseVNode("canvas",{id:"chapter-back"},null,-1)),_hoisted_3$2={id:"chapter-text"},_sfc_main$3=defineComponent({__name:"chapter",props:{chapter:null},setup(e){const t=e;let o,s,a;return onMounted(async()=>{o=document.getElementById("chapter-back"),s=o.getContext("2d"),a=document.getElementById("chapter-text");const n=new R,i=window.innerWidth*devicePixelRatio,r=window.innerHeight*devicePixelRatio;s.font="5vh scroll";const d=s.measureText(t.chapter).width,c=r*.05;n.register("rect",0),n.register("line",-10),n.register("lineOpacity",1),n.register("rect2",r/2),n.register("text",window.innerWidth+10+d),o.width=i,o.height=r,o.style.width=`${window.innerWidth}px`,o.style.height=`${window.innerHeight}px`,a.style.left=`${i+10}px`,a.style.top=`${window.innerHeight/2-r*.025}px`,a.style.height=`${r*.05}px`,a.style.width=`${d}px`;let f=!1,p=!1;n.ticker.add(l=>{if(!(!has(l)||isNaN(l))){if(!p){p=!0;return}l>=4050&&(chapterShowed.value=!1,n.ticker.destroy()),!f&&l>=1500&&(f=!0,core.playSound("chapter.mp3")),s.restore(),s.save(),a.style.left=`${n.value.text}px`,s.fillStyle="#000",s.clearRect(0,0,i,r),l<=2e3?(s.fillRect(0,r/2,i,-n.value.rect),s.fillRect(0,r/2,i,n.value.rect)):l>=2e3&&l<=3050&&(s.fillRect(0,0,i,n.value.rect2),s.fillRect(0,r,i,-n.value.rect2)),s.shadowColor="#fff",s.shadowBlur=3,s.shadowOffsetX=0,s.shadowOffsetY=0,s.lineWidth=3,s.strokeStyle="#fff",s.fillStyle="#fff",s.globalAlpha=n.value.lineOpacity,s.beginPath(),s.moveTo(0,r/2-c),s.lineTo(n.value.line,r/2-c),s.stroke(),s.beginPath(),s.moveTo(i,r/2+c),s.lineTo(i-n.value.line,r/2+c),s.stroke(),s.shadowBlur=0,s.filter="blur(5px)",s.beginPath(),s.arc(n.value.line,r/2-c,10,0,Math.PI*2),s.fill(),s.beginPath(),s.arc(i-n.value.line,r/2+c,10,0,Math.PI*2),s.fill()}}),n.mode(C("tan","center")).time(3e3).absolute().apply("line",i+10).mode(C("sin","out")).time(1e3).apply("rect",r/2).mode(C("tan","center")).time(3e3).apply("text",-d*2-10),await S(2e3),n.mode(C("sin","in")).time(1e3).apply("rect2",0),await S(1e3),n.mode(C("sin","out")).time(1e3).apply("lineOpacity",0)}),(n,i)=>(openBlock(),createElementBlock("div",_hoisted_1$3,[_hoisted_2$2,createBaseVNode("span",_hoisted_3$2,toDisplayString(e.chapter),1)]))}}),chapter_vue_vue_type_style_index_0_scoped_feaaf373_lang="",Chapter=_export_sfc(_sfc_main$3,[["__scopeId","data-v-feaaf373"]]),_hoisted_1$2={id:"studied"},_hoisted_2$1={id:"studied-main"},_hoisted_3$1={id:"studied-rough"},_hoisted_4$1={key:0,id:"studied-detail"},_sfc_main$2=defineComponent({__name:"studied",setup(e){watch(status,l=>{});let t;const o=ref(200),s=ref(0),a=ref(window.innerWidth-300),n=ref(window.innerHeight-300),i=reactive([]),r=computed(()=>{var l,u;return status.value,(u=(l=core.status.hero.special)==null?void 0:l.num)!=null?u:[]}),d=computed(()=>{var l,u;return status.value,(u=(l=core.status.hero.special)==null?void 0:l.last)!=null?u:[]}),c=computed(()=>{const l=core.getSpecials();return r.value.map(u=>{const h=l[u-1][1];return h instanceof Function?h(core.status.hero.special):h})});function f(l){const h=core.getSpecials()[l-1][2];return h instanceof Function?h(core.status.hero.special):h}async function p(){await new Promise(l=>{requestAnimationFrame(()=>{const u=getComputedStyle(t);s.value=parseFloat(u.height),l()})})}return onUpdated(()=>{p()}),onMounted(()=>{t=document.getElementById("studied-main"),p()}),(l,u)=>(openBlock(),createElementBlock("div",_hoisted_1$2,[createVNode(Box,{resizable:!0,dragable:!0,width:o.value,"onUpdate:width":u[0]||(u[0]=h=>o.value=h),height:s.value,"onUpdate:height":u[1]||(u[1]=h=>s.value=h),left:a.value,"onUpdate:left":u[2]||(u[2]=h=>a.value=h),top:n.value,"onUpdate:top":u[3]||(u[3]=h=>n.value=h)},{default:withCtx(()=>[createVNode(Scroll,{"no-scroll":!0,style:{height:"100%"}},{default:withCtx(()=>[createBaseVNode("div",_hoisted_2$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(r),(h,m)=>(openBlock(),createElementBlock("div",{key:m},[createBaseVNode("div",_hoisted_3$1,[createVNode(unref(RightOutlined),{folded:!!i[m],onClick:_=>i[m]=!i[m],id:"studied-fold"},null,8,["folded","onClick"]),createBaseVNode("span",null,toDisplayString(m)+". "+toDisplayString(unref(c)[m])+"\uFF0C\u5269\u4F59"+toDisplayString(unref(d)[m])+"\u573A\u6218\u6597",1)]),i[m]?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_4$1,toDisplayString(f(h)),1))]))),128))])]),_:1})]),_:1},8,["width","height","left","top"])]))}}),studied_vue_vue_type_style_index_0_scoped_bd83c8c3_lang="",Studied=_export_sfc(_sfc_main$2,[["__scopeId","data-v-bd83c8c3"]]),_hoisted_1$1={id:"fixed"},_hoisted_2={id:"enemy-fixed"},_hoisted_3={id:"enemy-name"},_hoisted_4={id:"enemy-special"},_hoisted_5={class:"enemy-attr"},_sfc_main$1=defineComponent({__name:"fixed",setup(e){watch(showFixed,h=>{h&&l()});let t;const o=core.formatBigNumber,s=["hp","atk","def","money","exp","critical","criticalDamage","defDamage"],a=["lightgreen","lightcoral","lightblue","lightyellow","lawngreen","lightsalmon","lightpink","cyan"],n=ref(core.plugin.bookDetailEnemy),i=ref(0),r=ref(0),d=ref(300),c=ref(400);let f=window.innerHeight,p=window.innerWidth;async function l(){if(n.value=core.plugin.bookDetailEnemy,f=window.innerHeight,p=window.innerWidth,d.value=f*.28,await new Promise(g=>requestAnimationFrame(g)),core.plugin.fixedDetailOpened.value&&(showFixed.value=!1),t=document.getElementById("enemy-fixed"),!t)return;const h=getComputedStyle(t),m=parseFloat(h.height),[_,y]=flags.clientLoc;y+m+10>f-10?r.value=f-m-10:r.value=y+10,_+d.value+10>p-10?i.value=p-d.value-10:i.value=_+10,c.value=m}function u(h){var m,_,y;return h==="critical"?"\u4E34\u754C":h==="criticalDamage"?"\u4E34\u754C\u51CF\u4F24":h==="defDamage"?`${(y=(_=(m=core.status)==null?void 0:m.thisMap)==null?void 0:_.ratio)!=null?y:1}\u9632`:core.getStatusLabel(h)}return onUpdated(l),onMounted(()=>{t=document.getElementById("enemy-fixed"),l()}),(h,m)=>(openBlock(),createElementBlock("div",_hoisted_1$1,[createVNode(Transition,null,{default:withCtx(()=>[unref(showFixed)?(openBlock(),createBlock(Box,{key:0,height:c.value,"onUpdate:height":m[0]||(m[0]=_=>c.value=_),left:i.value,"onUpdate:left":m[1]||(m[1]=_=>i.value=_),top:r.value,"onUpdate:top":m[2]||(m[2]=_=>r.value=_),width:d.value,"onUpdate:width":m[3]||(m[3]=_=>d.value=_)},{default:withCtx(()=>[createBaseVNode("div",_hoisted_2,[createBaseVNode("span",_hoisted_3,toDisplayString(n.value.name),1),createBaseVNode("div",_hoisted_4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value.toShowSpecial,(_,y)=>(openBlock(),createElementBlock("span",{style:normalizeStyle({color:n.value.toShowColor[y]})},toDisplayString(_),5))),256))]),(openBlock(),createElementBlock(Fragment,null,renderList(s,(_,y)=>createBaseVNode("div",_hoisted_5,[createBaseVNode("span",{class:"attr-name",style:normalizeStyle({color:a[y]})},toDisplayString(u(_)),5),createBaseVNode("span",{class:"attr-value",style:normalizeStyle({color:a[y]})},toDisplayString(unref(o)(n.value[_])),5)])),64))])]),_:1},8,["height","left","top","width"])):createCommentVNode("",!0)]),_:1})]))}}),fixed_vue_vue_type_style_index_0_scoped_d7e97953_lang="",Fixed=_export_sfc(_sfc_main$1,[["__scopeId","data-v-d7e97953"]]),_hoisted_1={id:"non-ui"},_sfc_main=defineComponent({__name:"App2",setup(e){return(t,o)=>(openBlock(),createElementBlock("div",_hoisted_1,[unref(showStatusBar)?(openBlock(),createBlock(StatusBar,{key:0})):createCommentVNode("",!0),unref(showMarkedEnemy)&&unref(showStatusBar)?(openBlock(),createBlock(MarkedEnemy,{key:1})):createCommentVNode("",!0),unref(showStudiedSkill)&&unref(showStatusBar)&&unref(showStudied$1)?(openBlock(),createBlock(Studied,{key:2})):createCommentVNode("",!0),unref(showStatusBar)&&unref(useFixed$1)?(openBlock(),createBlock(Fixed,{key:3})):createCommentVNode("",!0),unref(chapterShowed)?(openBlock(),createBlock(Chapter,{key:4,chapter:unref(chapterContent)},null,8,["chapter"])):createCommentVNode("",!0)]))}}),App2_vue_vue_type_style_index_0_scoped_02d8acd2_lang="",App2=_export_sfc(_sfc_main,[["__scopeId","data-v-02d8acd2"]]),styles="",antd_dark="";function createProgram(e,t,o){const s=loadShader(e,e.VERTEX_SHADER,t),a=loadShader(e,e.FRAGMENT_SHADER,o),n=e.createProgram();if(!n)throw new Error("Create webgl program fail!");if(e.attachShader(n,s),e.attachShader(n,a),e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS)){const r=e.getProgramInfoLog(n);throw new Error(`Program link fail: ${r}`)}return e.useProgram(n),n}function loadShader(e,t,o){const s=e.createShader(t);if(!s)throw new ReferenceError("Your device or browser does not support webgl!");if(e.shaderSource(s,o),e.compileShader(s),!e.getShaderParameter(s,e.COMPILE_STATUS)){const n=e.getShaderInfoLog(s);throw new Error(`Shader compile fail: ${n}`)}return s}class Matrix extends Array{constructor(...t){var o;if(t.length!==((o=t[0])==null?void 0:o.length))throw new TypeError("The array delivered to Matrix must has the same length of its item and itself.");super(...t)}add(t){if(t.length!==this.length)throw new TypeError("To add a martrix, the be-added-matrix's size must equal to the to-add-matrix's.");const o=t.length;for(let s=0;s<o;s++)for(let a=0;a<o;a++)this[s][a]+=t[s][a];return this}multipy(t){if(t.length!==this.length)throw new TypeError("To multipy a martrix, the be-multipied-matrix's size must equal to the to-multipy-matrix's.");const o=this.length,s=Array.from(this).map(a=>a.slice());for(let a=0;a<o;a++)for(let n=0;n<o;n++){this[a][n]=0;for(let i=0;i<o;i++)this[a][n]+=s[a][i]*t[i][n]}return this}}class Matrix4 extends Matrix{constructor(...t){if(t.length===0&&(t=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]),t.length!==4)throw new TypeError("The length of delivered array must be 4.");super(...t)}translate(t,o,s){this.multipy([[1,0,0,t],[0,1,0,o],[0,0,1,s],[0,0,0,1]])}scale(t,o,s){this.multipy([[t,0,0,0],[0,o,0,0],[0,0,s,0],[0,0,0,1]])}rotate(t,o,s){if(has(t)&&t!==0){const a=Math.sin(t),n=Math.cos(t);this.multipy([[1,0,0,0],[0,n,a,0],[0,-a,n,0],[0,0,0,1]])}if(has(o)&&o!==0){const a=Math.sin(o),n=Math.cos(o);this.multipy([[n,0,-a,0],[0,1,0,0],[a,0,n,0],[0,0,0,1]])}if(has(s)&&s!==0){const a=Math.sin(s),n=Math.cos(s);this.multipy([[n,a,0,0],[-a,n,0,0],[0,0,1,0],[0,0,0,1]])}return this}transpose(t="new"){const o=t==="this"?this:new Matrix4,s=Array.from(this).map(a=>a.slice());for(let a=0;a<4;a++)for(let n=0;n<4;n++)o[a][n]=s[n][a];return o}toWebGLFloat32Array(){return new Float32Array(Array.from(this.transpose()).flat())}}class Camera{constructor(){z(this,"view");z(this,"projection");z(this,"renderer");this.reset()}reset(){this.view=new Matrix4,this.projection=new Matrix4}bind(t){this.renderer=t}unbind(){this.renderer=void 0}lookAt(t,o,s){this.view=this.calLookAt(t,o,s)}transform(t,o,s){this.view.multipy(this.calLookAt(t,o,s))}setPerspective(t,o,s,a){this.projection=this.calPerspective(t,o,s,a)}setOrthogonal(t,o,s,a,n,i){this.projection=this.calOrthogonal(t,o,s,a,n,i)}update(){var t;(t=this.renderer)==null||t.render()}applyAnimate(t,o,s=1e3,a,n=!1){}calLookAt(t,o,s){const[a,n,i]=t,[r,d,c]=o,[f,p,l]=s;let u=r-a,h=d-n,m=c-i;const _=1/Math.sqrt(u*u+h*h+m*m);u*=_,h*=_,m*=_;let y=h*l-m*p,g=m*f-u*l,$=u*p-h*f;const F=1/Math.sqrt(y*y+g*g+$*$);y*=F,g*=F,$*=F;const N=g*m-$*h,E=$*u-y*m,b=y*h-g*u,x=new Matrix4;return x[0]=[y,g,$,0],x[1]=[N,E,b,0],x[2]=[-u,-h,-m,0],x[3]=[0,0,0,1],x.translate(-a,-n,-i),x}calPerspective(t,o,s,a){if(s===a||o===0)throw new Error("No sence can be set, because near === far or aspect === 0.");if(s<=0||a<=0)throw new Error("near and far must be positive.");t=Math.PI*t/180/2;const n=Math.sin(t);if(n===0)throw new Error("Cannot set perspectivity, because sin(fov) === 0.");const i=1/(a-s),r=Math.cos(t)/n,d=new Matrix4;return d[0]=[r/o,0,0,0],d[1]=[0,r,0,0],d[2]=[0,0,-(a+s)*i,-2*s*a*i],d[3]=[0,0,-1,0],d}calOrthogonal(t,o,s,a,n,i){if(t===o||s===a||n===i)throw new Error("Cannot set Orthogonality, because left === right or top === bottom or near === far.");const r=1/(o-t),d=1/(a-s),c=1/(i-n),f=new Matrix4;return f[0]=[2*r,0,0,-(o+t)*r],f[1]=[0,2*d,0,-(a+s)*d],f[2]=[0,0,-2*c,-(i+n)*c],f[3]=[0,0,0,1],f}}class Particle{constructor(){z(this,"camera");z(this,"pos",{x:0,y:0,z:0});z(this,"density",50);z(this,"color",[0,0,0,0]);z(this,"radius",2);z(this,"renderer");z(this,"list",[]);z(this,"needUpdate",!1);z(this,"ticker",new I);z(this,"originInfo",{});z(this,"threshold",{radius:2,color:.1,posX:.1,posY:.1,posZ:.1});this.ticker.add(()=>{this.updateParticleData.call(this)})}setPos(t,o,s){var a,n;return(n=(a=this.originInfo).pos)!=null||(a.pos={}),has(t)&&(this.pos.x=t,this.originInfo.pos.x=t),has(o)&&(this.pos.y=o,this.originInfo.pos.y=o),has(s)&&(this.pos.z=s,this.originInfo.pos.z=s),this.needUpdate=!0,this}setDensity(t){return this.density=t,this.originInfo.density=t,this.needUpdate=!0,this}setColor(t){return this.color=t,this.originInfo.color=t,this.needUpdate=!0,this}setRadius(t){return this.radius=t,this.originInfo.radius=t,this.needUpdate=!0,this}setThreshold(t){var o,s;(s=(o=this.originInfo).threshold)!=null||(o.threshold={});for(const[a,n]of Object.entries(t))this.threshold[a]=n,this.originInfo.threshold[a]=n;return this.needUpdate=!0,this}appendTo(t){t.addParticle(this)}remove(){var t;(t=this.renderer)==null||t.removeParticle(this)}update(){this.needUpdate=!0}generate(){const t=this.generateNewParticles(this.density);this.list=t}updateParticleData(){if(!(!this.needUpdate||this.list.length===0)){if(this.needUpdate=!1,this.list.length>this.density?this.list.splice(this.density):this.list.length<this.density&&this.list.push(...this.generateNewParticles(this.density-this.list.length)),has(this.originInfo.radius)&&this.radius!==this.originInfo.radius){const t=this.radius-this.originInfo.radius;this.list.forEach(o=>{o.r+=t})}if(has(this.originInfo.color)&&!core.same(this.color,this.originInfo.color)){const t=this.color[0]-this.originInfo.color[0],o=this.color[1]-this.originInfo.color[1],s=this.color[2]-this.originInfo.color[2],a=this.color[3]-this.originInfo.color[3];this.list.forEach(n=>{n.color[0]+=t,n.color[1]+=o,n.color[2]+=s,n.color[3]+=a})}if(has(this.originInfo.pos)&&!core.same(this.pos,this.originInfo.pos)){const t=this.pos.x-this.originInfo.pos.x,o=this.pos.y-this.originInfo.pos.y,s=this.pos.z-this.originInfo.pos.z;this.list.forEach(a=>{a.x+=t,a.y+=o,a.z+=s})}if(has(this.originInfo.threshold))for(const[t,o]of Object.entries(this.threshold)){const s=o,a=this.originInfo.threshold[t];if(a===s||!has(a))continue;const n=s/a;t==="posX"?this.list.forEach(i=>{i.x=(i.x-this.pos.x)*n+this.pos.x}):t==="posY"?this.list.forEach(i=>{i.y=(i.y-this.pos.y)*n+this.pos.y}):t==="posZ"?this.list.forEach(i=>{i.z=(i.z-this.pos.z)*n+this.pos.z}):t==="radius"?this.list.forEach(i=>{i.r=(i.r-this.radius)*n+this.radius}):this.list.forEach(i=>{i.color=i.color.map((r,d)=>(r-this.color[d])*n+this.color[d])})}this.render()}}generateNewParticles(t){const o=new Array(t),{posX:s,posY:a,posZ:n,radius:i,color:r}=this.threshold;for(let d=0;d<t;d++){const c={x:this.pos.x+(Math.random()-.5)*2*s,y:this.pos.y+(Math.random()-.5)*2*a,z:this.pos.z+(Math.random()-.5)*2*n,r:this.radius+(Math.random()-.5)*2*i,color:[0,0,0,0].map((f,p)=>this.color[p]+(Math.random()-.5)*2*r)};o[d]=c}return o}render(){var t;(t=this.renderer)==null||t.render(this)}}const vshader=`
    attribute vec4 position;
    attribute vec4 color;
    attribute vec2 radius;
    uniform mat4 camera;
    uniform mat4 projection;
    varying vec4 vColor;
    varying vec4 vPosition;
    varying float vRadius;

    void main() {
        vec4 p = projection * camera * position;
        gl_Position = p;
        vColor = color;
        vPosition = p;
        vRadius = radius.x;
        gl_PointSize = vRadius;
    }
`,fshader=`
    #ifdef GL_ES
        precision mediump float;
    #endif

    varying vec4 vColor;
    varying vec4 vPosition;
    varying float vRadius;

    void main() {
        vec2 position = gl_PointCoord.xy;
        if (distance(position, vec2(0.5)) > 0.5) {
            discard;
        } else {
            gl_FragColor = vColor;
        }
    }
`,me=class{constructor(t,o){z(this,"particleList",[]);z(this,"canvas",document.createElement("canvas"));z(this,"gl");z(this,"camera");z(this,"ratio",devicePixelRatio);z(this,"program");z(this,"buffer");z(this,"attribLocation",{});z(this,"uniformLocation",{});if(!isWebGLSupported)throw new Error("Your service or browser does not support webgl!");this.canvas.style.width=`${t}px`,this.canvas.style.height=`${o}px`,has(t)&&(this.canvas.width=t*devicePixelRatio),has(o)&&(this.canvas.height=o*devicePixelRatio),this.gl=this.canvas.getContext("webgl"),this.program=createProgram(this.gl,vshader,fshader),this.gl.clearColor(0,0,0,0),this.buffer=this.bindBuffer(),this.getGLVariblesLocation(),this.gl.enable(this.gl.BLEND),this.gl.enable(this.gl.DEPTH_TEST),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)}initCanvas(t,o){const s=devicePixelRatio;this.ratio=s,this.canvas.width=t*s,this.canvas.height=o*s}bindCamera(t){this.camera=t}unbindCamera(){this.camera=void 0}append(t){t.appendChild(this.canvas)}remove(){this.canvas.remove()}addParticle(t){this.particleList.push(t)}removeParticle(t){const o=this.particleList.findIndex(s=>s===t);o!==-1&&this.particleList.splice(o,1)}setBackground(t){this.gl.clearColor(...t)}render(t){const{position:o,color:s}=this.attribLocation,{camera:a}=this.uniformLocation;if(!has(o)||!has(s))throw new Error("Unexpected unset of attribute location");if(!has(a))throw new Error("Unexpected unset of uniform location");if(this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),!has(t))this.particleList.forEach(n=>this.renderOne(n));else{const n=typeof t=="number"?this.particleList[t]:t;this.renderOne(n)}}bindBuffer(){const t=this.gl.createBuffer();if(!t)throw this.notSupport();return this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t),t}updateOneParticleBufferData(t){const o=new Float32Array(t.map(s=>{const[a,n,i,r]=s.color;return[s.x,s.y,s.z,a,n,i,r,s.r,0]}).flat());return this.gl.bufferData(this.gl.ARRAY_BUFFER,o,this.gl.DYNAMIC_DRAW),o}getGLVariblesLocation(){me.attributes.forEach(t=>{this.attribLocation[t]=this.gl.getAttribLocation(this.program,t)}),me.uniforms.forEach(t=>{const o=this.gl.getUniformLocation(this.program,t);if(!o)throw new Error(`Cannot get the location of uniform '${t}'`);this.uniformLocation[t]=o})}renderOne(t){var l,u,h,m;const s=this.updateOneParticleBufferData(t.list).BYTES_PER_ELEMENT,{position:a,color:n,radius:i}=this.attribLocation,{camera:r,projection:d}=this.uniformLocation;this.gl.vertexAttribPointer(a,3,this.gl.FLOAT,!1,s*9,0),this.gl.vertexAttribPointer(n,4,this.gl.FLOAT,!1,s*9,s*3),this.gl.vertexAttribPointer(i,2,this.gl.FLOAT,!1,s*9,s*7),this.gl.enableVertexAttribArray(a),this.gl.enableVertexAttribArray(n),this.gl.enableVertexAttribArray(i);const c=new Matrix4,f=(u=(l=this.camera)==null?void 0:l.view.toWebGLFloat32Array())!=null?u:c.toWebGLFloat32Array(),p=(m=(h=this.camera)==null?void 0:h.projection.toWebGLFloat32Array())!=null?m:c.toWebGLFloat32Array();this.gl.uniformMatrix4fv(r,!1,f),this.gl.uniformMatrix4fv(d,!1,p),this.gl.drawArrays(this.gl.POINTS,0,t.list.length)}notSupport(){throw new Error("Your service or browser does not support webgl!")}};let Renderer=me;z(Renderer,"attributes",["position","color","radius"]),z(Renderer,"uniforms",["camera","projection"]);window.addEventListener("load",async()=>{const e=new Renderer(480*core.domStyle.scale,480*core.domStyle.scale),t=new Particle,o=new Camera;e.bindCamera(o),t.appendTo(e),e.append(core.dom.gameDraw),o.lookAt([1,1,5],[0,0,0],[0,1,0]),o.setPerspective(20,1,1,100),console.log(o.view,o.projection),t.setColor([.3,.6,.7,.7]),t.setRadius(3),t.setDensity(1e3),t.setThreshold({posX:.2,posY:.2,posZ:10,radius:0,color:0}),t.generate(),e.canvas.style.position="absolute",e.canvas.style.zIndex="160",e.render(),await S(5e3);const s=[1,1,5],a=B(1,1e3,[0,0]);let n=0;new I().add(()=>{o.lookAt(s,[0,0,0],[0,1,0]);const[i,r]=a(n/1e3/2e3);n++,s[0]=i,s[1]=r,e.render()})});createApp(App).mount("#root");createApp(App2).mount("#root2");export{__vite_legacy_guard};
